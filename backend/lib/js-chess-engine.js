!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("js-chess-engine",[],t):"object"==typeof exports?exports["js-chess-engine"]=t():e["js-chess-engine"]=t()}(this,(function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=199)}([function(e,t,r){"use strict";r.d(t,"k",(function(){return s})),r.d(t,"j",(function(){return u})),r.d(t,"a",(function(){return c})),r.d(t,"b",(function(){return l})),r.d(t,"o",(function(){return h})),r.d(t,"p",(function(){return f})),r.d(t,"l",(function(){return d})),r.d(t,"i",(function(){return p})),r.d(t,"d",(function(){return g})),r.d(t,"e",(function(){return m})),r.d(t,"c",(function(){return y})),r.d(t,"g",(function(){return v})),r.d(t,"f",(function(){return b})),r.d(t,"h",(function(){return w})),r.d(t,"n",(function(){return _})),r.d(t,"m",(function(){return E}));const n=new(r(1).b)("bytes/5.6.0");function i(e){return!!e.toHexString}function o(e){return e.slice||(e.slice=function(){const t=Array.prototype.slice.call(arguments);return o(new Uint8Array(Array.prototype.slice.apply(e,t)))}),e}function s(e){return d(e)&&!(e.length%2)||u(e)}function a(e){return"number"==typeof e&&e==e&&e%1==0}function u(e){if(null==e)return!1;if(e.constructor===Uint8Array)return!0;if("string"==typeof e)return!1;if(!a(e.length)||e.length<0)return!1;for(let t=0;t<e.length;t++){const r=e[t];if(!a(r)||r<0||r>=256)return!1}return!0}function c(e,t){if(t||(t={}),"number"==typeof e){n.checkSafeUint53(e,"invalid arrayify value");const t=[];for(;e;)t.unshift(255&e),e=parseInt(String(e/256));return 0===t.length&&t.push(0),o(new Uint8Array(t))}if(t.allowMissingPrefix&&"string"==typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),i(e)&&(e=e.toHexString()),d(e)){let r=e.substring(2);r.length%2&&("left"===t.hexPad?r="0x0"+r.substring(2):"right"===t.hexPad?r+="0":n.throwArgumentError("hex data is odd-length","value",e));const i=[];for(let e=0;e<r.length;e+=2)i.push(parseInt(r.substring(e,e+2),16));return o(new Uint8Array(i))}return u(e)?o(new Uint8Array(e)):n.throwArgumentError("invalid arrayify value","value",e)}function l(e){const t=e.map(e=>c(e)),r=t.reduce((e,t)=>e+t.length,0),n=new Uint8Array(r);return t.reduce((e,t)=>(n.set(t,e),e+t.length),0),o(n)}function h(e){let t=c(e);if(0===t.length)return t;let r=0;for(;r<t.length&&0===t[r];)r++;return r&&(t=t.slice(r)),t}function f(e,t){(e=c(e)).length>t&&n.throwArgumentError("value out of range","value",arguments[0]);const r=new Uint8Array(t);return r.set(e,t-e.length),o(r)}function d(e,t){return!("string"!=typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&(!t||e.length===2+2*t)}function p(e,t){if(t||(t={}),"number"==typeof e){n.checkSafeUint53(e,"invalid hexlify value");let t="";for(;e;)t="0123456789abcdef"[15&e]+t,e=Math.floor(e/16);return t.length?(t.length%2&&(t="0"+t),"0x"+t):"0x00"}if("bigint"==typeof e)return(e=e.toString(16)).length%2?"0x0"+e:"0x"+e;if(t.allowMissingPrefix&&"string"==typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),i(e))return e.toHexString();if(d(e))return e.length%2&&("left"===t.hexPad?e="0x0"+e.substring(2):"right"===t.hexPad?e+="0":n.throwArgumentError("hex data is odd-length","value",e)),e.toLowerCase();if(u(e)){let t="0x";for(let r=0;r<e.length;r++){let n=e[r];t+="0123456789abcdef"[(240&n)>>4]+"0123456789abcdef"[15&n]}return t}return n.throwArgumentError("invalid hexlify value","value",e)}function g(e){if("string"!=typeof e)e=p(e);else if(!d(e)||e.length%2)return null;return(e.length-2)/2}function m(e,t,r){return"string"!=typeof e?e=p(e):(!d(e)||e.length%2)&&n.throwArgumentError("invalid hexData","value",e),t=2+2*t,null!=r?"0x"+e.substring(t,2+2*r):"0x"+e.substring(t)}function y(e){let t="0x";return e.forEach(e=>{t+=p(e).substring(2)}),t}function v(e){const t=b(p(e,{hexPad:"left"}));return"0x"===t?"0x0":t}function b(e){"string"!=typeof e&&(e=p(e)),d(e)||n.throwArgumentError("invalid hex string","value",e),e=e.substring(2);let t=0;for(;t<e.length&&"0"===e[t];)t++;return"0x"+e.substring(t)}function w(e,t){for("string"!=typeof e?e=p(e):d(e)||n.throwArgumentError("invalid hex string","value",e),e.length>2*t+2&&n.throwArgumentError("value out of range","value",arguments[1]);e.length<2*t+2;)e="0x0"+e.substring(2);return e}function _(e){const t={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(s(e)){let r=c(e);64===r.length?(t.v=27+(r[32]>>7),r[32]&=127,t.r=p(r.slice(0,32)),t.s=p(r.slice(32,64))):65===r.length?(t.r=p(r.slice(0,32)),t.s=p(r.slice(32,64)),t.v=r[64]):n.throwArgumentError("invalid signature string","signature",e),t.v<27&&(0===t.v||1===t.v?t.v+=27:n.throwArgumentError("signature invalid v byte","signature",e)),t.recoveryParam=1-t.v%2,t.recoveryParam&&(r[32]|=128),t._vs=p(r.slice(32,64))}else{if(t.r=e.r,t.s=e.s,t.v=e.v,t.recoveryParam=e.recoveryParam,t._vs=e._vs,null!=t._vs){const r=f(c(t._vs),32);t._vs=p(r);const i=r[0]>=128?1:0;null==t.recoveryParam?t.recoveryParam=i:t.recoveryParam!==i&&n.throwArgumentError("signature recoveryParam mismatch _vs","signature",e),r[0]&=127;const o=p(r);null==t.s?t.s=o:t.s!==o&&n.throwArgumentError("signature v mismatch _vs","signature",e)}if(null==t.recoveryParam)null==t.v?n.throwArgumentError("signature missing v and recoveryParam","signature",e):0===t.v||1===t.v?t.recoveryParam=t.v:t.recoveryParam=1-t.v%2;else if(null==t.v)t.v=27+t.recoveryParam;else{const r=0===t.v||1===t.v?t.v:1-t.v%2;t.recoveryParam!==r&&n.throwArgumentError("signature recoveryParam mismatch v","signature",e)}null!=t.r&&d(t.r)?t.r=w(t.r,32):n.throwArgumentError("signature missing or invalid r","signature",e),null!=t.s&&d(t.s)?t.s=w(t.s,32):n.throwArgumentError("signature missing or invalid s","signature",e);const r=c(t.s);r[0]>=128&&n.throwArgumentError("signature s out of range","signature",e),t.recoveryParam&&(r[0]|=128);const i=p(r);t._vs&&(d(t._vs)||n.throwArgumentError("signature invalid _vs","signature",e),t._vs=w(t._vs,32)),null==t._vs?t._vs=i:t._vs!==i&&n.throwArgumentError("signature _vs mismatch v and s","signature",e)}return t.yParityAndS=t._vs,t.compact=t.r+t.yParityAndS.substring(2),t}function E(e){return p(l([(e=_(e)).r,e.s,e.recoveryParam?"0x1c":"0x1b"]))}},function(e,t,r){"use strict";r.d(t,"a",(function(){return l})),r.d(t,"b",(function(){return f}));let n=!1,i=!1;const o={debug:1,default:2,info:2,warning:3,error:4,off:5};let s=o.default,a=null;const u=function(){try{const e=[];if(["NFD","NFC","NFKD","NFKC"].forEach(t=>{try{if("test"!=="test".normalize(t))throw new Error("bad normalize")}catch(r){e.push(t)}}),e.length)throw new Error("missing "+e.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(e){return e.message}return null}();var c,l;!function(e){e.DEBUG="DEBUG",e.INFO="INFO",e.WARNING="WARNING",e.ERROR="ERROR",e.OFF="OFF"}(c||(c={})),function(e){e.UNKNOWN_ERROR="UNKNOWN_ERROR",e.NOT_IMPLEMENTED="NOT_IMPLEMENTED",e.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.TIMEOUT="TIMEOUT",e.BUFFER_OVERRUN="BUFFER_OVERRUN",e.NUMERIC_FAULT="NUMERIC_FAULT",e.MISSING_NEW="MISSING_NEW",e.INVALID_ARGUMENT="INVALID_ARGUMENT",e.MISSING_ARGUMENT="MISSING_ARGUMENT",e.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",e.CALL_EXCEPTION="CALL_EXCEPTION",e.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",e.NONCE_EXPIRED="NONCE_EXPIRED",e.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",e.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",e.TRANSACTION_REPLACED="TRANSACTION_REPLACED"}(l||(l={}));const h="0123456789abcdef";class f{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,t){const r=e.toLowerCase();null==o[r]&&this.throwArgumentError("invalid log level name","logLevel",e),s>o[r]||console.log.apply(console,t)}debug(...e){this._log(f.levels.DEBUG,e)}info(...e){this._log(f.levels.INFO,e)}warn(...e){this._log(f.levels.WARNING,e)}makeError(e,t,r){if(i)return this.makeError("censored error",t,{});t||(t=f.errors.UNKNOWN_ERROR),r||(r={});const n=[];Object.keys(r).forEach(e=>{const t=r[e];try{if(t instanceof Uint8Array){let r="";for(let e=0;e<t.length;e++)r+=h[t[e]>>4],r+=h[15&t[e]];n.push(e+"=Uint8Array(0x"+r+")")}else n.push(e+"="+JSON.stringify(t))}catch(t){n.push(e+"="+JSON.stringify(r[e].toString()))}}),n.push("code="+t),n.push("version="+this.version);const o=e;let s="";switch(t){case l.NUMERIC_FAULT:{s="NUMERIC_FAULT";const t=e;switch(t){case"overflow":case"underflow":case"division-by-zero":s+="-"+t;break;case"negative-power":case"negative-width":s+="-unsupported";break;case"unbound-bitwise-result":s+="-unbound-result"}break}case l.CALL_EXCEPTION:case l.INSUFFICIENT_FUNDS:case l.MISSING_NEW:case l.NONCE_EXPIRED:case l.REPLACEMENT_UNDERPRICED:case l.TRANSACTION_REPLACED:case l.UNPREDICTABLE_GAS_LIMIT:s=t}s&&(e+=" [ See: https://links.ethers.org/v5-errors-"+s+" ]"),n.length&&(e+=" ("+n.join(", ")+")");const a=new Error(e);return a.reason=o,a.code=t,Object.keys(r).forEach((function(e){a[e]=r[e]})),a}throwError(e,t,r){throw this.makeError(e,t,r)}throwArgumentError(e,t,r){return this.throwError(e,f.errors.INVALID_ARGUMENT,{argument:t,value:r})}assert(e,t,r,n){e||this.throwError(t,r,n)}assertArgument(e,t,r,n){e||this.throwArgumentError(t,r,n)}checkNormalize(e){null==e&&(e="platform missing String.prototype.normalize"),u&&this.throwError("platform missing String.prototype.normalize",f.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:u})}checkSafeUint53(e,t){"number"==typeof e&&(null==t&&(t="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(t,f.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,f.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,t,r){r=r?": "+r:"",e<t&&this.throwError("missing argument"+r,f.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),e>t&&this.throwError("too many arguments"+r,f.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}checkNew(e,t){e!==Object&&null!=e||this.throwError("missing new",f.errors.MISSING_NEW,{name:t.name})}checkAbstract(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",f.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):e!==Object&&null!=e||this.throwError("missing new",f.errors.MISSING_NEW,{name:t.name})}static globalLogger(){return a||(a=new f("logger/5.6.0")),a}static setCensorship(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",f.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),n){if(!e)return;this.globalLogger().throwError("error censorship permanent",f.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}i=!!e,n=!!t}static setLogLevel(e){const t=o[e.toLowerCase()];null!=t?s=t:f.globalLogger().warn("invalid log level - "+e)}static from(e){return new f(e)}}f.errors=l,f.levels=c},function(e,t,r){(function(e){!function(e,t){"use strict";function n(e,t){if(!e)throw new Error(t||"Assertion failed")}function i(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function o(e,t,r){if(o.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}var s;"object"==typeof e?e.exports=o:t.BN=o,o.BN=o,o.wordSize=26;try{s="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r(134).Buffer}catch(e){}function a(e,t){var r=e.charCodeAt(t);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function u(e,t,r){var n=a(e,r);return r-1>=t&&(n|=a(e,r-1)<<4),n}function c(e,t,r,n){for(var i=0,o=Math.min(e.length,r),s=t;s<o;s++){var a=e.charCodeAt(s)-48;i*=n,i+=a>=49?a-49+10:a>=17?a-17+10:a}return i}o.isBN=function(e){return e instanceof o||null!==e&&"object"==typeof e&&e.constructor.wordSize===o.wordSize&&Array.isArray(e.words)},o.max=function(e,t){return e.cmp(t)>0?e:t},o.min=function(e,t){return e.cmp(t)<0?e:t},o.prototype._init=function(e,t,r){if("number"==typeof e)return this._initNumber(e,t,r);if("object"==typeof e)return this._initArray(e,t,r);"hex"===t&&(t=16),n(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,r):(this._parseBase(e,t,i),"le"===r&&this._initArray(this.toArray(),t,r)))},o.prototype._initNumber=function(e,t,r){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(n(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),t,r)},o.prototype._initArray=function(e,t,r){if(n("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,s,a=0;if("be"===r)for(i=e.length-1,o=0;i>=0;i-=3)s=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===r)for(i=0,o=0;i<e.length;i+=3)s=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this.strip()},o.prototype._parseHex=function(e,t,r){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,o=0,s=0;if("be"===r)for(n=e.length-1;n>=t;n-=2)i=u(e,t,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;else for(n=(e.length-t)%2==0?t+1:t;n<e.length;n+=2)i=u(e,t,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;this.strip()},o.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=t)n++;n--,i=i/t|0;for(var o=e.length-r,s=o%n,a=Math.min(o,o-s)+r,u=0,l=r;l<a;l+=n)u=c(e,l,l+n,t),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==s){var h=1;for(u=c(e,l,e.length,t),l=0;l<s;l++)h*=t;this.imuln(h),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},o.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},o.prototype.clone=function(){var e=new o(null);return this.copy(e),e},o.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var l=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],h=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function d(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var i=0|e.words[0],o=0|t.words[0],s=i*o,a=67108863&s,u=s/67108864|0;r.words[0]=a;for(var c=1;c<n;c++){for(var l=u>>>26,h=67108863&u,f=Math.min(c,t.length-1),d=Math.max(0,c-e.length+1);d<=f;d++){var p=c-d|0;l+=(s=(i=0|e.words[p])*(o=0|t.words[d])+h)/67108864|0,h=67108863&s}r.words[c]=0|h,u=0|l}return 0!==u?r.words[c]=0|u:r.length--,r.strip()}o.prototype.toString=function(e,t){var r;if(t=0|t||1,16===(e=e||10)||"hex"===e){r="";for(var i=0,o=0,s=0;s<this.length;s++){var a=this.words[s],u=(16777215&(a<<i|o)).toString(16);r=0!==(o=a>>>24-i&16777215)||s!==this.length-1?l[6-u.length]+u+r:u+r,(i+=2)>=26&&(i-=26,s--)}for(0!==o&&(r=o.toString(16)+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(e===(0|e)&&e>=2&&e<=36){var c=h[e],d=f[e];r="";var p=this.clone();for(p.negative=0;!p.isZero();){var g=p.modn(d).toString(e);r=(p=p.idivn(d)).isZero()?g+r:l[c-g.length]+g+r}for(this.isZero()&&(r="0"+r);r.length%t!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(e,t){return n(void 0!==s),this.toArrayLike(s,e,t)},o.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},o.prototype.toArrayLike=function(e,t,r){var i=this.byteLength(),o=r||Math.max(1,i);n(i<=o,"byte array longer than desired length"),n(o>0,"Requested array length <= 0"),this.strip();var s,a,u="le"===t,c=new e(o),l=this.clone();if(u){for(a=0;!l.isZero();a++)s=l.andln(255),l.iushrn(8),c[a]=s;for(;a<o;a++)c[a]=0}else{for(a=0;a<o-i;a++)c[a]=0;for(a=0;!l.isZero();a++)s=l.andln(255),l.iushrn(8),c[o-a-1]=s}return c},Math.clz32?o.prototype._countBits=function(e){return 32-Math.clz32(e)}:o.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},o.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 0==(8191&t)&&(r+=13,t>>>=13),0==(127&t)&&(r+=7,t>>>=7),0==(15&t)&&(r+=4,t>>>=4),0==(3&t)&&(r+=2,t>>>=2),0==(1&t)&&r++,r},o.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},o.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},o.prototype.ior=function(e){return n(0==(this.negative|e.negative)),this.iuor(e)},o.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},o.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},o.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this.strip()},o.prototype.iand=function(e){return n(0==(this.negative|e.negative)),this.iuand(e)},o.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},o.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},o.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this.strip()},o.prototype.ixor=function(e){return n(0==(this.negative|e.negative)),this.iuxor(e)},o.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},o.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},o.prototype.inotn=function(e){n("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),r=e%26;this._expand(t),r>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this.strip()},o.prototype.notn=function(e){return this.clone().inotn(e)},o.prototype.setn=function(e,t){n("number"==typeof e&&e>=0);var r=e/26|0,i=e%26;return this._expand(r+1),this.words[r]=t?this.words[r]|1<<i:this.words[r]&~(1<<i),this.strip()},o.prototype.iadd=function(e){var t,r,n;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this);for(var i=0,o=0;o<n.length;o++)t=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&t,i=t>>>26;for(;0!==i&&o<r.length;o++)t=(0|r.words[o])+i,this.words[o]=67108863&t,i=t>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},o.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,n,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=e):(r=e,n=this);for(var o=0,s=0;s<n.length;s++)o=(t=(0|r.words[s])-(0|n.words[s])+o)>>26,this.words[s]=67108863&t;for(;0!==o&&s<r.length;s++)o=(t=(0|r.words[s])+o)>>26,this.words[s]=67108863&t;if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(e){return this.clone().isub(e)};var p=function(e,t,r){var n,i,o,s=e.words,a=t.words,u=r.words,c=0,l=0|s[0],h=8191&l,f=l>>>13,d=0|s[1],p=8191&d,g=d>>>13,m=0|s[2],y=8191&m,v=m>>>13,b=0|s[3],w=8191&b,_=b>>>13,E=0|s[4],A=8191&E,P=E>>>13,O=0|s[5],S=8191&O,C=O>>>13,k=0|s[6],N=8191&k,T=k>>>13,I=0|s[7],R=8191&I,x=I>>>13,M=0|s[8],j=8191&M,D=M>>>13,B=0|s[9],L=8191&B,F=B>>>13,U=0|a[0],q=8191&U,W=U>>>13,G=0|a[1],H=8191&G,K=G>>>13,z=0|a[2],V=8191&z,J=z>>>13,$=0|a[3],Y=8191&$,Q=$>>>13,X=0|a[4],Z=8191&X,ee=X>>>13,te=0|a[5],re=8191&te,ne=te>>>13,ie=0|a[6],oe=8191&ie,se=ie>>>13,ae=0|a[7],ue=8191&ae,ce=ae>>>13,le=0|a[8],he=8191&le,fe=le>>>13,de=0|a[9],pe=8191&de,ge=de>>>13;r.negative=e.negative^t.negative,r.length=19;var me=(c+(n=Math.imul(h,q))|0)+((8191&(i=(i=Math.imul(h,W))+Math.imul(f,q)|0))<<13)|0;c=((o=Math.imul(f,W))+(i>>>13)|0)+(me>>>26)|0,me&=67108863,n=Math.imul(p,q),i=(i=Math.imul(p,W))+Math.imul(g,q)|0,o=Math.imul(g,W);var ye=(c+(n=n+Math.imul(h,H)|0)|0)+((8191&(i=(i=i+Math.imul(h,K)|0)+Math.imul(f,H)|0))<<13)|0;c=((o=o+Math.imul(f,K)|0)+(i>>>13)|0)+(ye>>>26)|0,ye&=67108863,n=Math.imul(y,q),i=(i=Math.imul(y,W))+Math.imul(v,q)|0,o=Math.imul(v,W),n=n+Math.imul(p,H)|0,i=(i=i+Math.imul(p,K)|0)+Math.imul(g,H)|0,o=o+Math.imul(g,K)|0;var ve=(c+(n=n+Math.imul(h,V)|0)|0)+((8191&(i=(i=i+Math.imul(h,J)|0)+Math.imul(f,V)|0))<<13)|0;c=((o=o+Math.imul(f,J)|0)+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,n=Math.imul(w,q),i=(i=Math.imul(w,W))+Math.imul(_,q)|0,o=Math.imul(_,W),n=n+Math.imul(y,H)|0,i=(i=i+Math.imul(y,K)|0)+Math.imul(v,H)|0,o=o+Math.imul(v,K)|0,n=n+Math.imul(p,V)|0,i=(i=i+Math.imul(p,J)|0)+Math.imul(g,V)|0,o=o+Math.imul(g,J)|0;var be=(c+(n=n+Math.imul(h,Y)|0)|0)+((8191&(i=(i=i+Math.imul(h,Q)|0)+Math.imul(f,Y)|0))<<13)|0;c=((o=o+Math.imul(f,Q)|0)+(i>>>13)|0)+(be>>>26)|0,be&=67108863,n=Math.imul(A,q),i=(i=Math.imul(A,W))+Math.imul(P,q)|0,o=Math.imul(P,W),n=n+Math.imul(w,H)|0,i=(i=i+Math.imul(w,K)|0)+Math.imul(_,H)|0,o=o+Math.imul(_,K)|0,n=n+Math.imul(y,V)|0,i=(i=i+Math.imul(y,J)|0)+Math.imul(v,V)|0,o=o+Math.imul(v,J)|0,n=n+Math.imul(p,Y)|0,i=(i=i+Math.imul(p,Q)|0)+Math.imul(g,Y)|0,o=o+Math.imul(g,Q)|0;var we=(c+(n=n+Math.imul(h,Z)|0)|0)+((8191&(i=(i=i+Math.imul(h,ee)|0)+Math.imul(f,Z)|0))<<13)|0;c=((o=o+Math.imul(f,ee)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,n=Math.imul(S,q),i=(i=Math.imul(S,W))+Math.imul(C,q)|0,o=Math.imul(C,W),n=n+Math.imul(A,H)|0,i=(i=i+Math.imul(A,K)|0)+Math.imul(P,H)|0,o=o+Math.imul(P,K)|0,n=n+Math.imul(w,V)|0,i=(i=i+Math.imul(w,J)|0)+Math.imul(_,V)|0,o=o+Math.imul(_,J)|0,n=n+Math.imul(y,Y)|0,i=(i=i+Math.imul(y,Q)|0)+Math.imul(v,Y)|0,o=o+Math.imul(v,Q)|0,n=n+Math.imul(p,Z)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(g,Z)|0,o=o+Math.imul(g,ee)|0;var _e=(c+(n=n+Math.imul(h,re)|0)|0)+((8191&(i=(i=i+Math.imul(h,ne)|0)+Math.imul(f,re)|0))<<13)|0;c=((o=o+Math.imul(f,ne)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,n=Math.imul(N,q),i=(i=Math.imul(N,W))+Math.imul(T,q)|0,o=Math.imul(T,W),n=n+Math.imul(S,H)|0,i=(i=i+Math.imul(S,K)|0)+Math.imul(C,H)|0,o=o+Math.imul(C,K)|0,n=n+Math.imul(A,V)|0,i=(i=i+Math.imul(A,J)|0)+Math.imul(P,V)|0,o=o+Math.imul(P,J)|0,n=n+Math.imul(w,Y)|0,i=(i=i+Math.imul(w,Q)|0)+Math.imul(_,Y)|0,o=o+Math.imul(_,Q)|0,n=n+Math.imul(y,Z)|0,i=(i=i+Math.imul(y,ee)|0)+Math.imul(v,Z)|0,o=o+Math.imul(v,ee)|0,n=n+Math.imul(p,re)|0,i=(i=i+Math.imul(p,ne)|0)+Math.imul(g,re)|0,o=o+Math.imul(g,ne)|0;var Ee=(c+(n=n+Math.imul(h,oe)|0)|0)+((8191&(i=(i=i+Math.imul(h,se)|0)+Math.imul(f,oe)|0))<<13)|0;c=((o=o+Math.imul(f,se)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,n=Math.imul(R,q),i=(i=Math.imul(R,W))+Math.imul(x,q)|0,o=Math.imul(x,W),n=n+Math.imul(N,H)|0,i=(i=i+Math.imul(N,K)|0)+Math.imul(T,H)|0,o=o+Math.imul(T,K)|0,n=n+Math.imul(S,V)|0,i=(i=i+Math.imul(S,J)|0)+Math.imul(C,V)|0,o=o+Math.imul(C,J)|0,n=n+Math.imul(A,Y)|0,i=(i=i+Math.imul(A,Q)|0)+Math.imul(P,Y)|0,o=o+Math.imul(P,Q)|0,n=n+Math.imul(w,Z)|0,i=(i=i+Math.imul(w,ee)|0)+Math.imul(_,Z)|0,o=o+Math.imul(_,ee)|0,n=n+Math.imul(y,re)|0,i=(i=i+Math.imul(y,ne)|0)+Math.imul(v,re)|0,o=o+Math.imul(v,ne)|0,n=n+Math.imul(p,oe)|0,i=(i=i+Math.imul(p,se)|0)+Math.imul(g,oe)|0,o=o+Math.imul(g,se)|0;var Ae=(c+(n=n+Math.imul(h,ue)|0)|0)+((8191&(i=(i=i+Math.imul(h,ce)|0)+Math.imul(f,ue)|0))<<13)|0;c=((o=o+Math.imul(f,ce)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,n=Math.imul(j,q),i=(i=Math.imul(j,W))+Math.imul(D,q)|0,o=Math.imul(D,W),n=n+Math.imul(R,H)|0,i=(i=i+Math.imul(R,K)|0)+Math.imul(x,H)|0,o=o+Math.imul(x,K)|0,n=n+Math.imul(N,V)|0,i=(i=i+Math.imul(N,J)|0)+Math.imul(T,V)|0,o=o+Math.imul(T,J)|0,n=n+Math.imul(S,Y)|0,i=(i=i+Math.imul(S,Q)|0)+Math.imul(C,Y)|0,o=o+Math.imul(C,Q)|0,n=n+Math.imul(A,Z)|0,i=(i=i+Math.imul(A,ee)|0)+Math.imul(P,Z)|0,o=o+Math.imul(P,ee)|0,n=n+Math.imul(w,re)|0,i=(i=i+Math.imul(w,ne)|0)+Math.imul(_,re)|0,o=o+Math.imul(_,ne)|0,n=n+Math.imul(y,oe)|0,i=(i=i+Math.imul(y,se)|0)+Math.imul(v,oe)|0,o=o+Math.imul(v,se)|0,n=n+Math.imul(p,ue)|0,i=(i=i+Math.imul(p,ce)|0)+Math.imul(g,ue)|0,o=o+Math.imul(g,ce)|0;var Pe=(c+(n=n+Math.imul(h,he)|0)|0)+((8191&(i=(i=i+Math.imul(h,fe)|0)+Math.imul(f,he)|0))<<13)|0;c=((o=o+Math.imul(f,fe)|0)+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,n=Math.imul(L,q),i=(i=Math.imul(L,W))+Math.imul(F,q)|0,o=Math.imul(F,W),n=n+Math.imul(j,H)|0,i=(i=i+Math.imul(j,K)|0)+Math.imul(D,H)|0,o=o+Math.imul(D,K)|0,n=n+Math.imul(R,V)|0,i=(i=i+Math.imul(R,J)|0)+Math.imul(x,V)|0,o=o+Math.imul(x,J)|0,n=n+Math.imul(N,Y)|0,i=(i=i+Math.imul(N,Q)|0)+Math.imul(T,Y)|0,o=o+Math.imul(T,Q)|0,n=n+Math.imul(S,Z)|0,i=(i=i+Math.imul(S,ee)|0)+Math.imul(C,Z)|0,o=o+Math.imul(C,ee)|0,n=n+Math.imul(A,re)|0,i=(i=i+Math.imul(A,ne)|0)+Math.imul(P,re)|0,o=o+Math.imul(P,ne)|0,n=n+Math.imul(w,oe)|0,i=(i=i+Math.imul(w,se)|0)+Math.imul(_,oe)|0,o=o+Math.imul(_,se)|0,n=n+Math.imul(y,ue)|0,i=(i=i+Math.imul(y,ce)|0)+Math.imul(v,ue)|0,o=o+Math.imul(v,ce)|0,n=n+Math.imul(p,he)|0,i=(i=i+Math.imul(p,fe)|0)+Math.imul(g,he)|0,o=o+Math.imul(g,fe)|0;var Oe=(c+(n=n+Math.imul(h,pe)|0)|0)+((8191&(i=(i=i+Math.imul(h,ge)|0)+Math.imul(f,pe)|0))<<13)|0;c=((o=o+Math.imul(f,ge)|0)+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,n=Math.imul(L,H),i=(i=Math.imul(L,K))+Math.imul(F,H)|0,o=Math.imul(F,K),n=n+Math.imul(j,V)|0,i=(i=i+Math.imul(j,J)|0)+Math.imul(D,V)|0,o=o+Math.imul(D,J)|0,n=n+Math.imul(R,Y)|0,i=(i=i+Math.imul(R,Q)|0)+Math.imul(x,Y)|0,o=o+Math.imul(x,Q)|0,n=n+Math.imul(N,Z)|0,i=(i=i+Math.imul(N,ee)|0)+Math.imul(T,Z)|0,o=o+Math.imul(T,ee)|0,n=n+Math.imul(S,re)|0,i=(i=i+Math.imul(S,ne)|0)+Math.imul(C,re)|0,o=o+Math.imul(C,ne)|0,n=n+Math.imul(A,oe)|0,i=(i=i+Math.imul(A,se)|0)+Math.imul(P,oe)|0,o=o+Math.imul(P,se)|0,n=n+Math.imul(w,ue)|0,i=(i=i+Math.imul(w,ce)|0)+Math.imul(_,ue)|0,o=o+Math.imul(_,ce)|0,n=n+Math.imul(y,he)|0,i=(i=i+Math.imul(y,fe)|0)+Math.imul(v,he)|0,o=o+Math.imul(v,fe)|0;var Se=(c+(n=n+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,ge)|0)+Math.imul(g,pe)|0))<<13)|0;c=((o=o+Math.imul(g,ge)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,n=Math.imul(L,V),i=(i=Math.imul(L,J))+Math.imul(F,V)|0,o=Math.imul(F,J),n=n+Math.imul(j,Y)|0,i=(i=i+Math.imul(j,Q)|0)+Math.imul(D,Y)|0,o=o+Math.imul(D,Q)|0,n=n+Math.imul(R,Z)|0,i=(i=i+Math.imul(R,ee)|0)+Math.imul(x,Z)|0,o=o+Math.imul(x,ee)|0,n=n+Math.imul(N,re)|0,i=(i=i+Math.imul(N,ne)|0)+Math.imul(T,re)|0,o=o+Math.imul(T,ne)|0,n=n+Math.imul(S,oe)|0,i=(i=i+Math.imul(S,se)|0)+Math.imul(C,oe)|0,o=o+Math.imul(C,se)|0,n=n+Math.imul(A,ue)|0,i=(i=i+Math.imul(A,ce)|0)+Math.imul(P,ue)|0,o=o+Math.imul(P,ce)|0,n=n+Math.imul(w,he)|0,i=(i=i+Math.imul(w,fe)|0)+Math.imul(_,he)|0,o=o+Math.imul(_,fe)|0;var Ce=(c+(n=n+Math.imul(y,pe)|0)|0)+((8191&(i=(i=i+Math.imul(y,ge)|0)+Math.imul(v,pe)|0))<<13)|0;c=((o=o+Math.imul(v,ge)|0)+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,n=Math.imul(L,Y),i=(i=Math.imul(L,Q))+Math.imul(F,Y)|0,o=Math.imul(F,Q),n=n+Math.imul(j,Z)|0,i=(i=i+Math.imul(j,ee)|0)+Math.imul(D,Z)|0,o=o+Math.imul(D,ee)|0,n=n+Math.imul(R,re)|0,i=(i=i+Math.imul(R,ne)|0)+Math.imul(x,re)|0,o=o+Math.imul(x,ne)|0,n=n+Math.imul(N,oe)|0,i=(i=i+Math.imul(N,se)|0)+Math.imul(T,oe)|0,o=o+Math.imul(T,se)|0,n=n+Math.imul(S,ue)|0,i=(i=i+Math.imul(S,ce)|0)+Math.imul(C,ue)|0,o=o+Math.imul(C,ce)|0,n=n+Math.imul(A,he)|0,i=(i=i+Math.imul(A,fe)|0)+Math.imul(P,he)|0,o=o+Math.imul(P,fe)|0;var ke=(c+(n=n+Math.imul(w,pe)|0)|0)+((8191&(i=(i=i+Math.imul(w,ge)|0)+Math.imul(_,pe)|0))<<13)|0;c=((o=o+Math.imul(_,ge)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,n=Math.imul(L,Z),i=(i=Math.imul(L,ee))+Math.imul(F,Z)|0,o=Math.imul(F,ee),n=n+Math.imul(j,re)|0,i=(i=i+Math.imul(j,ne)|0)+Math.imul(D,re)|0,o=o+Math.imul(D,ne)|0,n=n+Math.imul(R,oe)|0,i=(i=i+Math.imul(R,se)|0)+Math.imul(x,oe)|0,o=o+Math.imul(x,se)|0,n=n+Math.imul(N,ue)|0,i=(i=i+Math.imul(N,ce)|0)+Math.imul(T,ue)|0,o=o+Math.imul(T,ce)|0,n=n+Math.imul(S,he)|0,i=(i=i+Math.imul(S,fe)|0)+Math.imul(C,he)|0,o=o+Math.imul(C,fe)|0;var Ne=(c+(n=n+Math.imul(A,pe)|0)|0)+((8191&(i=(i=i+Math.imul(A,ge)|0)+Math.imul(P,pe)|0))<<13)|0;c=((o=o+Math.imul(P,ge)|0)+(i>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,n=Math.imul(L,re),i=(i=Math.imul(L,ne))+Math.imul(F,re)|0,o=Math.imul(F,ne),n=n+Math.imul(j,oe)|0,i=(i=i+Math.imul(j,se)|0)+Math.imul(D,oe)|0,o=o+Math.imul(D,se)|0,n=n+Math.imul(R,ue)|0,i=(i=i+Math.imul(R,ce)|0)+Math.imul(x,ue)|0,o=o+Math.imul(x,ce)|0,n=n+Math.imul(N,he)|0,i=(i=i+Math.imul(N,fe)|0)+Math.imul(T,he)|0,o=o+Math.imul(T,fe)|0;var Te=(c+(n=n+Math.imul(S,pe)|0)|0)+((8191&(i=(i=i+Math.imul(S,ge)|0)+Math.imul(C,pe)|0))<<13)|0;c=((o=o+Math.imul(C,ge)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,n=Math.imul(L,oe),i=(i=Math.imul(L,se))+Math.imul(F,oe)|0,o=Math.imul(F,se),n=n+Math.imul(j,ue)|0,i=(i=i+Math.imul(j,ce)|0)+Math.imul(D,ue)|0,o=o+Math.imul(D,ce)|0,n=n+Math.imul(R,he)|0,i=(i=i+Math.imul(R,fe)|0)+Math.imul(x,he)|0,o=o+Math.imul(x,fe)|0;var Ie=(c+(n=n+Math.imul(N,pe)|0)|0)+((8191&(i=(i=i+Math.imul(N,ge)|0)+Math.imul(T,pe)|0))<<13)|0;c=((o=o+Math.imul(T,ge)|0)+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,n=Math.imul(L,ue),i=(i=Math.imul(L,ce))+Math.imul(F,ue)|0,o=Math.imul(F,ce),n=n+Math.imul(j,he)|0,i=(i=i+Math.imul(j,fe)|0)+Math.imul(D,he)|0,o=o+Math.imul(D,fe)|0;var Re=(c+(n=n+Math.imul(R,pe)|0)|0)+((8191&(i=(i=i+Math.imul(R,ge)|0)+Math.imul(x,pe)|0))<<13)|0;c=((o=o+Math.imul(x,ge)|0)+(i>>>13)|0)+(Re>>>26)|0,Re&=67108863,n=Math.imul(L,he),i=(i=Math.imul(L,fe))+Math.imul(F,he)|0,o=Math.imul(F,fe);var xe=(c+(n=n+Math.imul(j,pe)|0)|0)+((8191&(i=(i=i+Math.imul(j,ge)|0)+Math.imul(D,pe)|0))<<13)|0;c=((o=o+Math.imul(D,ge)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863;var Me=(c+(n=Math.imul(L,pe))|0)+((8191&(i=(i=Math.imul(L,ge))+Math.imul(F,pe)|0))<<13)|0;return c=((o=Math.imul(F,ge))+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,u[0]=me,u[1]=ye,u[2]=ve,u[3]=be,u[4]=we,u[5]=_e,u[6]=Ee,u[7]=Ae,u[8]=Pe,u[9]=Oe,u[10]=Se,u[11]=Ce,u[12]=ke,u[13]=Ne,u[14]=Te,u[15]=Ie,u[16]=Re,u[17]=xe,u[18]=Me,0!==c&&(u[19]=c,r.length++),r};function g(e,t,r){return(new m).mulp(e,t,r)}function m(e,t){this.x=e,this.y=t}Math.imul||(p=d),o.prototype.mulTo=function(e,t){var r=this.length+e.length;return 10===this.length&&10===e.length?p(this,e,t):r<63?d(this,e,t):r<1024?function(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var s=i;i=0;for(var a=67108863&n,u=Math.min(o,t.length-1),c=Math.max(0,o-e.length+1);c<=u;c++){var l=o-c,h=(0|e.words[l])*(0|t.words[c]),f=67108863&h;a=67108863&(f=f+a|0),i+=(s=(s=s+(h/67108864|0)|0)+(f>>>26)|0)>>>26,s&=67108863}r.words[o]=a,n=s,s=i}return 0!==n?r.words[o]=n:r.length--,r.strip()}(this,e,t):g(this,e,t)},m.prototype.makeRBT=function(e){for(var t=new Array(e),r=o.prototype._countBits(e)-1,n=0;n<e;n++)t[n]=this.revBin(n,r,e);return t},m.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var n=0,i=0;i<t;i++)n|=(1&e)<<t-i-1,e>>=1;return n},m.prototype.permute=function(e,t,r,n,i,o){for(var s=0;s<o;s++)n[s]=t[e[s]],i[s]=r[e[s]]},m.prototype.transform=function(e,t,r,n,i,o){this.permute(o,e,t,r,n,i);for(var s=1;s<i;s<<=1)for(var a=s<<1,u=Math.cos(2*Math.PI/a),c=Math.sin(2*Math.PI/a),l=0;l<i;l+=a)for(var h=u,f=c,d=0;d<s;d++){var p=r[l+d],g=n[l+d],m=r[l+d+s],y=n[l+d+s],v=h*m-f*y;y=h*y+f*m,m=v,r[l+d]=p+m,n[l+d]=g+y,r[l+d+s]=p-m,n[l+d+s]=g-y,d!==a&&(v=u*h-c*f,f=u*f+c*h,h=v)}},m.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},m.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=e[n];e[n]=e[r-n-1],e[r-n-1]=i,i=t[n],t[n]=-t[r-n-1],t[r-n-1]=-i}},m.prototype.normalize13b=function(e,t){for(var r=0,n=0;n<t/2;n++){var i=8192*Math.round(e[2*n+1]/t)+Math.round(e[2*n]/t)+r;e[n]=67108863&i,r=i<67108864?0:i/67108864|0}return e},m.prototype.convert13b=function(e,t,r,i){for(var o=0,s=0;s<t;s++)o+=0|e[s],r[2*s]=8191&o,o>>>=13,r[2*s+1]=8191&o,o>>>=13;for(s=2*t;s<i;++s)r[s]=0;n(0===o),n(0==(-8192&o))},m.prototype.stub=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=0;return t},m.prototype.mulp=function(e,t,r){var n=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(n),o=this.stub(n),s=new Array(n),a=new Array(n),u=new Array(n),c=new Array(n),l=new Array(n),h=new Array(n),f=r.words;f.length=n,this.convert13b(e.words,e.length,s,n),this.convert13b(t.words,t.length,c,n),this.transform(s,o,a,u,n,i),this.transform(c,o,l,h,n,i);for(var d=0;d<n;d++){var p=a[d]*l[d]-u[d]*h[d];u[d]=a[d]*h[d]+u[d]*l[d],a[d]=p}return this.conjugate(a,u,n),this.transform(a,u,f,o,n,i),this.conjugate(f,o,n),this.normalize13b(f,n),r.negative=e.negative^t.negative,r.length=e.length+t.length,r.strip()},o.prototype.mul=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},o.prototype.mulf=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),g(this,e,t)},o.prototype.imul=function(e){return this.clone().mulTo(e,this)},o.prototype.imuln=function(e){n("number"==typeof e),n(e<67108864);for(var t=0,r=0;r<this.length;r++){var i=(0|this.words[r])*e,o=(67108863&i)+(67108863&t);t>>=26,t+=i/67108864|0,t+=o>>>26,this.words[r]=67108863&o}return 0!==t&&(this.words[r]=t,this.length++),this},o.prototype.muln=function(e){return this.clone().imuln(e)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var n=r/26|0,i=r%26;t[r]=(e.words[n]&1<<i)>>>i}return t}(e);if(0===t.length)return new o(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var i=r.sqr();n<t.length;n++,i=i.sqr())0!==t[n]&&(r=r.mul(i));return r},o.prototype.iushln=function(e){n("number"==typeof e&&e>=0);var t,r=e%26,i=(e-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var s=0;for(t=0;t<this.length;t++){var a=this.words[t]&o,u=(0|this.words[t])-a<<r;this.words[t]=u|s,s=a>>>26-r}s&&(this.words[t]=s,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this.strip()},o.prototype.ishln=function(e){return n(0===this.negative),this.iushln(e)},o.prototype.iushrn=function(e,t,r){var i;n("number"==typeof e&&e>=0),i=t?(t-t%26)/26:0;var o=e%26,s=Math.min((e-o)/26,this.length),a=67108863^67108863>>>o<<o,u=r;if(i-=s,i=Math.max(0,i),u){for(var c=0;c<s;c++)u.words[c]=this.words[c];u.length=s}if(0===s);else if(this.length>s)for(this.length-=s,c=0;c<this.length;c++)this.words[c]=this.words[c+s];else this.words[0]=0,this.length=1;var l=0;for(c=this.length-1;c>=0&&(0!==l||c>=i);c--){var h=0|this.words[c];this.words[c]=l<<26-o|h>>>o,l=h&a}return u&&0!==l&&(u.words[u.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(e,t,r){return n(0===this.negative),this.iushrn(e,t,r)},o.prototype.shln=function(e){return this.clone().ishln(e)},o.prototype.ushln=function(e){return this.clone().iushln(e)},o.prototype.shrn=function(e){return this.clone().ishrn(e)},o.prototype.ushrn=function(e){return this.clone().iushrn(e)},o.prototype.testn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26,i=1<<t;return!(this.length<=r)&&!!(this.words[r]&i)},o.prototype.imaskn=function(e){n("number"==typeof e&&e>=0);var t=e%26,r=(e-t)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==t&&r++,this.length=Math.min(r,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this.strip()},o.prototype.maskn=function(e){return this.clone().imaskn(e)},o.prototype.iaddn=function(e){return n("number"==typeof e),n(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},o.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},o.prototype.isubn=function(e){if(n("number"==typeof e),n(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},o.prototype.addn=function(e){return this.clone().iaddn(e)},o.prototype.subn=function(e){return this.clone().isubn(e)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(e,t,r){var i,o,s=e.length+r;this._expand(s);var a=0;for(i=0;i<e.length;i++){o=(0|this.words[i+r])+a;var u=(0|e.words[i])*t;a=((o-=67108863&u)>>26)-(u/67108864|0),this.words[i+r]=67108863&o}for(;i<this.length-r;i++)a=(o=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&o;if(0===a)return this.strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(o=-(0|this.words[i])+a)>>26,this.words[i]=67108863&o;return this.negative=1,this.strip()},o.prototype._wordDiv=function(e,t){var r=(this.length,e.length),n=this.clone(),i=e,s=0|i.words[i.length-1];0!==(r=26-this._countBits(s))&&(i=i.ushln(r),n.iushln(r),s=0|i.words[i.length-1]);var a,u=n.length-i.length;if("mod"!==t){(a=new o(null)).length=u+1,a.words=new Array(a.length);for(var c=0;c<a.length;c++)a.words[c]=0}var l=n.clone()._ishlnsubmul(i,1,u);0===l.negative&&(n=l,a&&(a.words[u]=1));for(var h=u-1;h>=0;h--){var f=67108864*(0|n.words[i.length+h])+(0|n.words[i.length+h-1]);for(f=Math.min(f/s|0,67108863),n._ishlnsubmul(i,f,h);0!==n.negative;)f--,n.negative=0,n._ishlnsubmul(i,1,h),n.isZero()||(n.negative^=1);a&&(a.words[h]=f)}return a&&a.strip(),n.strip(),"div"!==t&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},o.prototype.divmod=function(e,t,r){return n(!e.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===e.negative?(a=this.neg().divmod(e,t),"mod"!==t&&(i=a.div.neg()),"div"!==t&&(s=a.mod.neg(),r&&0!==s.negative&&s.iadd(e)),{div:i,mod:s}):0===this.negative&&0!==e.negative?(a=this.divmod(e.neg(),t),"mod"!==t&&(i=a.div.neg()),{div:i,mod:a.mod}):0!=(this.negative&e.negative)?(a=this.neg().divmod(e.neg(),t),"div"!==t&&(s=a.mod.neg(),r&&0!==s.negative&&s.isub(e)),{div:a.div,mod:s}):e.length>this.length||this.cmp(e)<0?{div:new o(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new o(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new o(this.modn(e.words[0]))}:this._wordDiv(e,t);var i,s,a},o.prototype.div=function(e){return this.divmod(e,"div",!1).div},o.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},o.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},o.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),i=e.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},o.prototype.modn=function(e){n(e<=67108863);for(var t=(1<<26)%e,r=0,i=this.length-1;i>=0;i--)r=(t*r+(0|this.words[i]))%e;return r},o.prototype.idivn=function(e){n(e<=67108863);for(var t=0,r=this.length-1;r>=0;r--){var i=(0|this.words[r])+67108864*t;this.words[r]=i/e|0,t=i%e}return this.strip()},o.prototype.divn=function(e){return this.clone().idivn(e)},o.prototype.egcd=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new o(1),s=new o(0),a=new o(0),u=new o(1),c=0;t.isEven()&&r.isEven();)t.iushrn(1),r.iushrn(1),++c;for(var l=r.clone(),h=t.clone();!t.isZero();){for(var f=0,d=1;0==(t.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(t.iushrn(f);f-- >0;)(i.isOdd()||s.isOdd())&&(i.iadd(l),s.isub(h)),i.iushrn(1),s.iushrn(1);for(var p=0,g=1;0==(r.words[0]&g)&&p<26;++p,g<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(l),u.isub(h)),a.iushrn(1),u.iushrn(1);t.cmp(r)>=0?(t.isub(r),i.isub(a),s.isub(u)):(r.isub(t),a.isub(i),u.isub(s))}return{a:a,b:u,gcd:r.iushln(c)}},o.prototype._invmp=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i,s=new o(1),a=new o(0),u=r.clone();t.cmpn(1)>0&&r.cmpn(1)>0;){for(var c=0,l=1;0==(t.words[0]&l)&&c<26;++c,l<<=1);if(c>0)for(t.iushrn(c);c-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);for(var h=0,f=1;0==(r.words[0]&f)&&h<26;++h,f<<=1);if(h>0)for(r.iushrn(h);h-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);t.cmp(r)>=0?(t.isub(r),s.isub(a)):(r.isub(t),a.isub(s))}return(i=0===t.cmpn(1)?s:a).cmpn(0)<0&&i.iadd(e),i},o.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=t.cmp(r);if(i<0){var o=t;t=r,r=o}else if(0===i||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},o.prototype.invm=function(e){return this.egcd(e).a.umod(e)},o.prototype.isEven=function(){return 0==(1&this.words[0])},o.prototype.isOdd=function(){return 1==(1&this.words[0])},o.prototype.andln=function(e){return this.words[0]&e},o.prototype.bincn=function(e){n("number"==typeof e);var t=e%26,r=(e-t)/26,i=1<<t;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var o=i,s=r;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(e){var t,r=e<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)t=1;else{r&&(e=-e),n(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},o.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},o.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|e.words[r];if(n!==i){n<i?t=-1:n>i&&(t=1);break}}return t},o.prototype.gtn=function(e){return 1===this.cmpn(e)},o.prototype.gt=function(e){return 1===this.cmp(e)},o.prototype.gten=function(e){return this.cmpn(e)>=0},o.prototype.gte=function(e){return this.cmp(e)>=0},o.prototype.ltn=function(e){return-1===this.cmpn(e)},o.prototype.lt=function(e){return-1===this.cmp(e)},o.prototype.lten=function(e){return this.cmpn(e)<=0},o.prototype.lte=function(e){return this.cmp(e)<=0},o.prototype.eqn=function(e){return 0===this.cmpn(e)},o.prototype.eq=function(e){return 0===this.cmp(e)},o.red=function(e){return new A(e)},o.prototype.toRed=function(e){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(e){return this.red=e,this},o.prototype.forceRed=function(e){return n(!this.red,"Already a number in reduction context"),this._forceRed(e)},o.prototype.redAdd=function(e){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},o.prototype.redIAdd=function(e){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},o.prototype.redSub=function(e){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},o.prototype.redISub=function(e){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},o.prototype.redShl=function(e){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},o.prototype.redMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},o.prototype.redIMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(e){return n(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var y={k256:null,p224:null,p192:null,p25519:null};function v(e,t){this.name=e,this.p=new o(t,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function b(){v.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){v.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function _(){v.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function E(){v.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function A(e){if("string"==typeof e){var t=o._prime(e);this.m=t.p,this.prime=t}else n(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function P(e){A.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}v.prototype._tmp=function(){var e=new o(null);return e.words=new Array(Math.ceil(this.n/13)),e},v.prototype.ireduce=function(e){var t,r=e;do{this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(t>this.n);var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},v.prototype.split=function(e,t){e.iushrn(this.n,0,t)},v.prototype.imulK=function(e){return e.imul(this.k)},i(b,v),b.prototype.split=function(e,t){for(var r=Math.min(e.length,9),n=0;n<r;n++)t.words[n]=e.words[n];if(t.length=r,e.length<=9)return e.words[0]=0,void(e.length=1);var i=e.words[9];for(t.words[t.length++]=4194303&i,n=10;n<e.length;n++){var o=0|e.words[n];e.words[n-10]=(4194303&o)<<4|i>>>22,i=o}i>>>=22,e.words[n-10]=i,0===i&&e.length>10?e.length-=10:e.length-=9},b.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(w,v),i(_,v),i(E,v),E.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=19*(0|e.words[r])+t,i=67108863&n;n>>>=26,e.words[r]=i,t=n}return 0!==t&&(e.words[e.length++]=t),e},o._prime=function(e){if(y[e])return y[e];var t;if("k256"===e)t=new b;else if("p224"===e)t=new w;else if("p192"===e)t=new _;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new E}return y[e]=t,t},A.prototype._verify1=function(e){n(0===e.negative,"red works only with positives"),n(e.red,"red works only with red numbers")},A.prototype._verify2=function(e,t){n(0==(e.negative|t.negative),"red works only with positives"),n(e.red&&e.red===t.red,"red works only with red numbers")},A.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},A.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},A.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},A.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},A.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},A.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},A.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},A.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},A.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},A.prototype.isqr=function(e){return this.imul(e,e.clone())},A.prototype.sqr=function(e){return this.mul(e,e)},A.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(n(t%2==1),3===t){var r=this.m.add(new o(1)).iushrn(2);return this.pow(e,r)}for(var i=this.m.subn(1),s=0;!i.isZero()&&0===i.andln(1);)s++,i.iushrn(1);n(!i.isZero());var a=new o(1).toRed(this),u=a.redNeg(),c=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new o(2*l*l).toRed(this);0!==this.pow(l,c).cmp(u);)l.redIAdd(u);for(var h=this.pow(l,i),f=this.pow(e,i.addn(1).iushrn(1)),d=this.pow(e,i),p=s;0!==d.cmp(a);){for(var g=d,m=0;0!==g.cmp(a);m++)g=g.redSqr();n(m<p);var y=this.pow(h,new o(1).iushln(p-m-1));f=f.redMul(y),h=y.redSqr(),d=d.redMul(h),p=m}return f},A.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},A.prototype.pow=function(e,t){if(t.isZero())return new o(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new o(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var i=r[0],s=0,a=0,u=t.bitLength()%26;for(0===u&&(u=26),n=t.length-1;n>=0;n--){for(var c=t.words[n],l=u-1;l>=0;l--){var h=c>>l&1;i!==r[0]&&(i=this.sqr(i)),0!==h||0!==s?(s<<=1,s|=h,(4===++a||0===n&&0===l)&&(i=this.mul(i,r[s]),a=0,s=0)):a=0}u=26}return i},A.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},A.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},o.mont=function(e){return new P(e)},i(P,A),P.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},P.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},P.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},P.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new o(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},P.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e,this)}).call(this,r(72)(e))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=A(r(4)),i=A(r(108)),o=A(r(21)),s=A(r(24)),a=A(r(75)),u=A(r(13)),c=A(r(130)),l=A(r(10)),h=A(r(17)),f=r(29),d=r(41),p=r(28),g=A(r(14)),m=A(r(19)),y=E(r(131)),v=A(r(74)),b=E(r(132)),w=A(r(133));function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(_=function(e){return e?r:t})(e)}function E(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=_(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}function A(e){return e&&e.__esModule?e:{default:e}}function P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P(Object(r),!0).forEach((function(t){S(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function S(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const{v4:C}=r(44),k={};let N=0,T=!n.default.get("IS_NODE");function I(){let e=n.default.get("SERVER_URL");"/"!==e[e.length-1]&&(e+="/");const t=e.replace(/https?:\/\//,"");return t.substr(t.indexOf("/"))}T?n.default.setObjectStateController(y):n.default.setObjectStateController(b);class R{constructor(e,t,r){S(this,"id",void 0),S(this,"_localId",void 0),S(this,"_objCount",void 0),S(this,"className",void 0),"function"==typeof this.initialize&&this.initialize.apply(this,arguments);let n=null;if(this._objCount=N++,"string"==typeof e)this.className=e,t&&"object"==typeof t&&(n=t);else if(e&&"object"==typeof e){this.className=e.className,n={};for(const t in e)"className"!==t&&(n[t]=e[t]);t&&"object"==typeof t&&(r=t)}if(n&&!this.set(n,r))throw new Error("Can't create an invalid Parse Object")}get attributes(){const e=n.default.getObjectStateController();return Object.freeze(e.estimateAttributes(this._getStateIdentifier()))}get createdAt(){return this._getServerData().createdAt}get updatedAt(){return this._getServerData().updatedAt}_getId(){if("string"==typeof this.id)return this.id;if("string"==typeof this._localId)return this._localId;const e="local"+C();return this._localId=e,e}_getStateIdentifier(){if(T){let{id:e}=this;return e||(e=this._getId()),{id:e,className:this.className}}return this}_getServerData(){return n.default.getObjectStateController().getServerData(this._getStateIdentifier())}_clearServerData(){const e=this._getServerData(),t={};for(const r in e)t[r]=void 0;n.default.getObjectStateController().setServerData(this._getStateIdentifier(),t)}_getPendingOps(){return n.default.getObjectStateController().getPendingOps(this._getStateIdentifier())}_clearPendingOps(e){const t=this._getPendingOps(),r=t[t.length-1];(e||Object.keys(r)).forEach(e=>{delete r[e]})}_getDirtyObjectAttributes(){const{attributes:e}=this,t=n.default.getObjectStateController().getObjectCache(this._getStateIdentifier()),r={};for(const n in e){const i=e[n];if(i&&"object"==typeof i&&!(i instanceof R)&&!(i instanceof h.default)&&!(i instanceof m.default))try{const e=(0,s.default)(i,!1,!0),o=JSON.stringify(e);t[n]!==o&&(r[n]=i)}catch(e){r[n]=i}}return r}_toFullJSON(e,t){const r=this.toJSON(e,t);return r.__type="Object",r.className=this.className,r}_getSaveJSON(){const e=this._getPendingOps(),t=this._getDirtyObjectAttributes(),r={};for(var n in t){let i=!1;for(let t=0;t<e.length;t+=1)for(const r in e[t])if(r.includes(".")){if(r.split(".")[0]===n){i=!0;break}}i||(r[n]=new p.SetOp(t[n]).toJSON())}for(n in e[0])r[n]=e[0][n].toJSON();return r}_getSaveParams(){const e=this.id?"PUT":"POST",t=this._getSaveJSON();let r="classes/"+this.className;return this.id?r+="/"+this.id:"_User"===this.className&&(r="users"),{method:e,body:t,path:r}}_finishFetch(e){!this.id&&e.objectId&&(this.id=e.objectId);const t=n.default.getObjectStateController();t.initializeState(this._getStateIdentifier());const r={};for(const t in e)"ACL"===t?r[t]=new u.default(e[t]):"objectId"!==t&&(r[t]=(0,o.default)(e[t]),r[t]instanceof m.default&&r[t]._ensureParentAndKey(this,t));r.createdAt&&"string"==typeof r.createdAt&&(r.createdAt=(0,c.default)(r.createdAt)),r.updatedAt&&"string"==typeof r.updatedAt&&(r.updatedAt=(0,c.default)(r.updatedAt)),!r.updatedAt&&r.createdAt&&(r.updatedAt=r.createdAt),t.commitServerChanges(this._getStateIdentifier(),r)}_setExisted(e){const t=n.default.getObjectStateController().getState(this._getStateIdentifier());t&&(t.existed=e)}_migrateId(e){if(this._localId&&e)if(T){const t=n.default.getObjectStateController(),r=t.removeState(this._getStateIdentifier());this.id=e,delete this._localId,r&&t.initializeState(this._getStateIdentifier(),r)}else this.id=e,delete this._localId}_handleSaveResponse(e,t){const r={},i=n.default.getObjectStateController(),s=i.popPendingState(this._getStateIdentifier());for(var a in s)s[a]instanceof p.RelationOp?r[a]=s[a].applyTo(void 0,this,a):a in e||a.includes(".")||(r[a]=s[a].applyTo(void 0));for(a in e)if("createdAt"!==a&&"updatedAt"!==a||"string"!=typeof e[a]){if("ACL"===a)r[a]=new u.default(e[a]);else if("objectId"!==a){const t=(0,o.default)(e[a]);t&&Object.getPrototypeOf(t)===Object.prototype?r[a]=O(O({},this.attributes[a]),t):r[a]=t,r[a]instanceof p.UnsetOp&&(r[a]=void 0)}}else r[a]=(0,c.default)(e[a]);r.createdAt&&!r.updatedAt&&(r.updatedAt=r.createdAt),this._migrateId(e.objectId),201!==t&&this._setExisted(!0),i.commitServerChanges(this._getStateIdentifier(),r)}_handleSaveError(){n.default.getObjectStateController().mergeFirstPendingState(this._getStateIdentifier())}initialize(){}toJSON(e,t){const r=this.id?`${this.className}:${this.id}`:this;e=e||[r];const n={},i=this.attributes;for(const r in i)"createdAt"!==r&&"updatedAt"!==r||!i[r].toJSON?n[r]=(0,s.default)(i[r],!1,!1,e,t):n[r]=i[r].toJSON();const o=this._getPendingOps();for(const e in o[0])n[e]=o[0][e].toJSON(t);return this.id&&(n.objectId=this.id),n}equals(e){return this===e||e instanceof R&&this.className===e.className&&this.id===e.id&&void 0!==this.id}dirty(e){if(!this.id)return!0;const t=this._getPendingOps(),r=this._getDirtyObjectAttributes();if(e){if(r.hasOwnProperty(e))return!0;for(let r=0;r<t.length;r++)if(t[r].hasOwnProperty(e))return!0;return!1}return 0!==Object.keys(t[0]).length||0!==Object.keys(r).length}dirtyKeys(){const e=this._getPendingOps(),t={};for(let r=0;r<e.length;r++)for(const n in e[r])t[n]=!0;const r=this._getDirtyObjectAttributes();for(const e in r)t[e]=!0;return Object.keys(t)}isDataAvailable(){const e=this._getServerData();return!!Object.keys(e).length}toPointer(){if(!this.id)throw new Error("Cannot create a pointer to an unsaved ParseObject");return{__type:"Pointer",className:this.className,objectId:this.id}}toOfflinePointer(){if(!this._localId)throw new Error("Cannot create a offline pointer to a saved ParseObject");return{__type:"Object",className:this.className,_localId:this._localId}}get(e){return this.attributes[e]}relation(e){const t=this.get(e);if(t){if(!(t instanceof m.default))throw new Error("Called relation() on non-relation field "+e);return t._ensureParentAndKey(this,e),t}return new m.default(this,e)}escape(e){let t=this.attributes[e];if(null==t)return"";if("string"!=typeof t){if("function"!=typeof t.toString)return"";t=t.toString()}return(0,a.default)(t)}has(e){const{attributes:t}=this;return!!t.hasOwnProperty(e)&&null!=t[e]}set(e,t,r){let i={};const o={};if(e&&"object"==typeof e)i=e,r=t;else{if("string"!=typeof e)return this;i[e]=t}r=r||{};let s=[];"function"==typeof this.constructor.readOnlyAttributes&&(s=s.concat(this.constructor.readOnlyAttributes()));for(const e in i)if("createdAt"!==e&&"updatedAt"!==e){if(s.indexOf(e)>-1)throw new Error("Cannot modify readonly attribute: "+e);if(r.unset)o[e]=new p.UnsetOp;else if(i[e]instanceof p.Op)o[e]=i[e];else if(i[e]&&"object"==typeof i[e]&&"string"==typeof i[e].__op)o[e]=(0,p.opFromJSON)(i[e]);else if("objectId"===e||"id"===e)"string"==typeof i[e]&&(this.id=i[e]);else if("ACL"!==e||"object"!=typeof i[e]||i[e]instanceof u.default)if(i[e]instanceof m.default){const t=new m.default(this,e);t.targetClassName=i[e].targetClassName,o[e]=new p.SetOp(t)}else o[e]=new p.SetOp(i[e]);else o[e]=new p.SetOp(new u.default(i[e]))}const a=this.attributes,c=this._getServerData();if("string"==typeof e&&e.includes(".")){if(!c[e.split(".")[0]])return this}const l={};for(const e in o)o[e]instanceof p.RelationOp?l[e]=o[e].applyTo(a[e],this,e):o[e]instanceof p.UnsetOp||(l[e]=o[e].applyTo(a[e]));if(!r.ignoreValidation){const e=this.validate(l);if(e)return"function"==typeof r.error&&r.error(this,e),!1}const h=this._getPendingOps(),f=h.length-1,d=n.default.getObjectStateController();for(const e in o){const t=o[e].mergeWith(h[f][e]);d.setPendingOp(this._getStateIdentifier(),e,t)}return this}unset(e,t){return(t=t||{}).unset=!0,this.set(e,null,t)}increment(e,t){if(void 0===t&&(t=1),"number"!=typeof t)throw new Error("Cannot increment by a non-numeric amount.");return this.set(e,new p.IncrementOp(t))}decrement(e,t){if(void 0===t&&(t=1),"number"!=typeof t)throw new Error("Cannot decrement by a non-numeric amount.");return this.set(e,new p.IncrementOp(-1*t))}add(e,t){return this.set(e,new p.AddOp([t]))}addAll(e,t){return this.set(e,new p.AddOp(t))}addUnique(e,t){return this.set(e,new p.AddUniqueOp([t]))}addAllUnique(e,t){return this.set(e,new p.AddUniqueOp(t))}remove(e,t){return this.set(e,new p.RemoveOp([t]))}removeAll(e,t){return this.set(e,new p.RemoveOp(t))}op(e){const t=this._getPendingOps();for(let r=t.length;r--;)if(t[r][e])return t[r][e]}clone(){const e=new this.constructor;e.className||(e.className=this.className);let{attributes:t}=this;if("function"==typeof this.constructor.readOnlyAttributes){const e=this.constructor.readOnlyAttributes()||[],r={};for(const n in t)e.indexOf(n)<0&&(r[n]=t[n]);t=r}return e.set&&e.set(t),e}newInstance(){const e=new this.constructor;if(e.className||(e.className=this.className),e.id=this.id,T)return e;const t=n.default.getObjectStateController();return t&&t.duplicateState(this._getStateIdentifier(),e._getStateIdentifier()),e}isNew(){return!this.id}existed(){if(!this.id)return!1;const e=n.default.getObjectStateController().getState(this._getStateIdentifier());return!!e&&e.existed}async exists(e){if(!this.id)return!1;try{const t=new g.default(this.className);return await t.get(this.id,e),!0}catch(e){if(e.code===l.default.OBJECT_NOT_FOUND)return!1;throw e}}isValid(){return!this.validate(this.attributes)}validate(e){if(e.hasOwnProperty("ACL")&&!(e.ACL instanceof u.default))return new l.default(l.default.OTHER_CAUSE,"ACL must be a Parse ACL.");for(const t in e)if(!/^[A-Za-z][0-9A-Za-z_.]*$/.test(t))return new l.default(l.default.INVALID_KEY_NAME);return!1}getACL(){const e=this.get("ACL");return e instanceof u.default?e:null}setACL(e,t){return this.set("ACL",e,t)}revert(...e){let t;if(e.length){t=[];for(const r of e){if("string"!=typeof r)throw new Error("Parse.Object#revert expects either no, or a list of string, arguments.");t.push(r)}}this._clearPendingOps(t)}clear(){const{attributes:e}=this,t={};let r=["createdAt","updatedAt"];"function"==typeof this.constructor.readOnlyAttributes&&(r=r.concat(this.constructor.readOnlyAttributes()));for(const n in e)r.indexOf(n)<0&&(t[n]=!0);return this.set(t,{unset:!0})}fetch(e){const t={};(e=e||{}).hasOwnProperty("useMasterKey")&&(t.useMasterKey=e.useMasterKey),e.hasOwnProperty("sessionToken")&&(t.sessionToken=e.sessionToken),e.hasOwnProperty("context")&&"object"==typeof e.context&&(t.context=e.context),e.hasOwnProperty("include")&&(t.include=[],Array.isArray(e.include)?e.include.forEach(e=>{Array.isArray(e)?t.include=t.include.concat(e):t.include.push(e)}):t.include.push(e.include));return n.default.getObjectController().fetch(this,!0,t)}fetchWithInclude(e,t){return(t=t||{}).include=e,this.fetch(t)}save(e,t,r){let i,o;if("object"==typeof e||void 0===e?(i=e,"object"==typeof t&&(o=t)):(i={},i[e]=t,o=r),i){const e=this.validate(i);if(e)return Promise.reject(e);this.set(i,o)}o=o||{};const s={};o.hasOwnProperty("useMasterKey")&&(s.useMasterKey=!!o.useMasterKey),o.hasOwnProperty("sessionToken")&&"string"==typeof o.sessionToken&&(s.sessionToken=o.sessionToken),o.hasOwnProperty("installationId")&&"string"==typeof o.installationId&&(s.installationId=o.installationId),o.hasOwnProperty("context")&&"object"==typeof o.context&&(s.context=o.context);const a=n.default.getObjectController(),u=!1!==o.cascadeSave?(0,w.default)(this):null;return a.save(u,s).then(()=>a.save(this,s))}destroy(e){const t={};return(e=e||{}).hasOwnProperty("useMasterKey")&&(t.useMasterKey=e.useMasterKey),e.hasOwnProperty("sessionToken")&&(t.sessionToken=e.sessionToken),e.hasOwnProperty("context")&&"object"==typeof e.context&&(t.context=e.context),this.id?n.default.getObjectController().destroy(this,t):Promise.resolve()}pin(){return R.pinAllWithName(d.DEFAULT_PIN,[this])}unPin(){return R.unPinAllWithName(d.DEFAULT_PIN,[this])}async isPinned(){const e=n.default.getLocalDatastore();if(!e.isEnabled)return Promise.reject("Parse.enableLocalDatastore() must be called first");const t=e.getKeyForObject(this);return(await e.fromPinWithName(t)).length>0}pinWithName(e){return R.pinAllWithName(e,[this])}unPinWithName(e){return R.unPinAllWithName(e,[this])}async fetchFromLocalDatastore(){const e=n.default.getLocalDatastore();if(!e.isEnabled)throw new Error("Parse.enableLocalDatastore() must be called first");const t=e.getKeyForObject(this),r=await e._serializeObject(t);if(!r)throw new Error("Cannot fetch an unsaved ParseObject");const i=R.fromJSON(r);return this._finishFetch(i.toJSON()),this}static _clearAllState(){n.default.getObjectStateController().clearAllState()}static fetchAll(e,t={}){const r={};return t.hasOwnProperty("useMasterKey")&&(r.useMasterKey=t.useMasterKey),t.hasOwnProperty("sessionToken")&&(r.sessionToken=t.sessionToken),t.hasOwnProperty("include")&&(r.include=R.handleIncludeOptions(t)),n.default.getObjectController().fetch(e,!0,r)}static fetchAllWithInclude(e,t,r){return(r=r||{}).include=t,R.fetchAll(e,r)}static fetchAllIfNeededWithInclude(e,t,r){return(r=r||{}).include=t,R.fetchAllIfNeeded(e,r)}static fetchAllIfNeeded(e,t){const r={};return(t=t||{}).hasOwnProperty("useMasterKey")&&(r.useMasterKey=t.useMasterKey),t.hasOwnProperty("sessionToken")&&(r.sessionToken=t.sessionToken),t.hasOwnProperty("include")&&(r.include=R.handleIncludeOptions(t)),n.default.getObjectController().fetch(e,!1,r)}static handleIncludeOptions(e){let t=[];return Array.isArray(e.include)?e.include.forEach(e=>{Array.isArray(e)?t=t.concat(e):t.push(e)}):t.push(e.include),t}static destroyAll(e,t={}){const r={};return t.hasOwnProperty("useMasterKey")&&(r.useMasterKey=t.useMasterKey),t.hasOwnProperty("sessionToken")&&(r.sessionToken=t.sessionToken),t.hasOwnProperty("batchSize")&&"number"==typeof t.batchSize&&(r.batchSize=t.batchSize),t.hasOwnProperty("context")&&"object"==typeof t.context&&(r.context=t.context),n.default.getObjectController().destroy(e,r)}static saveAll(e,t={}){const r={};return t.hasOwnProperty("useMasterKey")&&(r.useMasterKey=t.useMasterKey),t.hasOwnProperty("sessionToken")&&(r.sessionToken=t.sessionToken),t.hasOwnProperty("batchSize")&&"number"==typeof t.batchSize&&(r.batchSize=t.batchSize),t.hasOwnProperty("context")&&"object"==typeof t.context&&(r.context=t.context),n.default.getObjectController().save(e,r)}static createWithoutData(e){const t=new this;return t.id=e,t}static fromJSON(e,t){if(!e.className)throw new Error("Cannot create an object without a className");const r=k[e.className],n=r?new r:new R(e.className),i={};for(const t in e)"className"!==t&&"__type"!==t&&(i[t]=e[t]);if(t){i.objectId&&(n.id=i.objectId);let e=null;"function"==typeof n._preserveFieldsOnFetch&&(e=n._preserveFieldsOnFetch()),n._clearServerData(),e&&n._finishFetch(e)}return n._finishFetch(i),e.objectId&&n._setExisted(!0),n}static registerSubclass(e,t){if("string"!=typeof e)throw new TypeError("The first argument must be a valid class name.");if(void 0===t)throw new TypeError("You must supply a subclass constructor.");if("function"!=typeof t)throw new TypeError("You must register the subclass constructor. Did you attempt to register an instance of the subclass?");k[e]=t,t.className||(t.className=e)}static extend(e,t,r){if("string"!=typeof e){if(e&&"string"==typeof e.className)return R.extend(e.className,e,t);throw new Error("Parse.Object.extend's first argument should be the className.")}let i=e;"User"===i&&n.default.get("PERFORM_USER_REWRITE")&&(i="_User");let o=R.prototype;this.hasOwnProperty("__super__")&&this.__super__?o=this.prototype:k[i]&&(o=k[i].prototype);const s=function(e,t){if(this.className=i,this._objCount=N++,"function"==typeof this.initialize&&this.initialize.apply(this,arguments),e&&"object"==typeof e&&!this.set(e||{},t))throw new Error("Can't create an invalid Parse Object")};if(s.className=i,s.__super__=o,s.prototype=Object.create(o,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),t)for(const e in t)"className"!==e&&Object.defineProperty(s.prototype,e,{value:t[e],enumerable:!1,writable:!0,configurable:!0});if(r)for(const e in r)"className"!==e&&Object.defineProperty(s,e,{value:r[e],enumerable:!1,writable:!0,configurable:!0});return s.extend=function(e,t,r){return"string"==typeof e?R.extend.call(s,e,t,r):R.extend.call(s,i,e,t)},s.createWithoutData=R.createWithoutData,k[i]=s,s}static enableSingleInstance(){T=!0,n.default.setObjectStateController(y)}static disableSingleInstance(){T=!1,n.default.setObjectStateController(b)}static pinAll(e){return n.default.getLocalDatastore().isEnabled?R.pinAllWithName(d.DEFAULT_PIN,e):Promise.reject("Parse.enableLocalDatastore() must be called first")}static pinAllWithName(e,t){const r=n.default.getLocalDatastore();return r.isEnabled?r._handlePinAllWithName(e,t):Promise.reject("Parse.enableLocalDatastore() must be called first")}static unPinAll(e){return n.default.getLocalDatastore().isEnabled?R.unPinAllWithName(d.DEFAULT_PIN,e):Promise.reject("Parse.enableLocalDatastore() must be called first")}static unPinAllWithName(e,t){const r=n.default.getLocalDatastore();return r.isEnabled?r._handleUnPinAllWithName(e,t):Promise.reject("Parse.enableLocalDatastore() must be called first")}static unPinAllObjects(){const e=n.default.getLocalDatastore();return e.isEnabled?e.unPinWithName(d.DEFAULT_PIN):Promise.reject("Parse.enableLocalDatastore() must be called first")}static unPinAllObjectsWithName(e){const t=n.default.getLocalDatastore();return t.isEnabled?t.unPinWithName(d.PIN_PREFIX+e):Promise.reject("Parse.enableLocalDatastore() must be called first")}}const x={fetch(e,t,r){const i=n.default.getLocalDatastore();if(Array.isArray(e)){if(e.length<1)return Promise.resolve([]);const n=[],o=[];let s=null;const a=[];let u=null;if(e.forEach(e=>{u||(s||(s=e.className),s!==e.className&&(u=new l.default(l.default.INVALID_CLASS_NAME,"All objects should be of the same class")),e.id||(u=new l.default(l.default.MISSING_OBJECT_ID,"All objects must have an ID")),!t&&e.isDataAvailable()||(o.push(e.id),n.push(e)),a.push(e))}),u)return Promise.reject(u);const c=new g.default(s);return c.containedIn("objectId",o),r&&r.include&&c.include(r.include),c._limit=o.length,c.find(r).then(async e=>{const r={};e.forEach(e=>{r[e.id]=e});for(let e=0;e<n.length;e++){const i=n[e];if((!i||!i.id||!r[i.id])&&t)return Promise.reject(new l.default(l.default.OBJECT_NOT_FOUND,"All objects must exist on the server."))}if(!T)for(let e=0;e<a.length;e++){const t=a[e];if(t&&t.id&&r[t.id]){const{id:n}=t;t._finishFetch(r[n].toJSON()),a[e]=r[n]}}for(const e of a)await i._updateObjectIfPinned(e);return Promise.resolve(a)})}if(e instanceof R){if(!e.id)return Promise.reject(new l.default(l.default.MISSING_OBJECT_ID,"Object does not have an ID"));const t=n.default.getRESTController(),o={};return r&&r.include&&(o.include=r.include.join()),t.request("GET",`classes/${e.className}/${e._getId()}`,o,r).then(async t=>(e._clearPendingOps(),e._clearServerData(),e._finishFetch(t),await i._updateObjectIfPinned(e),e))}return Promise.resolve()},async destroy(e,t){const r=t&&t.batchSize?t.batchSize:n.default.get("REQUEST_BATCH_SIZE"),i=n.default.getLocalDatastore(),o=n.default.getRESTController();if(Array.isArray(e)){if(e.length<1)return Promise.resolve([]);const n=[[]];e.forEach(e=>{e.id&&(n[n.length-1].push(e),n[n.length-1].length>=r&&n.push([]))}),0===n[n.length-1].length&&n.pop();let s=Promise.resolve();const a=[];return n.forEach(e=>{s=s.then(()=>o.request("POST","batch",{requests:e.map(e=>({method:"DELETE",path:`${I()}classes/${e.className}/${e._getId()}`,body:{}}))},t).then(t=>{for(let r=0;r<t.length;r++)if(t[r]&&t[r].hasOwnProperty("error")){const n=new l.default(t[r].error.code,t[r].error.error);n.object=e[r],a.push(n)}}))}),s.then(async()=>{if(a.length){const e=new l.default(l.default.AGGREGATE_ERROR);return e.errors=a,Promise.reject(e)}for(const t of e)await i._destroyObjectIfPinned(t);return Promise.resolve(e)})}return e instanceof R?o.request("DELETE",`classes/${e.className}/${e._getId()}`,{},t).then(async()=>(await i._destroyObjectIfPinned(e),Promise.resolve(e))):Promise.resolve(e)},save(e,t){const r=t&&t.batchSize?t.batchSize:n.default.get("REQUEST_BATCH_SIZE"),o=n.default.getLocalDatastore(),s={},a=n.default.getRESTController(),u=n.default.getObjectStateController();if((t=t||{}).returnStatus=t.returnStatus||!0,Array.isArray(e)){if(e.length<1)return Promise.resolve([]);let n=e.concat();for(let t=0;t<e.length;t++)e[t]instanceof R&&(n=n.concat((0,w.default)(e[t],!0)));n=(0,v.default)(n);const c=[];let d=[];return n.forEach(e=>{e instanceof h.default?c.push(e.save(t)):e instanceof R&&d.push(e)}),Promise.all(c).then(()=>{let n=null;return(0,f.continueWhile)(()=>d.length>0,()=>{const e=[],o=[];if(d.forEach(t=>{e.length<r&&(0,i.default)(t)?e.push(t):o.push(t)}),d=o,e.length<1)return Promise.reject(new l.default(l.default.OTHER_CAUSE,"Tried to save a batch with a cycle."));const c=new f.resolvingPromise,h=[],p=[];return e.forEach((e,t)=>{const r=new f.resolvingPromise;h.push(r),u.pushPendingState(e._getStateIdentifier()),p.push(u.enqueueTask(e._getStateIdentifier(),(function(){return r.resolve(),c.then(r=>{if(r[t].hasOwnProperty("success")){const{objectId:n}=r[t].success,i=r[t]._status;delete r[t]._status,s[n]=e._localId,e._handleSaveResponse(r[t].success,i)}else{if(!n&&r[t].hasOwnProperty("error")){const e=r[t].error;n=new l.default(e.code,e.error),d=[]}e._handleSaveError()}})})))}),(0,f.when)(h).then(()=>a.request("POST","batch",{requests:e.map(e=>{const t=e._getSaveParams();return t.path=I()+t.path,t})},t)).then(c.resolve,e=>{c.reject(new l.default(l.default.INCORRECT_TYPE,e.message))}),(0,f.when)(p)}).then(async()=>{if(n)return Promise.reject(n);for(const t of e)await o._updateLocalIdForObject(s[t.id],t),await o._updateObjectIfPinned(t);return Promise.resolve(e)})})}if(e instanceof R){e._getId();const r=e._localId,n=e,i=function(){const e=n._getSaveParams();return a.request(e.method,e.path,e.body,t).then(e=>{const t=e._status;delete e._status,n._handleSaveResponse(e,t)},e=>(n._handleSaveError(),Promise.reject(e)))};return u.pushPendingState(e._getStateIdentifier()),u.enqueueTask(e._getStateIdentifier(),i).then(async()=>(await o._updateLocalIdForObject(r,e),await o._updateObjectIfPinned(e),e),e=>Promise.reject(e))}return Promise.resolve()}};n.default.setObjectController(x);var M=R;t.default=M},function(e,t,r){"use strict";(function(t){const r={IS_NODE:void 0!==t&&!!t.versions&&!!t.versions.node&&!t.versions.electron,REQUEST_ATTEMPT_LIMIT:5,REQUEST_BATCH_SIZE:20,REQUEST_HEADERS:{},SERVER_URL:"https://api.parse.com/1",SERVER_AUTH_TYPE:null,SERVER_AUTH_TOKEN:null,LIVEQUERY_SERVER_URL:null,ENCRYPTED_KEY:null,VERSION:"js1.12.0",APPLICATION_ID:null,JAVASCRIPT_KEY:null,MASTER_KEY:null,USE_MASTER_KEY:!1,PERFORM_USER_REWRITE:!0,FORCE_REVOCABLE_SESSION:!1,ENCRYPTED_USER:!1,IDEMPOTENCY:!1};function n(e,t,r){t.forEach(t=>{if("function"!=typeof r[t])throw new Error(`${e} must implement ${t}()`)})}e.exports={get:function(e){if(r.hasOwnProperty(e))return r[e];throw new Error("Configuration key not found: "+e)},set:function(e,t){r[e]=t},setAnalyticsController(e){n("AnalyticsController",["track"],e),r.AnalyticsController=e},getAnalyticsController:()=>r.AnalyticsController,setCloudController(e){n("CloudController",["run","getJobsData","startJob"],e),r.CloudController=e},getCloudController:()=>r.CloudController,setConfigController(e){n("ConfigController",["current","get","save"],e),r.ConfigController=e},getConfigController:()=>r.ConfigController,setCryptoController(e){n("CryptoController",["encrypt","decrypt"],e),r.CryptoController=e},getCryptoController:()=>r.CryptoController,setFileController(e){n("FileController",["saveFile","saveBase64"],e),r.FileController=e},getFileController:()=>r.FileController,setInstallationController(e){n("InstallationController",["currentInstallationId"],e),r.InstallationController=e},getInstallationController:()=>r.InstallationController,setObjectController(e){n("ObjectController",["save","fetch","destroy"],e),r.ObjectController=e},getObjectController:()=>r.ObjectController,setObjectStateController(e){n("ObjectStateController",["getState","initializeState","removeState","getServerData","setServerData","getPendingOps","setPendingOp","pushPendingState","popPendingState","mergeFirstPendingState","getObjectCache","estimateAttribute","estimateAttributes","commitServerChanges","enqueueTask","clearAllState"],e),r.ObjectStateController=e},getObjectStateController:()=>r.ObjectStateController,setPushController(e){n("PushController",["send"],e),r.PushController=e},getPushController:()=>r.PushController,setQueryController(e){n("QueryController",["find","aggregate"],e),r.QueryController=e},getQueryController:()=>r.QueryController,setRESTController(e){n("RESTController",["request","ajax"],e),r.RESTController=e},getRESTController:()=>r.RESTController,setSchemaController(e){n("SchemaController",["get","create","update","delete","send","purge"],e),r.SchemaController=e},getSchemaController:()=>r.SchemaController,setSessionController(e){n("SessionController",["getSession"],e),r.SessionController=e},getSessionController:()=>r.SessionController,setStorageController(e){e.async?n("An async StorageController",["getItemAsync","setItemAsync","removeItemAsync","getAllKeysAsync"],e):n("A synchronous StorageController",["getItem","setItem","removeItem","getAllKeys"],e),r.StorageController=e},setLocalDatastoreController(e){n("LocalDatastoreController",["pinWithName","fromPinWithName","unPinWithName","getAllContents","clear"],e),r.LocalDatastoreController=e},getLocalDatastoreController:()=>r.LocalDatastoreController,setLocalDatastore(e){r.LocalDatastore=e},getLocalDatastore:()=>r.LocalDatastore,getStorageController:()=>r.StorageController,setAsyncStorage(e){r.AsyncStorage=e},getAsyncStorage:()=>r.AsyncStorage,setWebSocketController(e){r.WebSocketController=e},getWebSocketController:()=>r.WebSocketController,setUserController(e){n("UserController",["setCurrentUser","currentUser","currentUserAsync","signUp","logIn","become","logOut","me","requestPasswordReset","upgradeToRevocableSession","requestEmailVerification","verifyPassword","linkWith"],e),r.UserController=e},getUserController:()=>r.UserController,setLiveQueryController(e){n("LiveQueryController",["setDefaultLiveQueryClient","getDefaultLiveQueryClient","_clearCachedDefaultClient"],e),r.LiveQueryController=e},getLiveQueryController:()=>r.LiveQueryController,setHooksController(e){n("HooksController",["create","get","update","remove"],e),r.HooksController=e},getHooksController:()=>r.HooksController}}).call(this,r(12))},,function(e,t,r){var n=t;n.utils=r(16),n.common=r(36),n.sha=r(135),n.ripemd=r(139),n.hmac=r(140),n.sha1=n.sha.sha1,n.sha256=n.sha.sha256,n.sha224=n.sha.sha224,n.sha384=n.sha.sha384,n.sha512=n.sha.sha512,n.ripemd160=n.ripemd.ripemd160},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){"use strict";var n=r(93),i=Object.prototype.toString;function o(e){return Array.isArray(e)}function s(e){return void 0===e}function a(e){return"[object ArrayBuffer]"===i.call(e)}function u(e){return null!==e&&"object"==typeof e}function c(e){if("[object Object]"!==i.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function l(e){return"[object Function]"===i.call(e)}function h(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),o(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}e.exports={isArray:o,isArrayBuffer:a,isBuffer:function(e){return null!==e&&!s(e)&&null!==e.constructor&&!s(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"[object FormData]"===i.call(e)},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&a(e.buffer)},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:u,isPlainObject:c,isUndefined:s,isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:l,isStream:function(e){return u(e)&&l(e.pipe)},isURLSearchParams:function(e){return"[object URLSearchParams]"===i.call(e)},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:h,merge:function e(){var t={};function r(r,n){c(t[n])&&c(r)?t[n]=e(t[n],r):c(r)?t[n]=e({},r):o(r)?t[n]=r.slice():t[n]=r}for(var n=0,i=arguments.length;n<i;n++)h(arguments[n],r);return t},extend:function(e,t,r){return h(t,(function(t,i){e[i]=r&&"function"==typeof t?n(t,r):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;class n extends Error{constructor(e,t){super(t),this.code=e,Object.defineProperty(this,"message",{enumerable:!0,value:t})}toString(){return`ParseError: ${this.code} ${this.message}`}}n.OTHER_CAUSE=-1,n.INTERNAL_SERVER_ERROR=1,n.CONNECTION_FAILED=100,n.OBJECT_NOT_FOUND=101,n.INVALID_QUERY=102,n.INVALID_CLASS_NAME=103,n.MISSING_OBJECT_ID=104,n.INVALID_KEY_NAME=105,n.INVALID_POINTER=106,n.INVALID_JSON=107,n.COMMAND_UNAVAILABLE=108,n.NOT_INITIALIZED=109,n.INCORRECT_TYPE=111,n.INVALID_CHANNEL_NAME=112,n.PUSH_MISCONFIGURED=115,n.OBJECT_TOO_LARGE=116,n.OPERATION_FORBIDDEN=119,n.CACHE_MISS=120,n.INVALID_NESTED_KEY=121,n.INVALID_FILE_NAME=122,n.INVALID_ACL=123,n.TIMEOUT=124,n.INVALID_EMAIL_ADDRESS=125,n.MISSING_CONTENT_TYPE=126,n.MISSING_CONTENT_LENGTH=127,n.INVALID_CONTENT_LENGTH=128,n.FILE_TOO_LARGE=129,n.FILE_SAVE_ERROR=130,n.DUPLICATE_VALUE=137,n.INVALID_ROLE_NAME=139,n.EXCEEDED_QUOTA=140,n.SCRIPT_FAILED=141,n.VALIDATION_ERROR=142,n.INVALID_IMAGE_DATA=143,n.UNSAVED_FILE_ERROR=151,n.INVALID_PUSH_TIME_ERROR=152,n.FILE_DELETE_ERROR=153,n.FILE_DELETE_UNNAMED_ERROR=161,n.REQUEST_LIMIT_EXCEEDED=155,n.DUPLICATE_REQUEST=159,n.INVALID_EVENT_NAME=160,n.USERNAME_MISSING=200,n.PASSWORD_MISSING=201,n.USERNAME_TAKEN=202,n.EMAIL_TAKEN=203,n.EMAIL_MISSING=204,n.EMAIL_NOT_FOUND=205,n.SESSION_MISSING=206,n.MUST_CREATE_USER_THROUGH_SIGNUP=207,n.ACCOUNT_ALREADY_LINKED=208,n.INVALID_SESSION_TOKEN=209,n.MFA_ERROR=210,n.MFA_TOKEN_REQUIRED=211,n.LINKED_ID_MISSING=250,n.INVALID_LINKED_SESSION=251,n.UNSUPPORTED_SERVICE=252,n.INVALID_SCHEMA_OPERATION=255,n.AGGREGATE_ERROR=600,n.FILE_READ_ERROR=601,n.X_DOMAIN_REQUEST=602;var i=n;t.default=i},function(e,t,r){"use strict";!function(t){function r(e){return parseInt(e)===e}function n(e){if(!r(e.length))return!1;for(var t=0;t<e.length;t++)if(!r(e[t])||e[t]<0||e[t]>255)return!1;return!0}function i(e,t){if(e.buffer&&ArrayBuffer.isView(e)&&"Uint8Array"===e.name)return t&&(e=e.slice?e.slice():Array.prototype.slice.call(e)),e;if(Array.isArray(e)){if(!n(e))throw new Error("Array contains invalid value: "+e);return new Uint8Array(e)}if(r(e.length)&&n(e))return new Uint8Array(e);throw new Error("unsupported array-like object")}function o(e){return new Uint8Array(e)}function s(e,t,r,n,i){null==n&&null==i||(e=e.slice?e.slice(n,i):Array.prototype.slice.call(e,n,i)),t.set(e,r)}var a,u={toBytes:function(e){var t=[],r=0;for(e=encodeURI(e);r<e.length;){var n=e.charCodeAt(r++);37===n?(t.push(parseInt(e.substr(r,2),16)),r+=2):t.push(n)}return i(t)},fromBytes:function(e){for(var t=[],r=0;r<e.length;){var n=e[r];n<128?(t.push(String.fromCharCode(n)),r++):n>191&&n<224?(t.push(String.fromCharCode((31&n)<<6|63&e[r+1])),r+=2):(t.push(String.fromCharCode((15&n)<<12|(63&e[r+1])<<6|63&e[r+2])),r+=3)}return t.join("")}},c=(a="0123456789abcdef",{toBytes:function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(parseInt(e.substr(r,2),16));return t},fromBytes:function(e){for(var t=[],r=0;r<e.length;r++){var n=e[r];t.push(a[(240&n)>>4]+a[15&n])}return t.join("")}}),l={16:10,24:12,32:14},h=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],f=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],d=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],p=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],g=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],m=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],y=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],v=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],b=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],w=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],_=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],E=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],A=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],P=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],O=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function S(e){for(var t=[],r=0;r<e.length;r+=4)t.push(e[r]<<24|e[r+1]<<16|e[r+2]<<8|e[r+3]);return t}var C=function(e){if(!(this instanceof C))throw Error("AES must be instanitated with `new`");Object.defineProperty(this,"key",{value:i(e,!0)}),this._prepare()};C.prototype._prepare=function(){var e=l[this.key.length];if(null==e)throw new Error("invalid key size (must be 16, 24 or 32 bytes)");this._Ke=[],this._Kd=[];for(var t=0;t<=e;t++)this._Ke.push([0,0,0,0]),this._Kd.push([0,0,0,0]);var r,n=4*(e+1),i=this.key.length/4,o=S(this.key);for(t=0;t<i;t++)r=t>>2,this._Ke[r][t%4]=o[t],this._Kd[e-r][t%4]=o[t];for(var s,a=0,u=i;u<n;){if(s=o[i-1],o[0]^=f[s>>16&255]<<24^f[s>>8&255]<<16^f[255&s]<<8^f[s>>24&255]^h[a]<<24,a+=1,8!=i)for(t=1;t<i;t++)o[t]^=o[t-1];else{for(t=1;t<i/2;t++)o[t]^=o[t-1];s=o[i/2-1],o[i/2]^=f[255&s]^f[s>>8&255]<<8^f[s>>16&255]<<16^f[s>>24&255]<<24;for(t=i/2+1;t<i;t++)o[t]^=o[t-1]}for(t=0;t<i&&u<n;)c=u>>2,d=u%4,this._Ke[c][d]=o[t],this._Kd[e-c][d]=o[t++],u++}for(var c=1;c<e;c++)for(var d=0;d<4;d++)s=this._Kd[c][d],this._Kd[c][d]=E[s>>24&255]^A[s>>16&255]^P[s>>8&255]^O[255&s]},C.prototype.encrypt=function(e){if(16!=e.length)throw new Error("invalid plaintext size (must be 16 bytes)");for(var t=this._Ke.length-1,r=[0,0,0,0],n=S(e),i=0;i<4;i++)n[i]^=this._Ke[0][i];for(var s=1;s<t;s++){for(i=0;i<4;i++)r[i]=p[n[i]>>24&255]^g[n[(i+1)%4]>>16&255]^m[n[(i+2)%4]>>8&255]^y[255&n[(i+3)%4]]^this._Ke[s][i];n=r.slice()}var a,u=o(16);for(i=0;i<4;i++)a=this._Ke[t][i],u[4*i]=255&(f[n[i]>>24&255]^a>>24),u[4*i+1]=255&(f[n[(i+1)%4]>>16&255]^a>>16),u[4*i+2]=255&(f[n[(i+2)%4]>>8&255]^a>>8),u[4*i+3]=255&(f[255&n[(i+3)%4]]^a);return u},C.prototype.decrypt=function(e){if(16!=e.length)throw new Error("invalid ciphertext size (must be 16 bytes)");for(var t=this._Kd.length-1,r=[0,0,0,0],n=S(e),i=0;i<4;i++)n[i]^=this._Kd[0][i];for(var s=1;s<t;s++){for(i=0;i<4;i++)r[i]=v[n[i]>>24&255]^b[n[(i+3)%4]>>16&255]^w[n[(i+2)%4]>>8&255]^_[255&n[(i+1)%4]]^this._Kd[s][i];n=r.slice()}var a,u=o(16);for(i=0;i<4;i++)a=this._Kd[t][i],u[4*i]=255&(d[n[i]>>24&255]^a>>24),u[4*i+1]=255&(d[n[(i+3)%4]>>16&255]^a>>16),u[4*i+2]=255&(d[n[(i+2)%4]>>8&255]^a>>8),u[4*i+3]=255&(d[255&n[(i+1)%4]]^a);return u};var k=function(e){if(!(this instanceof k))throw Error("AES must be instanitated with `new`");this.description="Electronic Code Block",this.name="ecb",this._aes=new C(e)};k.prototype.encrypt=function(e){if((e=i(e)).length%16!=0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var t=o(e.length),r=o(16),n=0;n<e.length;n+=16)s(e,r,0,n,n+16),s(r=this._aes.encrypt(r),t,n);return t},k.prototype.decrypt=function(e){if((e=i(e)).length%16!=0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var t=o(e.length),r=o(16),n=0;n<e.length;n+=16)s(e,r,0,n,n+16),s(r=this._aes.decrypt(r),t,n);return t};var N=function(e,t){if(!(this instanceof N))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Block Chaining",this.name="cbc",t){if(16!=t.length)throw new Error("invalid initialation vector size (must be 16 bytes)")}else t=o(16);this._lastCipherblock=i(t,!0),this._aes=new C(e)};N.prototype.encrypt=function(e){if((e=i(e)).length%16!=0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var t=o(e.length),r=o(16),n=0;n<e.length;n+=16){s(e,r,0,n,n+16);for(var a=0;a<16;a++)r[a]^=this._lastCipherblock[a];this._lastCipherblock=this._aes.encrypt(r),s(this._lastCipherblock,t,n)}return t},N.prototype.decrypt=function(e){if((e=i(e)).length%16!=0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var t=o(e.length),r=o(16),n=0;n<e.length;n+=16){s(e,r,0,n,n+16),r=this._aes.decrypt(r);for(var a=0;a<16;a++)t[n+a]=r[a]^this._lastCipherblock[a];s(e,this._lastCipherblock,0,n,n+16)}return t};var T=function(e,t,r){if(!(this instanceof T))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Feedback",this.name="cfb",t){if(16!=t.length)throw new Error("invalid initialation vector size (must be 16 size)")}else t=o(16);r||(r=1),this.segmentSize=r,this._shiftRegister=i(t,!0),this._aes=new C(e)};T.prototype.encrypt=function(e){if(e.length%this.segmentSize!=0)throw new Error("invalid plaintext size (must be segmentSize bytes)");for(var t,r=i(e,!0),n=0;n<r.length;n+=this.segmentSize){t=this._aes.encrypt(this._shiftRegister);for(var o=0;o<this.segmentSize;o++)r[n+o]^=t[o];s(this._shiftRegister,this._shiftRegister,0,this.segmentSize),s(r,this._shiftRegister,16-this.segmentSize,n,n+this.segmentSize)}return r},T.prototype.decrypt=function(e){if(e.length%this.segmentSize!=0)throw new Error("invalid ciphertext size (must be segmentSize bytes)");for(var t,r=i(e,!0),n=0;n<r.length;n+=this.segmentSize){t=this._aes.encrypt(this._shiftRegister);for(var o=0;o<this.segmentSize;o++)r[n+o]^=t[o];s(this._shiftRegister,this._shiftRegister,0,this.segmentSize),s(e,this._shiftRegister,16-this.segmentSize,n,n+this.segmentSize)}return r};var I=function(e,t){if(!(this instanceof I))throw Error("AES must be instanitated with `new`");if(this.description="Output Feedback",this.name="ofb",t){if(16!=t.length)throw new Error("invalid initialation vector size (must be 16 bytes)")}else t=o(16);this._lastPrecipher=i(t,!0),this._lastPrecipherIndex=16,this._aes=new C(e)};I.prototype.encrypt=function(e){for(var t=i(e,!0),r=0;r<t.length;r++)16===this._lastPrecipherIndex&&(this._lastPrecipher=this._aes.encrypt(this._lastPrecipher),this._lastPrecipherIndex=0),t[r]^=this._lastPrecipher[this._lastPrecipherIndex++];return t},I.prototype.decrypt=I.prototype.encrypt;var R=function(e){if(!(this instanceof R))throw Error("Counter must be instanitated with `new`");0===e||e||(e=1),"number"==typeof e?(this._counter=o(16),this.setValue(e)):this.setBytes(e)};R.prototype.setValue=function(e){if("number"!=typeof e||parseInt(e)!=e)throw new Error("invalid counter value (must be an integer)");for(var t=15;t>=0;--t)this._counter[t]=e%256,e>>=8},R.prototype.setBytes=function(e){if(16!=(e=i(e,!0)).length)throw new Error("invalid counter bytes size (must be 16 bytes)");this._counter=e},R.prototype.increment=function(){for(var e=15;e>=0;e--){if(255!==this._counter[e]){this._counter[e]++;break}this._counter[e]=0}};var x=function(e,t){if(!(this instanceof x))throw Error("AES must be instanitated with `new`");this.description="Counter",this.name="ctr",t instanceof R||(t=new R(t)),this._counter=t,this._remainingCounter=null,this._remainingCounterIndex=16,this._aes=new C(e)};x.prototype.encrypt=function(e){for(var t=i(e,!0),r=0;r<t.length;r++)16===this._remainingCounterIndex&&(this._remainingCounter=this._aes.encrypt(this._counter._counter),this._remainingCounterIndex=0,this._counter.increment()),t[r]^=this._remainingCounter[this._remainingCounterIndex++];return t},x.prototype.decrypt=x.prototype.encrypt;var M={AES:C,Counter:R,ModeOfOperation:{ecb:k,cbc:N,cfb:T,ofb:I,ctr:x},utils:{hex:c,utf8:u},padding:{pkcs7:{pad:function(e){var t=16-(e=i(e,!0)).length%16,r=o(e.length+t);s(e,r);for(var n=e.length;n<r.length;n++)r[n]=t;return r},strip:function(e){if((e=i(e,!0)).length<16)throw new Error("PKCS#7 invalid length");var t=e[e.length-1];if(t>16)throw new Error("PKCS#7 padding byte out of range");for(var r=e.length-t,n=0;n<t;n++)if(e[r+n]!==t)throw new Error("PKCS#7 invalid padding byte");var a=o(r);return s(e,a,0,0,r),a}}},_arrayTest:{coerceArray:i,createArray:o,copyArray:s}};e.exports=M}()},function(e,t){var r,n,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(e){if(r===setTimeout)return setTimeout(e,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:o}catch(e){r=o}try{n="function"==typeof clearTimeout?clearTimeout:s}catch(e){n=s}}();var u,c=[],l=!1,h=-1;function f(){l&&u&&(l=!1,u.length?c=u.concat(c):h=-1,c.length&&d())}function d(){if(!l){var e=a(f);l=!0;for(var t=c.length;t;){for(u=c,c=[];++h<t;)u&&u[h].run();h=-1,t=c.length}u=null,l=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function g(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new p(e,t)),1!==c.length||l||a(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(r(47)),i=o(r(15));function o(e){return e&&e.__esModule?e:{default:e}}class s{constructor(e){var t,r,n;if(n=void 0,(r="permissionsById")in(t=this)?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,this.permissionsById={},e&&"object"==typeof e)if(e instanceof i.default)this.setReadAccess(e,!0),this.setWriteAccess(e,!0);else for(const t in e){const r=e[t];this.permissionsById[t]={};for(const e in r){const n=r[e];if("read"!==e&&"write"!==e)throw new TypeError("Tried to create an ACL with an invalid permission type.");if("boolean"!=typeof n)throw new TypeError("Tried to create an ACL with an invalid permission value.");this.permissionsById[t][e]=n}}else if("function"==typeof e)throw new TypeError("ParseACL constructed with a function. Did you forget ()?")}toJSON(){const e={};for(const t in this.permissionsById)e[t]=this.permissionsById[t];return e}equals(e){if(!(e instanceof s))return!1;const t=Object.keys(this.permissionsById),r=Object.keys(e.permissionsById);if(t.length!==r.length)return!1;for(const t in this.permissionsById){if(!e.permissionsById[t])return!1;if(this.permissionsById[t].read!==e.permissionsById[t].read)return!1;if(this.permissionsById[t].write!==e.permissionsById[t].write)return!1}return!0}_setAccess(e,t,r){if(t instanceof i.default)t=t.id;else if(t instanceof n.default){const e=t.getName();if(!e)throw new TypeError("Role must have a name");t="role:"+e}if("string"!=typeof t)throw new TypeError("userId must be a string.");if("boolean"!=typeof r)throw new TypeError("allowed must be either true or false.");let o=this.permissionsById[t];if(!o){if(!r)return;o={},this.permissionsById[t]=o}r?this.permissionsById[t][e]=!0:(delete o[e],0===Object.keys(o).length&&delete this.permissionsById[t])}_getAccess(e,t){if(t instanceof i.default){if(!(t=t.id))throw new Error("Cannot get access for a ParseUser without an ID")}else if(t instanceof n.default){const e=t.getName();if(!e)throw new TypeError("Role must have a name");t="role:"+e}const r=this.permissionsById[t];return!!r&&!!r[e]}setReadAccess(e,t){this._setAccess("read",e,t)}getReadAccess(e){return this._getAccess("read",e)}setWriteAccess(e,t){this._setAccess("write",e,t)}getWriteAccess(e){return this._getAccess("write",e)}setPublicReadAccess(e){this.setReadAccess("*",e)}getPublicReadAccess(){return this.getReadAccess("*")}setPublicWriteAccess(e){this.setWriteAccess("*",e)}getPublicWriteAccess(){return this.getWriteAccess("*")}getRoleReadAccess(e){if(e instanceof n.default&&(e=e.getName()),"string"!=typeof e)throw new TypeError("role must be a ParseRole or a String");return this.getReadAccess("role:"+e)}getRoleWriteAccess(e){if(e instanceof n.default&&(e=e.getName()),"string"!=typeof e)throw new TypeError("role must be a ParseRole or a String");return this.getWriteAccess("role:"+e)}setRoleReadAccess(e,t){if(e instanceof n.default&&(e=e.getName()),"string"!=typeof e)throw new TypeError("role must be a ParseRole or a String");this.setReadAccess("role:"+e,t)}setRoleWriteAccess(e,t){if(e instanceof n.default&&(e=e.getName()),"string"!=typeof e)throw new TypeError("role must be a ParseRole or a String");this.setWriteAccess("role:"+e,t)}}var a=s;t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=h(r(4)),i=h(r(24)),o=r(29),s=h(r(10)),a=h(r(25)),u=h(r(3)),c=h(r(128)),l=r(41);function h(e){return e&&e.__esModule?e:{default:e}}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(e){return`\\Q${e.replace("\\E","\\E\\\\E\\Q")}\\E`}function p(e){let t=null;return e.forEach(e=>{if(t||(t=e.className),t!==e.className)throw new Error("All queries must be for the same class.")}),t}function g(e,t){const r={};if(t.forEach(t=>{const n=-1!==t.indexOf(".");if(n||e.hasOwnProperty(t)){if(n){const n=t.split(".");let i=e,o=r;n.forEach((e,t,r)=>{i&&!i.hasOwnProperty(e)&&(i[e]=void 0),i&&"object"==typeof i&&(i=i[e]),t<r.length-1&&(o[e]||(o[e]={}),o=o[e])})}}else e[t]=void 0}),Object.keys(r).length>0){!function e(t,r,n,i){if(i)for(const e in t)t.hasOwnProperty(e)&&!r.hasOwnProperty(e)&&(r[e]=t[e]);for(const i in n)void 0!==r[i]&&null!==r[i]&&null!=t&&e(t[i],r[i],n[i],!0)}(n.default.getObjectStateController().getServerData({id:e.objectId,className:e.className}),e,r,!1)}}class m{constructor(e){if(f(this,"className",void 0),f(this,"_where",void 0),f(this,"_include",void 0),f(this,"_exclude",void 0),f(this,"_select",void 0),f(this,"_limit",void 0),f(this,"_skip",void 0),f(this,"_count",void 0),f(this,"_order",void 0),f(this,"_readPreference",void 0),f(this,"_includeReadPreference",void 0),f(this,"_subqueryReadPreference",void 0),f(this,"_queriesLocalDatastore",void 0),f(this,"_localDatastorePinName",void 0),f(this,"_extraOptions",void 0),f(this,"_hint",void 0),f(this,"_explain",void 0),f(this,"_xhrRequest",void 0),"string"==typeof e)"User"===e&&n.default.get("PERFORM_USER_REWRITE")?this.className="_User":this.className=e;else if(e instanceof u.default)this.className=e.className;else{if("function"!=typeof e)throw new TypeError("A ParseQuery must be constructed with a ParseObject or class name.");if("string"==typeof e.className)this.className=e.className;else{const t=new e;this.className=t.className}}this._where={},this._include=[],this._exclude=[],this._count=!1,this._limit=-1,this._skip=0,this._readPreference=null,this._includeReadPreference=null,this._subqueryReadPreference=null,this._queriesLocalDatastore=!1,this._localDatastorePinName=null,this._extraOptions={},this._xhrRequest={task:null,onchange:()=>{}}}_orQuery(e){const t=e.map(e=>e.toJSON().where);return this._where.$or=t,this}_andQuery(e){const t=e.map(e=>e.toJSON().where);return this._where.$and=t,this}_norQuery(e){const t=e.map(e=>e.toJSON().where);return this._where.$nor=t,this}_addCondition(e,t,r){return this._where[e]&&"string"!=typeof this._where[e]||(this._where[e]={}),this._where[e][t]=(0,i.default)(r,!1,!0),this}_regexStartWith(e){return"^"+d(e)}async _handleOfflineQuery(e){c.default.validateQuery(this);const t=n.default.getLocalDatastore();let r,i=(await t._serializeObjectsFromPinName(this._localDatastorePinName)).map((e,t,r)=>{const n=u.default.fromJSON(e,!1);return e._localId&&!e.objectId&&(n._localId=e._localId),c.default.matchesQuery(this.className,n,r,this)?n:null}).filter(e=>null!==e);if(e.keys){let t=e.keys.split(",");t=t.concat(["className","objectId","createdAt","updatedAt","ACL"]),i=i.map(e=>{const r=e._toFullJSON();return Object.keys(r).forEach(e=>{t.includes(e)||delete r[e]}),u.default.fromJSON(r,!1)})}if(e.order){const t=e.order.split(",");i.sort((e,r)=>function e(t,r,n){let i=n[0];const o="-"===i.slice(0,1);if(o&&(i=i.substring(1)),"_created_at"===i&&(i="createdAt"),"_updated_at"===i&&(i="updatedAt"),!/^[A-Za-z][0-9A-Za-z_]*$/.test(i)||"password"===i)throw new s.default(s.default.INVALID_KEY_NAME,"Invalid Key: "+i);const a=t.get(i),u=r.get(i);if(a<u)return o?1:-1;if(a>u)return o?-1:1;if(n.length>1){return e(t,r,n.slice(1))}return 0}(e,r,t))}e.count&&(r=i.length),e.skip&&(i=e.skip>=i.length?[]:i.splice(e.skip,i.length));let o=i.length;return 0!==e.limit&&e.limit<i.length&&(o=e.limit),i=i.splice(0,o),"number"==typeof r?{results:i,count:r}:i}toJSON(){const e={where:this._where};this._include.length&&(e.include=this._include.join(",")),this._exclude.length&&(e.excludeKeys=this._exclude.join(",")),this._select&&(e.keys=this._select.join(",")),this._count&&(e.count=1),this._limit>=0&&(e.limit=this._limit),this._skip>0&&(e.skip=this._skip),this._order&&(e.order=this._order.join(",")),this._readPreference&&(e.readPreference=this._readPreference),this._includeReadPreference&&(e.includeReadPreference=this._includeReadPreference),this._subqueryReadPreference&&(e.subqueryReadPreference=this._subqueryReadPreference),this._hint&&(e.hint=this._hint),this._explain&&(e.explain=!0);for(const t in this._extraOptions)e[t]=this._extraOptions[t];return e}withJSON(e){e.where&&(this._where=e.where),e.include&&(this._include=e.include.split(",")),e.keys&&(this._select=e.keys.split(",")),e.excludeKeys&&(this._exclude=e.excludeKeys.split(",")),e.count&&(this._count=1===e.count),e.limit&&(this._limit=e.limit),e.skip&&(this._skip=e.skip),e.order&&(this._order=e.order.split(",")),e.readPreference&&(this._readPreference=e.readPreference),e.includeReadPreference&&(this._includeReadPreference=e.includeReadPreference),e.subqueryReadPreference&&(this._subqueryReadPreference=e.subqueryReadPreference),e.hint&&(this._hint=e.hint),e.explain&&(this._explain=!!e.explain);for(const t in e)e.hasOwnProperty(t)&&-1===["where","include","keys","count","limit","skip","order","readPreference","includeReadPreference","subqueryReadPreference","hint","explain"].indexOf(t)&&(this._extraOptions[t]=e[t]);return this}static fromJSON(e,t){return new m(e).withJSON(t)}get(e,t){this.equalTo("objectId",e);const r={};return t&&t.hasOwnProperty("useMasterKey")&&(r.useMasterKey=t.useMasterKey),t&&t.hasOwnProperty("sessionToken")&&(r.sessionToken=t.sessionToken),t&&t.hasOwnProperty("context")&&"object"==typeof t.context&&(r.context=t.context),this.first(r).then(e=>{if(e)return e;const t=new s.default(s.default.OBJECT_NOT_FOUND,"Object not found.");return Promise.reject(t)})}find(e){const t={};(e=e||{}).hasOwnProperty("useMasterKey")&&(t.useMasterKey=e.useMasterKey),e.hasOwnProperty("sessionToken")&&(t.sessionToken=e.sessionToken),e.hasOwnProperty("context")&&"object"==typeof e.context&&(t.context=e.context),this._setRequestTask(t);const r=n.default.getQueryController(),i=this._select;return this._queriesLocalDatastore?this._handleOfflineQuery(this.toJSON()):r.find(this.className,this.toJSON(),t).then(e=>{if(this._explain)return e.results;const t=e.results.map(t=>{const r=e.className||this.className;return t.className||(t.className=r),i&&g(t,i),u.default.fromJSON(t,!i)}),{count:r}=e;return"number"==typeof r?{results:t,count:r}:t})}async findAll(e){let t=[];return await this.eachBatch(e=>{t=[...t,...e]},e),t}count(e){const t={};(e=e||{}).hasOwnProperty("useMasterKey")&&(t.useMasterKey=e.useMasterKey),e.hasOwnProperty("sessionToken")&&(t.sessionToken=e.sessionToken),this._setRequestTask(t);const r=n.default.getQueryController(),i=this.toJSON();return i.limit=0,i.count=1,r.find(this.className,i,t).then(e=>e.count)}distinct(e,t){const r={useMasterKey:!0};(t=t||{}).hasOwnProperty("sessionToken")&&(r.sessionToken=t.sessionToken),this._setRequestTask(r);const i=n.default.getQueryController(),o={distinct:e,where:this._where,hint:this._hint};return i.aggregate(this.className,o,r).then(e=>e.results)}aggregate(e,t){const r={useMasterKey:!0};(t=t||{}).hasOwnProperty("sessionToken")&&(r.sessionToken=t.sessionToken),this._setRequestTask(r);const i=n.default.getQueryController();if(!Array.isArray(e)&&"object"!=typeof e)throw new Error("Invalid pipeline must be Array or Object");Object.keys(this._where||{}).length&&(Array.isArray(e)||(e=[e]),e.unshift({match:this._where}));const o={pipeline:e,hint:this._hint,explain:this._explain,readPreference:this._readPreference};return i.aggregate(this.className,o,r).then(e=>e.results)}first(e){const t={};(e=e||{}).hasOwnProperty("useMasterKey")&&(t.useMasterKey=e.useMasterKey),e.hasOwnProperty("sessionToken")&&(t.sessionToken=e.sessionToken),e.hasOwnProperty("context")&&"object"==typeof e.context&&(t.context=e.context),this._setRequestTask(t);const r=n.default.getQueryController(),i=this.toJSON();i.limit=1;const o=this._select;return this._queriesLocalDatastore?this._handleOfflineQuery(i).then(e=>{if(e[0])return e[0]}):r.find(this.className,i,t).then(e=>{const t=e.results;if(t[0])return t[0].className||(t[0].className=this.className),o&&g(t[0],o),u.default.fromJSON(t[0],!o)})}eachBatch(e,t){if(t=t||{},this._order||this._skip||this._limit>=0)return Promise.reject("Cannot iterate on a query with sort, skip, or limit.");const r=new m(this.className);r._limit=t.batchSize||100,r._include=this._include.map(e=>e),this._select&&(r._select=this._select.map(e=>e)),r._hint=this._hint,r._where={};for(const e in this._where){const t=this._where[e];if(Array.isArray(t))r._where[e]=t.map(e=>e);else if(t&&"object"==typeof t){const n={};r._where[e]=n;for(const e in t)n[e]=t[e]}else r._where[e]=t}r.ascending("objectId");const n={};t.hasOwnProperty("useMasterKey")&&(n.useMasterKey=t.useMasterKey),t.hasOwnProperty("sessionToken")&&(n.sessionToken=t.sessionToken),t.hasOwnProperty("context")&&"object"==typeof t.context&&(n.context=t.context);let i=!1,s=[];return(0,o.continueWhile)(()=>!i,async()=>{const[t]=await Promise.all([r.find(n),Promise.resolve(s.length>0&&e(s))]);t.length>=r._limit?(r.greaterThan("objectId",t[t.length-1].id),s=t):t.length>0?(await Promise.resolve(e(t)),i=!0):i=!0})}each(e,t){return this.eachBatch(t=>{let r=Promise.resolve();return t.forEach(t=>{r=r.then(()=>e(t))}),r},t)}hint(e){return void 0===e&&delete this._hint,this._hint=e,this}explain(e=!0){if("boolean"!=typeof e)throw new Error("You can only set explain to a boolean value");return this._explain=e,this}async map(e,t){const r=[];let n=0;return await this.each(t=>Promise.resolve(e(t,n,this)).then(e=>{r.push(e),n+=1}),t),r}async reduce(e,t,r){let n=t,i=0;if(await this.each(r=>0===i&&void 0===t?(n=r,void(i+=1)):Promise.resolve(e(n,r,i)).then(e=>{n=e,i+=1}),r),0===i&&void 0===t)throw new TypeError("Reducing empty query result set with no initial value");return n}async filter(e,t){const r=[];let n=0;return await this.each(t=>Promise.resolve(e(t,n,this)).then(e=>{e&&r.push(t),n+=1}),t),r}equalTo(e,t){return e&&"object"==typeof e?(Object.entries(e).forEach(([e,t])=>this.equalTo(e,t)),this):void 0===t?this.doesNotExist(e):(this._where[e]=(0,i.default)(t,!1,!0),this)}notEqualTo(e,t){return e&&"object"==typeof e?(Object.entries(e).forEach(([e,t])=>this.notEqualTo(e,t)),this):this._addCondition(e,"$ne",t)}lessThan(e,t){return this._addCondition(e,"$lt",t)}greaterThan(e,t){return this._addCondition(e,"$gt",t)}lessThanOrEqualTo(e,t){return this._addCondition(e,"$lte",t)}greaterThanOrEqualTo(e,t){return this._addCondition(e,"$gte",t)}containedIn(e,t){return this._addCondition(e,"$in",t)}notContainedIn(e,t){return this._addCondition(e,"$nin",t)}containedBy(e,t){return this._addCondition(e,"$containedBy",t)}containsAll(e,t){return this._addCondition(e,"$all",t)}containsAllStartingWith(e,t){const r=this;Array.isArray(t)||(t=[t]);const n=t.map(e=>({$regex:r._regexStartWith(e)}));return this.containsAll(e,n)}exists(e){return this._addCondition(e,"$exists",!0)}doesNotExist(e){return this._addCondition(e,"$exists",!1)}matches(e,t,r){return this._addCondition(e,"$regex",t),r||(r=""),t.ignoreCase&&(r+="i"),t.multiline&&(r+="m"),r.length&&this._addCondition(e,"$options",r),this}matchesQuery(e,t){const r=t.toJSON();return r.className=t.className,this._addCondition(e,"$inQuery",r)}doesNotMatchQuery(e,t){const r=t.toJSON();return r.className=t.className,this._addCondition(e,"$notInQuery",r)}matchesKeyInQuery(e,t,r){const n=r.toJSON();return n.className=r.className,this._addCondition(e,"$select",{key:t,query:n})}doesNotMatchKeyInQuery(e,t,r){const n=r.toJSON();return n.className=r.className,this._addCondition(e,"$dontSelect",{key:t,query:n})}contains(e,t){if("string"!=typeof t)throw new Error("The value being searched for must be a string.");return this._addCondition(e,"$regex",d(t))}fullText(e,t,r){if(r=r||{},!e)throw new Error("A key is required.");if(!t)throw new Error("A search term is required");if("string"!=typeof t)throw new Error("The value being searched for must be a string.");const n={};n.$term=t;for(const e in r)switch(e){case"language":n.$language=r[e];break;case"caseSensitive":n.$caseSensitive=r[e];break;case"diacriticSensitive":n.$diacriticSensitive=r[e];break;default:throw new Error("Unknown option: "+e)}return this._addCondition(e,"$text",{$search:n})}sortByTextScore(){return this.ascending("$score"),this.select(["$score"]),this}startsWith(e,t){if("string"!=typeof t)throw new Error("The value being searched for must be a string.");return this._addCondition(e,"$regex",this._regexStartWith(t))}endsWith(e,t){if("string"!=typeof t)throw new Error("The value being searched for must be a string.");return this._addCondition(e,"$regex",d(t)+"$")}near(e,t){return t instanceof a.default||(t=new a.default(t)),this._addCondition(e,"$nearSphere",t)}withinRadians(e,t,r,n){return n||void 0===n?(this.near(e,t),this._addCondition(e,"$maxDistance",r)):this._addCondition(e,"$geoWithin",{$centerSphere:[[t.longitude,t.latitude],r]})}withinMiles(e,t,r,n){return this.withinRadians(e,t,r/3958.8,n)}withinKilometers(e,t,r,n){return this.withinRadians(e,t,r/6371,n)}withinGeoBox(e,t,r){return t instanceof a.default||(t=new a.default(t)),r instanceof a.default||(r=new a.default(r)),this._addCondition(e,"$within",{$box:[t,r]}),this}withinPolygon(e,t){return this._addCondition(e,"$geoWithin",{$polygon:t})}polygonContains(e,t){return this._addCondition(e,"$geoIntersects",{$point:t})}ascending(...e){return this._order=[],this.addAscending.apply(this,e)}addAscending(...e){return this._order||(this._order=[]),e.forEach(e=>{Array.isArray(e)&&(e=e.join()),this._order=this._order.concat(e.replace(/\s/g,"").split(","))}),this}descending(...e){return this._order=[],this.addDescending.apply(this,e)}addDescending(...e){return this._order||(this._order=[]),e.forEach(e=>{Array.isArray(e)&&(e=e.join()),this._order=this._order.concat(e.replace(/\s/g,"").split(",").map(e=>"-"+e))}),this}skip(e){if("number"!=typeof e||e<0)throw new Error("You can only skip by a positive number");return this._skip=e,this}limit(e){if("number"!=typeof e)throw new Error("You can only set the limit to a numeric value");return this._limit=e,this}withCount(e=!0){if("boolean"!=typeof e)throw new Error("You can only set withCount to a boolean value");return this._count=e,this}include(...e){return e.forEach(e=>{Array.isArray(e)?this._include=this._include.concat(e):this._include.push(e)}),this}includeAll(){return this.include("*")}select(...e){return this._select||(this._select=[]),e.forEach(e=>{Array.isArray(e)?this._select=this._select.concat(e):this._select.push(e)}),this}exclude(...e){return e.forEach(e=>{Array.isArray(e)?this._exclude=this._exclude.concat(e):this._exclude.push(e)}),this}readPreference(e,t,r){return this._readPreference=e,this._includeReadPreference=t,this._subqueryReadPreference=r,this}onChange(e,t){let r=null;return this.subscribe().then(n=>{r=n,n.on("create",t=>{e(t)}),n.on("update",t=>{e(t)}),n.on("error",e=>{t?t(e):console.warn("Moralis: Subscription error",e)})}).catch(e=>{t?t(e):console.warn("Moralis: Subscription connection error",e)}),function(){r&&r.unsubscribe()}}async subscribe(e){const t=await n.default.getUserController().currentUserAsync();e||(e=t?t.getSessionToken():void 0);const r=await n.default.getLiveQueryController().getDefaultLiveQueryClient();r.shouldOpen()&&r.open();const i=r.subscribe(this,e);return i.subscribePromise.then(()=>i)}static or(...e){const t=p(e),r=new m(t);return r._orQuery(e),r}static and(...e){const t=p(e),r=new m(t);return r._andQuery(e),r}static nor(...e){const t=p(e),r=new m(t);return r._norQuery(e),r}fromNetwork(){return this._queriesLocalDatastore=!1,this._localDatastorePinName=null,this}fromLocalDatastore(){return this.fromPinWithName(null)}fromPin(){return this.fromPinWithName(l.DEFAULT_PIN)}fromPinWithName(e){return n.default.getLocalDatastore().checkIfEnabled()&&(this._queriesLocalDatastore=!0,this._localDatastorePinName=e),this}cancel(){return this._xhrRequest.task&&"function"==typeof this._xhrRequest.task.abort?(this._xhrRequest.task._aborted=!0,this._xhrRequest.task.abort(),this._xhrRequest.task=null,this._xhrRequest.onchange=()=>{},this):this._xhrRequest.onchange=()=>this.cancel()}_setRequestTask(e){e.requestTask=e=>{this._xhrRequest.task=e,this._xhrRequest.onchange()}}}const y={find:(e,t,r)=>n.default.getRESTController().request("GET","classes/"+e,t,r),aggregate:(e,t,r)=>n.default.getRESTController().request("GET","aggregate/"+e,t,r)};n.default.setQueryController(y);var v=m;t.default=v},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(r(78)),i=l(r(4)),o=l(r(79)),s=l(r(10)),a=l(r(3)),u=l(r(80)),c=(l(r(81)),l(r(38)));function l(e){return e&&e.__esModule?e:{default:e}}let h=!i.default.get("IS_NODE"),f=!1,d=null;const p={};class g extends a.default{constructor(e){if(super("_User"),e&&"object"==typeof e&&!this.set(e||{}))throw new Error("Can't create an invalid Parse User")}_upgradeToRevocableSession(e){const t={};(e=e||{}).hasOwnProperty("useMasterKey")&&(t.useMasterKey=e.useMasterKey);return i.default.getUserController().upgradeToRevocableSession(this,t)}linkWith(e,t,r={}){let n;if(r.sessionToken=r.sessionToken||this.getSessionToken()||"","string"==typeof e)if(n=e,p[e])e=p[e];else{const t={restoreAuthentication:()=>!0,getAuthType:()=>n};p[t.getAuthType()]=t,e=t}else n=e.getAuthType();if(t&&t.hasOwnProperty("authData")){const e=this.get("authData")||{};if("object"!=typeof e)throw new Error("Invalid type: authData field should be an object");e[n]=t.authData;return i.default.getUserController().linkWith(this,e,r)}return new Promise((t,n)=>{e.authenticate({success:(e,i)=>{const o={};o.authData=i,this.linkWith(e,o,r).then(()=>{t(this)},e=>{n(e)})},error:(e,t)=>{n(t)}})})}_linkWith(e,t,r={}){return this.linkWith(e,t,r)}_synchronizeAuthData(e){if(!this.isCurrent()||!e)return;let t;"string"==typeof e?(t=e,e=p[t]):t=e.getAuthType();const r=this.get("authData");if(!e||!r||"object"!=typeof r)return;e.restoreAuthentication(r[t])||this._unlinkFrom(e)}_synchronizeAllAuthData(){const e=this.get("authData");if("object"==typeof e)for(const t in e)this._synchronizeAuthData(t)}_cleanupAuthData(){if(!this.isCurrent())return;const e=this.get("authData");if("object"==typeof e)for(const t in e)e[t]||delete e[t]}_unlinkFrom(e,t){return this.linkWith(e,{authData:null},t).then(()=>(this._synchronizeAuthData(e),Promise.resolve(this)))}_isLinked(e){let t;t="string"==typeof e?e:e.getAuthType();const r=this.get("authData")||{};return"object"==typeof r&&!!r[t]}_logOutWithAll(){const e=this.get("authData");if("object"==typeof e)for(const t in e)this._logOutWith(t)}_logOutWith(e){this.isCurrent()&&("string"==typeof e&&(e=p[e]),e&&e.deauthenticate&&e.deauthenticate())}_preserveFieldsOnFetch(){return{sessionToken:this.get("sessionToken")}}isCurrent(){const e=g.current();return!!e&&e.id===this.id}getUsername(){const e=this.get("username");return null==e||"string"==typeof e?e:""}setUsername(e){const t=this.get("authData");t&&"object"==typeof t&&t.hasOwnProperty("anonymous")&&(t.anonymous=null),this.set("username",e)}setPassword(e){this.set("password",e)}getEmail(){const e=this.get("email");return null==e||"string"==typeof e?e:""}setEmail(e){return this.set("email",e)}getSessionToken(){const e=this.get("sessionToken");return null==e||"string"==typeof e?e:""}authenticated(){const e=g.current();return!!this.get("sessionToken")&&!!e&&e.id===this.id}signUp(e,t){const r={};(t=t||{}).hasOwnProperty("useMasterKey")&&(r.useMasterKey=t.useMasterKey),t.hasOwnProperty("installationId")&&(r.installationId=t.installationId);return i.default.getUserController().signUp(this,e,r)}logIn(e){const t={usePost:!0};(e=e||{}).hasOwnProperty("useMasterKey")&&(t.useMasterKey=e.useMasterKey),e.hasOwnProperty("installationId")&&(t.installationId=e.installationId),e.hasOwnProperty("usePost")&&(t.usePost=e.usePost);return i.default.getUserController().logIn(this,t)}save(...e){return super.save.apply(this,e).then(()=>this.isCurrent()?i.default.getUserController().updateUserOnDisk(this):this)}destroy(...e){return super.destroy.apply(this,e).then(()=>this.isCurrent()?i.default.getUserController().removeUserFromDisk():this)}fetch(...e){return super.fetch.apply(this,e).then(()=>this.isCurrent()?i.default.getUserController().updateUserOnDisk(this):this)}fetchWithInclude(...e){return super.fetchWithInclude.apply(this,e).then(()=>this.isCurrent()?i.default.getUserController().updateUserOnDisk(this):this)}verifyPassword(e,t){const r=this.getUsername()||"";return g.verifyPassword(r,e,t)}static readOnlyAttributes(){return["sessionToken"]}static extend(e,t){if(e)for(const t in e)"className"!==t&&Object.defineProperty(g.prototype,t,{value:e[t],enumerable:!1,writable:!0,configurable:!0});if(t)for(const e in t)"className"!==e&&Object.defineProperty(g,e,{value:t[e],enumerable:!1,writable:!0,configurable:!0});return g}static current(){if(!h)return null;return i.default.getUserController().currentUser()}static currentAsync(){if(!h)return Promise.resolve(null);return i.default.getUserController().currentUserAsync()}static signUp(e,t,r,n){(r=r||{}).username=e,r.password=t;return new this(r).signUp({},n)}static logIn(e,t,r){if("string"!=typeof e)return Promise.reject(new s.default(s.default.OTHER_CAUSE,"Username must be a string."));if("string"!=typeof t)return Promise.reject(new s.default(s.default.OTHER_CAUSE,"Password must be a string."));const n=new this;return n._finishFetch({username:e,password:t}),n.logIn(r)}static loginOrSignup(e,t){return this.logIn(e,t).catch(r=>{if(101===r.code){const r=new this;return r.set("username",e),r.set("password",t),r.signUp()}throw r})}static become(e,t){if(!h)throw new Error("It is not memory-safe to become a user in a server environment");const r={sessionToken:e};(t=t||{}).hasOwnProperty("useMasterKey")&&(r.useMasterKey=t.useMasterKey);const n=i.default.getUserController(),o=new this;return n.become(o,r)}static me(e,t={}){const r=i.default.getUserController(),n={sessionToken:e};t.useMasterKey&&(n.useMasterKey=t.useMasterKey);const o=new this;return r.me(o,n)}static hydrate(e){const t=i.default.getUserController(),r=new this;return t.hydrate(r,e)}static logInWith(e,t,r){return(new this).linkWith(e,t,r)}static logOut(e={}){return i.default.getUserController().logOut(e)}static requestPasswordReset(e,t){const r={};(t=t||{}).hasOwnProperty("useMasterKey")&&(r.useMasterKey=t.useMasterKey);return i.default.getUserController().requestPasswordReset(e,r)}static requestEmailVerification(e,t){const r={};(t=t||{}).hasOwnProperty("useMasterKey")&&(r.useMasterKey=t.useMasterKey);return i.default.getUserController().requestEmailVerification(e,r)}static verifyPassword(e,t,r){if("string"!=typeof e)return Promise.reject(new s.default(s.default.OTHER_CAUSE,"Username must be a string."));if("string"!=typeof t)return Promise.reject(new s.default(s.default.OTHER_CAUSE,"Password must be a string."));const n={};(r=r||{}).hasOwnProperty("useMasterKey")&&(n.useMasterKey=r.useMasterKey);return i.default.getUserController().verifyPassword(e,t,n)}static allowCustomUserClass(e){i.default.set("PERFORM_USER_REWRITE",!e)}static enableRevocableSession(e){if(e=e||{},i.default.set("FORCE_REVOCABLE_SESSION",!0),h){const t=g.current();if(t)return t._upgradeToRevocableSession(e)}return Promise.resolve()}static enableUnsafeCurrentUser(){h=!0}static disableUnsafeCurrentUser(){h=!1}static _registerAuthenticationProvider(e){p[e.getAuthType()]=e,g.currentAsync().then(t=>{t&&t._synchronizeAuthData(e.getAuthType())})}static _logInWith(e,t,r){return(new this).linkWith(e,t,r)}static _clearCache(){d=null,f=!1}static _setCurrentUserCache(e){d=e}}a.default.registerSubclass("_User",g);const m={updateUserOnDisk(e){const t=c.default.generatePath("currentUser"),r=e.toJSON();delete r.password,r.className="_User";let n=JSON.stringify(r);if(i.default.get("ENCRYPTED_USER")){n=i.default.getCryptoController().encrypt(r,i.default.get("ENCRYPTED_KEY"))}return c.default.setItemAsync(t,n).then(()=>e)},removeUserFromDisk(){const e=c.default.generatePath("currentUser");return f=!0,d=null,c.default.removeItemAsync(e)},async setCurrentUser(e){const t=await this.currentUserAsync();return t&&!e.equals(t)&&n.default.isLinked(t)&&await t.destroy({sessionToken:t.getSessionToken()}),d=e,e._cleanupAuthData(),e._synchronizeAllAuthData(),m.updateUserOnDisk(e)},currentUser(){if(d)return d;if(f)return null;if(c.default.async())throw new Error("Cannot call currentUser() when using a platform with an async storage system. Call currentUserAsync() instead.");const e=c.default.generatePath("currentUser");let t=c.default.getItem(e);if(f=!0,!t)return d=null,null;if(i.default.get("ENCRYPTED_USER")){t=i.default.getCryptoController().decrypt(t,i.default.get("ENCRYPTED_KEY"))}t=JSON.parse(t),t.className||(t.className="_User"),t._id&&(t.objectId!==t._id&&(t.objectId=t._id),delete t._id),t._sessionToken&&(t.sessionToken=t._sessionToken,delete t._sessionToken);const r=a.default.fromJSON(t);return d=r,r._synchronizeAllAuthData(),r},currentUserAsync(){if(d)return Promise.resolve(d);if(f)return Promise.resolve(null);const e=c.default.generatePath("currentUser");return c.default.getItemAsync(e).then(e=>{if(f=!0,!e)return d=null,Promise.resolve(null);if(i.default.get("ENCRYPTED_USER")){e=i.default.getCryptoController().decrypt(e.toString(),i.default.get("ENCRYPTED_KEY"))}(e=JSON.parse(e)).className||(e.className="_User"),e._id&&(e.objectId!==e._id&&(e.objectId=e._id),delete e._id),e._sessionToken&&(e.sessionToken=e._sessionToken,delete e._sessionToken);const t=a.default.fromJSON(e);return d=t,t._synchronizeAllAuthData(),Promise.resolve(t)})},signUp(e,t,r){const n=t&&t.username||e.get("username"),i=t&&t.password||e.get("password");return n&&n.length?i&&i.length?e.save(t,r).then(()=>(e._finishFetch({password:void 0}),h?m.setCurrentUser(e):e)):Promise.reject(new s.default(s.default.OTHER_CAUSE,"Cannot sign up user with an empty password.")):Promise.reject(new s.default(s.default.OTHER_CAUSE,"Cannot sign up user with an empty username."))},logIn(e,t){const r=i.default.getRESTController(),n=i.default.getObjectStateController(),o={username:e.get("username"),password:e.get("password")};return r.request(t.usePost?"POST":"GET","login",o,t).then(t=>(e._migrateId(t.objectId),e._setExisted(!0),n.setPendingOp(e._getStateIdentifier(),"username",void 0),n.setPendingOp(e._getStateIdentifier(),"password",void 0),t.password=void 0,e._finishFetch(t),h?m.setCurrentUser(e):Promise.resolve(e)))},become:(e,t)=>i.default.getRESTController().request("GET","users/me",{},t).then(t=>(e._finishFetch(t),e._setExisted(!0),m.setCurrentUser(e))),hydrate:(e,t)=>(e._finishFetch(t),e._setExisted(!0),t.sessionToken&&h?m.setCurrentUser(e):Promise.resolve(e)),me:(e,t)=>i.default.getRESTController().request("GET","users/me",{},t).then(t=>(e._finishFetch(t),e._setExisted(!0),e)),logOut(e){r(58).cleanup();const t=i.default.getRESTController();return e.sessionToken?t.request("POST","logout",{},e):m.currentUserAsync().then(e=>{const r=c.default.generatePath("currentUser");let i=c.default.removeItemAsync(r);if(null!==e){const r=n.default.isLinked(e),s=e.getSessionToken();s&&(0,o.default)(s)&&(i=i.then(()=>{if(r)return e.destroy({sessionToken:s})}).then(()=>t.request("POST","logout",{},{sessionToken:s}))),e._logOutWithAll(),e._finishFetch({sessionToken:void 0}),e._clearServerData()}return f=!0,d=null,i})},requestPasswordReset:(e,t)=>i.default.getRESTController().request("POST","requestPasswordReset",{email:e},t),upgradeToRevocableSession(e,t){const r=e.getSessionToken();if(!r)return Promise.reject(new s.default(s.default.SESSION_MISSING,"Cannot upgrade a user with no session token"));t.sessionToken=r;return i.default.getRESTController().request("POST","upgradeToRevocableSession",{},t).then(t=>{const r=new u.default;return r._finishFetch(t),e._finishFetch({sessionToken:r.getSessionToken()}),e.isCurrent()?m.setCurrentUser(e):Promise.resolve(e)})},linkWith:(e,t,r)=>e.save({authData:t},r).then(()=>h?m.setCurrentUser(e):e),verifyPassword:(e,t,r)=>i.default.getRESTController().request("GET","verifyPassword",{username:e,password:t},r),requestEmailVerification:(e,t)=>i.default.getRESTController().request("POST","verificationEmailRequest",{email:e},t)};i.default.setUserController(m);var y=g;t.default=y},function(e,t,r){"use strict";var n=r(35),i=r(18);function o(e,t){return 55296==(64512&e.charCodeAt(t))&&(!(t<0||t+1>=e.length)&&56320==(64512&e.charCodeAt(t+1)))}function s(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function a(e){return 1===e.length?"0"+e:e}function u(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}t.inherits=i,t.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"==typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),i=0;i<e.length;i+=2)r.push(parseInt(e[i]+e[i+1],16))}else for(var n=0,i=0;i<e.length;i++){var s=e.charCodeAt(i);s<128?r[n++]=s:s<2048?(r[n++]=s>>6|192,r[n++]=63&s|128):o(e,i)?(s=65536+((1023&s)<<10)+(1023&e.charCodeAt(++i)),r[n++]=s>>18|240,r[n++]=s>>12&63|128,r[n++]=s>>6&63|128,r[n++]=63&s|128):(r[n++]=s>>12|224,r[n++]=s>>6&63|128,r[n++]=63&s|128)}else for(i=0;i<e.length;i++)r[i]=0|e[i];return r},t.toHex=function(e){for(var t="",r=0;r<e.length;r++)t+=a(e[r].toString(16));return t},t.htonl=s,t.toHex32=function(e,t){for(var r="",n=0;n<e.length;n++){var i=e[n];"little"===t&&(i=s(i)),r+=u(i.toString(16))}return r},t.zero2=a,t.zero8=u,t.join32=function(e,t,r,i){var o=r-t;n(o%4==0);for(var s=new Array(o/4),a=0,u=t;a<s.length;a++,u+=4){var c;c="big"===i?e[u]<<24|e[u+1]<<16|e[u+2]<<8|e[u+3]:e[u+3]<<24|e[u+2]<<16|e[u+1]<<8|e[u],s[a]=c>>>0}return s},t.split32=function(e,t){for(var r=new Array(4*e.length),n=0,i=0;n<e.length;n++,i+=4){var o=e[n];"big"===t?(r[i]=o>>>24,r[i+1]=o>>>16&255,r[i+2]=o>>>8&255,r[i+3]=255&o):(r[i+3]=o>>>24,r[i+2]=o>>>16&255,r[i+1]=o>>>8&255,r[i]=255&o)}return r},t.rotr32=function(e,t){return e>>>t|e<<32-t},t.rotl32=function(e,t){return e<<t|e>>>32-t},t.sum32=function(e,t){return e+t>>>0},t.sum32_3=function(e,t,r){return e+t+r>>>0},t.sum32_4=function(e,t,r,n){return e+t+r+n>>>0},t.sum32_5=function(e,t,r,n,i){return e+t+r+n+i>>>0},t.sum64=function(e,t,r,n){var i=e[t],o=n+e[t+1]>>>0,s=(o<n?1:0)+r+i;e[t]=s>>>0,e[t+1]=o},t.sum64_hi=function(e,t,r,n){return(t+n>>>0<t?1:0)+e+r>>>0},t.sum64_lo=function(e,t,r,n){return t+n>>>0},t.sum64_4_hi=function(e,t,r,n,i,o,s,a){var u=0,c=t;return u+=(c=c+n>>>0)<t?1:0,u+=(c=c+o>>>0)<o?1:0,e+r+i+s+(u+=(c=c+a>>>0)<a?1:0)>>>0},t.sum64_4_lo=function(e,t,r,n,i,o,s,a){return t+n+o+a>>>0},t.sum64_5_hi=function(e,t,r,n,i,o,s,a,u,c){var l=0,h=t;return l+=(h=h+n>>>0)<t?1:0,l+=(h=h+o>>>0)<o?1:0,l+=(h=h+a>>>0)<a?1:0,e+r+i+s+u+(l+=(h=h+c>>>0)<c?1:0)>>>0},t.sum64_5_lo=function(e,t,r,n,i,o,s,a,u,c){return t+n+o+a+c>>>0},t.rotr64_hi=function(e,t,r){return(t<<32-r|e>>>r)>>>0},t.rotr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0},t.shr64_hi=function(e,t,r){return e>>>r},t.shr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(4))&&n.__esModule?n:{default:n},o=r(59);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const c=r(10).default,l=/^data:([a-zA-Z]+\/[-a-zA-Z0-9+.]+)(;charset=[a-zA-Z0-9\-/]*)?;base64,/;class h{constructor(e,t,r,n,i){u(this,"_name",void 0),u(this,"_url",void 0),u(this,"_hash",void 0),u(this,"_ipfs",void 0),u(this,"_source",void 0),u(this,"_previousSave",void 0),u(this,"_data",void 0),u(this,"_requestTask",void 0),u(this,"_metadata",void 0),u(this,"_tags",void 0);const o=r||"";if(this._name=e,this._metadata=n||{},this._tags=i||{},void 0!==t)if(Array.isArray(t))this._data=h.encodeBase64(t),this._source={format:"base64",base64:this._data,type:o};else if("undefined"!=typeof Blob&&t instanceof Blob)this._source={format:"file",file:t,type:o};else if(t&&"string"==typeof t.uri&&void 0!==t.uri)this._source={format:"uri",uri:t.uri,type:o};else{if(!t||"string"!=typeof t.base64)throw new TypeError("Cannot create a Parse.File with that data.");{const{base64:e}=t,r=e.indexOf(",");if(-1!==r){const t=l.exec(e.slice(0,r+1));this._data=e.slice(r+1),this._source={format:"base64",base64:this._data,type:t[1]}}else this._data=e,this._source={format:"base64",base64:e,type:o}}}}async getData(){if(this._data)return this._data;if(!this._url)throw new Error("Cannot retrieve data for unsaved ParseFile.");const e=i.default.getFileController(),t=await e.download(this._url,{requestTask:e=>this._requestTask=e});return this._data=t.base64,this._data}name(){return this._name}url(e){if(e=e||{},this._url)return e.forceSecure?this._url.replace(/^http:\/\//i,"https://"):this._url}ipfs(){return this._ipfs}hash(){return this._hash}metadata(){return this._metadata}tags(){return this._tags}save(e){(e=e||{}).requestTask=e=>this._requestTask=e,e.metadata=this._metadata,e.tags=this._tags;const t=i.default.getFileController();if(this._previousSave||("file"===this._source.format?this._previousSave=t.saveFile(this._name,this._source,e).then(e=>(this._name=e.name,this._url=e.url,this._hash=e.hash,this._ipfs=e.ipfs,this._data=null,this._requestTask=null,this)):"uri"===this._source.format?this._previousSave=t.download(this._source.uri,e).then(r=>{if(!r||!r.base64)return{};const n={format:"base64",base64:r.base64,type:r.contentType};return this._data=r.base64,this._requestTask=null,t.saveBase64(this._name,n,e)}).then(e=>(this._name=e.name,this._url=e.url,this._hash=e.hash,this._ipfs=e.ipfs,this._requestTask=null,this)):this._previousSave=t.saveBase64(this._name,this._source,e).then(e=>(this._name=e.name,this._url=e.url,this._hash=e.hash,this._ipfs=e.ipfs,this._requestTask=null,this))),this._previousSave)return this._previousSave}saveIPFS(e){return this.save(a(a({},e),{},{ipfs:!0}))}cancel(){this._requestTask&&"function"==typeof this._requestTask.abort&&this._requestTask.abort(),this._requestTask=null}destroy(e={}){if(!this._name)throw new c(c.FILE_DELETE_UNNAMED_ERROR,"Cannot delete an unnamed file.");const t={useMasterKey:!0};e.hasOwnProperty("useMasterKey")&&(t.useMasterKey=e.useMasterKey);return i.default.getFileController().deleteFile(this._name,t).then(()=>(this._data=null,this._requestTask=null,this))}toJSON(){return{__type:"File",name:this._name,url:this._url,ipfs:this._ipfs,hash:this._hash}}equals(e){return this===e||e instanceof h&&this.name()===e.name()&&this.url()===e.url()&&void 0!==this.url()}setMetadata(e){e&&"object"==typeof e&&Object.keys(e).forEach(t=>{this.addMetadata(t,e[t])})}addMetadata(e,t){"string"==typeof e&&(this._metadata[e]=t)}setTags(e){e&&"object"==typeof e&&Object.keys(e).forEach(t=>{this.addTag(t,e[t])})}addTag(e,t){"string"==typeof e&&(this._tags[e]=t)}static fromJSON(e){if("File"!==e.__type)throw new TypeError("JSON object does not represent a ParseFile");const t=new h(e.name);return t._url=e.url,t._hash=e.hash,t._ipfs=e.ipfs,t}static encodeBase64(e){return(0,o.encodeBase64)(e)}}i.default.setFileController(r(109));var f=h;t.default=f,t.b64Digit=o.b64Digit},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(28),i=(o(r(3)),o(r(14)));function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=class{constructor(e,t){s(this,"parent",void 0),s(this,"key",void 0),s(this,"targetClassName",void 0),this.parent=e,this.key=t,this.targetClassName=null}_ensureParentAndKey(e,t){if(this.key=this.key||t,this.key!==t)throw new Error("Internal Error. Relation retrieved from two different keys.");if(this.parent){if(this.parent.className!==e.className)throw new Error("Internal Error. Relation retrieved from two different Objects.");if(this.parent.id){if(this.parent.id!==e.id)throw new Error("Internal Error. Relation retrieved from two different Objects.")}else e.id&&(this.parent=e)}else this.parent=e}add(e){Array.isArray(e)||(e=[e]);const t=new n.RelationOp(e,[]),{parent:r}=this;if(!r)throw new Error("Cannot add to a Relation without a parent");return 0===e.length||(r.set(this.key,t),this.targetClassName=t._targetClassName),r}remove(e){Array.isArray(e)||(e=[e]);const t=new n.RelationOp([],e);if(!this.parent)throw new Error("Cannot remove from a Relation without a parent");0!==e.length&&(this.parent.set(this.key,t),this.targetClassName=t._targetClassName)}toJSON(){return{__type:"Relation",className:this.targetClassName}}query(){let e;const{parent:t}=this;if(!t)throw new Error("Cannot construct a query for a Relation without a parent");return this.targetClassName?e=new i.default(this.targetClassName):(e=new i.default(t.className),e._extraOptions.redirectClassNameForKey=this.key),e._addCondition("$relatedTo","object",{__type:"Pointer",className:t.className,objectId:t.id}),e._addCondition("$relatedTo","key",this.key),e}};t.default=a},function(e,t,r){(function(t){var n;e.exports=(n=n||function(e,n){var i;if("undefined"!=typeof window&&window.crypto&&(i=window.crypto),"undefined"!=typeof self&&self.crypto&&(i=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(i=globalThis.crypto),!i&&"undefined"!=typeof window&&window.msCrypto&&(i=window.msCrypto),!i&&void 0!==t&&t.crypto&&(i=t.crypto),!i)try{i=r(154)}catch(e){}var o=function(){if(i){if("function"==typeof i.getRandomValues)try{return i.getRandomValues(new Uint32Array(1))[0]}catch(e){}if("function"==typeof i.randomBytes)try{return i.randomBytes(4).readInt32LE()}catch(e){}}throw new Error("Native crypto module could not be used to get secure random number.")},s=Object.create||function(){function e(){}return function(t){var r;return e.prototype=t,r=new e,e.prototype=null,r}}(),a={},u=a.lib={},c=u.Base={extend:function(e){var t=s(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},l=u.WordArray=c.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||f).stringify(this)},concat:function(e){var t=this.words,r=e.words,n=this.sigBytes,i=e.sigBytes;if(this.clamp(),n%4)for(var o=0;o<i;o++){var s=r[o>>>2]>>>24-o%4*8&255;t[n+o>>>2]|=s<<24-(n+o)%4*8}else for(var a=0;a<i;a+=4)t[n+a>>>2]=r[a>>>2];return this.sigBytes+=i,this},clamp:function(){var t=this.words,r=this.sigBytes;t[r>>>2]&=4294967295<<32-r%4*8,t.length=e.ceil(r/4)},clone:function(){var e=c.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],r=0;r<e;r+=4)t.push(o());return new l.init(t,e)}}),h=a.enc={},f=h.Hex={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],i=0;i<r;i++){var o=t[i>>>2]>>>24-i%4*8&255;n.push((o>>>4).toString(16)),n.push((15&o).toString(16))}return n.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r[n>>>3]|=parseInt(e.substr(n,2),16)<<24-n%8*4;return new l.init(r,t/2)}},d=h.Latin1={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],i=0;i<r;i++){var o=t[i>>>2]>>>24-i%4*8&255;n.push(String.fromCharCode(o))}return n.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n++)r[n>>>2]|=(255&e.charCodeAt(n))<<24-n%4*8;return new l.init(r,t)}},p=h.Utf8={stringify:function(e){try{return decodeURIComponent(escape(d.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return d.parse(unescape(encodeURIComponent(e)))}},g=u.BufferedBlockAlgorithm=c.extend({reset:function(){this._data=new l.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=p.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var r,n=this._data,i=n.words,o=n.sigBytes,s=this.blockSize,a=o/(4*s),u=(a=t?e.ceil(a):e.max((0|a)-this._minBufferSize,0))*s,c=e.min(4*u,o);if(u){for(var h=0;h<u;h+=s)this._doProcessBlock(i,h);r=i.splice(0,u),n.sigBytes-=c}return new l.init(r,c)},clone:function(){var e=c.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),m=(u.Hasher=g.extend({cfg:c.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){g.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,r){return new e.init(r).finalize(t)}},_createHmacHelper:function(e){return function(t,r){return new m.HMAC.init(e,r).finalize(t)}}}),a.algo={});return a}(Math),n)}).call(this,r(7))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t){if(null===t||"object"!=typeof t)return t;if(Array.isArray(t)){const r=[];return t.forEach((t,n)=>{r[n]=e(t)}),r}if("string"==typeof t.__op)return(0,a.opFromJSON)(t);if("Pointer"===t.__type&&t.className)return s.default.fromJSON(t);if("Object"===t.__type&&t.className)return s.default.fromJSON(t);if("Relation"===t.__type){const e=new u.default(null,null);return e.targetClassName=t.className,e}if("Date"===t.__type)return new Date(t.iso);if("File"===t.__type)return n.default.fromJSON(t);if("GeoPoint"===t.__type)return new i.default({latitude:t.latitude,longitude:t.longitude});if("Polygon"===t.__type)return new o.default(t.coordinates);const r={};for(const n in t)r[n]=e(t[n]);return r};c(r(13));var n=c(r(17)),i=c(r(25)),o=c(r(40)),s=c(r(3)),a=r(28),u=c(r(19));function c(e){return e&&e.__esModule?e:{default:e}}},function(e,t,r){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var n=r(111),i=r(112),o=r(61);function s(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(e,t){if(s()<t)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=u.prototype:(null===e&&(e=new u(t)),e.length=t),e}function u(e,t,r){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(e,t,r);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return h(this,e)}return c(this,e,t,r)}function c(e,t,r,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n);u.TYPED_ARRAY_SUPPORT?(e=t).__proto__=u.prototype:e=f(e,t);return e}(e,t,r,n):"string"==typeof t?function(e,t,r){"string"==typeof r&&""!==r||(r="utf8");if(!u.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|p(t,r),i=(e=a(e,n)).write(t,r);i!==n&&(e=e.slice(0,i));return e}(e,t,r):function(e,t){if(u.isBuffer(t)){var r=0|d(t.length);return 0===(e=a(e,r)).length||t.copy(e,0,0,r),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(n=t.length)!=n?a(e,0):f(e,t);if("Buffer"===t.type&&o(t.data))return f(e,t.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function h(e,t){if(l(t),e=a(e,t<0?0:0|d(t)),!u.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function f(e,t){var r=t.length<0?0:0|d(t.length);e=a(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function d(e){if(e>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|e}function p(e,t){if(u.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return U(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return q(e).length;default:if(n)return U(e).length;t=(""+t).toLowerCase(),n=!0}}function g(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return N(this,t,r);case"utf8":case"utf-8":return S(this,t,r);case"ascii":return C(this,t,r);case"latin1":case"binary":return k(this,t,r);case"base64":return O(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function m(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function y(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=u.from(t,n)),u.isBuffer(t))return 0===t.length?-1:v(e,t,r,n,i);if("number"==typeof t)return t&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):v(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function v(e,t,r,n,i){var o,s=1,a=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;s=2,a/=2,u/=2,r/=2}function c(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){var l=-1;for(o=r;o<a;o++)if(c(e,o)===c(t,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===u)return l*s}else-1!==l&&(o-=o-l),l=-1}else for(r+u>a&&(r=a-u),o=r;o>=0;o--){for(var h=!0,f=0;f<u;f++)if(c(e,o+f)!==c(t,f)){h=!1;break}if(h)return o}return-1}function b(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var s=0;s<n;++s){var a=parseInt(t.substr(2*s,2),16);if(isNaN(a))return s;e[r+s]=a}return s}function w(e,t,r,n){return W(U(t,e.length-r),e,r,n)}function _(e,t,r,n){return W(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function E(e,t,r,n){return _(e,t,r,n)}function A(e,t,r,n){return W(q(t),e,r,n)}function P(e,t,r,n){return W(function(e,t){for(var r,n,i,o=[],s=0;s<e.length&&!((t-=2)<0);++s)r=e.charCodeAt(s),n=r>>8,i=r%256,o.push(i),o.push(n);return o}(t,e.length-r),e,r,n)}function O(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function S(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var o,s,a,u,c=e[i],l=null,h=c>239?4:c>223?3:c>191?2:1;if(i+h<=r)switch(h){case 1:c<128&&(l=c);break;case 2:128==(192&(o=e[i+1]))&&(u=(31&c)<<6|63&o)>127&&(l=u);break;case 3:o=e[i+1],s=e[i+2],128==(192&o)&&128==(192&s)&&(u=(15&c)<<12|(63&o)<<6|63&s)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:o=e[i+1],s=e[i+2],a=e[i+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(u=(15&c)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&u<1114112&&(l=u)}null===l?(l=65533,h=1):l>65535&&(l-=65536,n.push(l>>>10&1023|55296),l=56320|1023&l),n.push(l),i+=h}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);var r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=4096));return r}(n)}t.Buffer=u,t.SlowBuffer=function(e){+e!=e&&(e=0);return u.alloc(+e)},t.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=s(),u.poolSize=8192,u._augment=function(e){return e.__proto__=u.prototype,e},u.from=function(e,t,r){return c(null,e,t,r)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(e,t,r){return function(e,t,r,n){return l(t),t<=0?a(e,t):void 0!==r?"string"==typeof n?a(e,t).fill(r,n):a(e,t).fill(r):a(e,t)}(null,e,t,r)},u.allocUnsafe=function(e){return h(null,e)},u.allocUnsafeSlow=function(e){return h(null,e)},u.isBuffer=function(e){return!(null==e||!e._isBuffer)},u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=u.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var s=e[r];if(!u.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(n,i),i+=s.length}return n},u.byteLength=p,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)m(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},u.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?S(this,0,e):g.apply(this,arguments)},u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(e+=" ... ")),"<Buffer "+e+">"},u.prototype.compare=function(e,t,r,n,i){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(n>>>=0),s=(r>>>=0)-(t>>>=0),a=Math.min(o,s),c=this.slice(n,i),l=e.slice(t,r),h=0;h<a;++h)if(c[h]!==l[h]){o=c[h],s=l[h];break}return o<s?-1:s<o?1:0},u.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},u.prototype.indexOf=function(e,t,r){return y(this,e,t,r,!0)},u.prototype.lastIndexOf=function(e,t,r){return y(this,e,t,r,!1)},u.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return b(this,e,t,r);case"utf8":case"utf-8":return w(this,e,t,r);case"ascii":return _(this,e,t,r);case"latin1":case"binary":return E(this,e,t,r);case"base64":return A(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function C(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function k(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function N(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=t;o<r;++o)i+=F(e[o]);return i}function T(e,t,r){for(var n=e.slice(t,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function I(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function R(e,t,r,n,i,o){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function x(e,t,r,n){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-r,2);i<o;++i)e[r+i]=(t&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function M(e,t,r,n){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-r,4);i<o;++i)e[r+i]=t>>>8*(n?i:3-i)&255}function j(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function D(e,t,r,n,o){return o||j(e,0,r,4),i.write(e,t,r,n,23,4),r+4}function B(e,t,r,n,o){return o||j(e,0,r,8),i.write(e,t,r,n,52,8),r+8}u.prototype.slice=function(e,t){var r,n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),u.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=u.prototype;else{var i=t-e;r=new u(i,void 0);for(var o=0;o<i;++o)r[o]=this[o+e]}return r},u.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||I(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n},u.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||I(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},u.prototype.readUInt8=function(e,t){return t||I(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return t||I(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return t||I(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return t||I(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,t){return t||I(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||I(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},u.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||I(e,t,this.length);for(var n=t,i=1,o=this[e+--n];n>0&&(i*=256);)o+=this[e+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},u.prototype.readInt8=function(e,t){return t||I(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){t||I(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt16BE=function(e,t){t||I(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt32LE=function(e,t){return t||I(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return t||I(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return t||I(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return t||I(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return t||I(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return t||I(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||R(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},u.prototype.writeUIntBE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||R(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},u.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||R(this,e,t,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||R(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):x(this,e,t,!0),t+2},u.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||R(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):x(this,e,t,!1),t+2},u.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||R(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):M(this,e,t,!0),t+4},u.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||R(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):M(this,e,t,!1),t+4},u.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);R(this,e,t,r,i-1,-i)}var o=0,s=1,a=0;for(this[t]=255&e;++o<r&&(s*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+r},u.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);R(this,e,t,r,i-1,-i)}var o=r-1,s=1,a=0;for(this[t+o]=255&e;--o>=0&&(s*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+r},u.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||R(this,e,t,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||R(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):x(this,e,t,!0),t+2},u.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||R(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):x(this,e,t,!1),t+2},u.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||R(this,e,t,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):M(this,e,t,!0),t+4},u.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||R(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):M(this,e,t,!1),t+4},u.prototype.writeFloatLE=function(e,t,r){return D(this,e,t,!0,r)},u.prototype.writeFloatBE=function(e,t,r){return D(this,e,t,!1,r)},u.prototype.writeDoubleLE=function(e,t,r){return B(this,e,t,!0,r)},u.prototype.writeDoubleBE=function(e,t,r){return B(this,e,t,!1,r)},u.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i,o=n-r;if(this===e&&r<t&&t<n)for(i=o-1;i>=0;--i)e[i+t]=this[i+r];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+o),t);return o},u.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!u.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var o;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(o=t;o<r;++o)this[o]=e;else{var s=u.isBuffer(e)?e:U(new u(e,n).toString()),a=s.length;for(o=0;o<r-t;++o)this[o+t]=s[o%a]}return this};var L=/[^+\/0-9A-Za-z-_]/g;function F(e){return e<16?"0"+e.toString(16):e.toString(16)}function U(e,t){var r;t=t||1/0;for(var n=e.length,i=null,o=[],s=0;s<n;++s){if((r=e.charCodeAt(s))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function q(e){return n.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(L,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function W(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}}).call(this,r(7))},function(e,t,r){"use strict";var n,i="object"==typeof Reflect?Reflect:null,o=i&&"function"==typeof i.apply?i.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};n=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var s=Number.isNaN||function(e){return e!=e};function a(){a.init.call(this)}e.exports=a,e.exports.once=function(e,t){return new Promise((function(r,n){function i(r){e.removeListener(t,o),n(r)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",i),r([].slice.call(arguments))}y(e,t,o,{once:!0}),"error"!==t&&function(e,t,r){"function"==typeof e.on&&y(e,"error",t,r)}(e,i,{once:!0})}))},a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var u=10;function c(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function l(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function h(e,t,r,n){var i,o,s,a;if(c(r),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),o=e._events),s=o[t]),void 0===s)s=o[t]=r,++e._eventsCount;else if("function"==typeof s?s=o[t]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),(i=l(e))>0&&s.length>i&&!s.warned){s.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=s.length,a=u,console&&console.warn&&console.warn(a)}return e}function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=f.bind(n);return i.listener=r,n.wrapFn=i,i}function p(e,t,r){var n=e._events;if(void 0===n)return[];var i=n[t];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(i):m(i,i.length)}function g(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function m(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function y(e,t,r,n){if("function"==typeof e.on)n.once?e.once(t,r):e.on(t,r);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(o){n.once&&e.removeEventListener(t,i),r(o)}))}}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");u=e}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},a.prototype.getMaxListeners=function(){return l(this)},a.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n="error"===e,i=this._events;if(void 0!==i)n=n&&void 0===i.error;else if(!n)return!1;if(n){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var u=i[e];if(void 0===u)return!1;if("function"==typeof u)o(u,this,t);else{var c=u.length,l=m(u,c);for(r=0;r<c;++r)o(l[r],this,t)}return!0},a.prototype.addListener=function(e,t){return h(this,e,t,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(e,t){return h(this,e,t,!0)},a.prototype.once=function(e,t){return c(t),this.on(e,d(this,e,t)),this},a.prototype.prependOnceListener=function(e,t){return c(t),this.prependListener(e,d(this,e,t)),this},a.prototype.removeListener=function(e,t){var r,n,i,o,s;if(c(t),void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===t||r[o].listener===t){s=r[o].listener,i=o;break}if(i<0)return this;0===i?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,i),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,s||t)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var i,o=Object.keys(r);for(n=0;n<o.length;++n)"removeListener"!==(i=o[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},a.prototype.listeners=function(e){return p(this,e,!0)},a.prototype.rawListeners=function(e){return p(this,e,!1)},a.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):g.call(e,t)},a.prototype.listenerCount=g,a.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r,l,h){return function e(t,r,l,h,f){if(t instanceof a.default){if(r)throw new Error("Parse Objects not allowed here");const e=t.id?`${t.className}:${t.id}`:t;return l||!h||h.indexOf(e)>-1||t.dirty()||Object.keys(t._getServerData()).length<1?f&&t._getId().startsWith("local")?t.toOfflinePointer():t.toPointer():(h=h.concat(e),t._toFullJSON(h,f))}if(t instanceof u.Op||t instanceof n.default||t instanceof o.default||t instanceof s.default||t instanceof c.default)return t.toJSON();if(t instanceof i.default){if(!t.url())throw new Error("Tried to encode an unsaved file.");return t.toJSON()}if("[object Date]"===Object.prototype.toString.call(t)){if(isNaN(t))throw new Error("Tried to encode an invalid date.");return{__type:"Date",iso:t.toJSON()}}if("[object RegExp]"===Object.prototype.toString.call(t)&&"string"==typeof t.source)return t.source;if(Array.isArray(t))return t.map(t=>e(t,r,l,h,f));if(t&&"object"==typeof t){const n={};for(const i in t)n[i]=e(t[i],r,l,h,f);return n}return t}(e,!!t,!!r,l||[],h)};var n=l(r(13)),i=l(r(17)),o=l(r(25)),s=l(r(40)),a=l(r(3)),u=r(28),c=l(r(19));function l(e){return e&&e.__esModule?e:{default:e}}},function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;class i{constructor(e,t){n(this,"_latitude",void 0),n(this,"_longitude",void 0),Array.isArray(e)?(i._validate(e[0],e[1]),this._latitude=e[0],this._longitude=e[1]):"object"==typeof e?(i._validate(e.latitude,e.longitude),this._latitude=e.latitude,this._longitude=e.longitude):void 0!==e&&void 0!==t?(i._validate(e,t),this._latitude=e,this._longitude=t):(this._latitude=0,this._longitude=0)}get latitude(){return this._latitude}set latitude(e){i._validate(e,this.longitude),this._latitude=e}get longitude(){return this._longitude}set longitude(e){i._validate(this.latitude,e),this._longitude=e}toJSON(){return i._validate(this._latitude,this._longitude),{__type:"GeoPoint",latitude:this._latitude,longitude:this._longitude}}equals(e){return e instanceof i&&this.latitude===e.latitude&&this.longitude===e.longitude}radiansTo(e){const t=Math.PI/180,r=this.latitude*t,n=this.longitude*t,i=e.latitude*t,o=e.longitude*t,s=Math.sin((r-i)/2),a=Math.sin((n-o)/2);let u=s*s+Math.cos(r)*Math.cos(i)*a*a;return u=Math.min(1,u),2*Math.asin(Math.sqrt(u))}kilometersTo(e){return 6371*this.radiansTo(e)}milesTo(e){return 3958.8*this.radiansTo(e)}static _validate(e,t){if(isNaN(e)||isNaN(t)||"number"!=typeof e||"number"!=typeof t)throw new TypeError("GeoPoint latitude and longitude must be valid numbers");if(e<-90)throw new TypeError(`GeoPoint latitude out of bounds: ${e} < -90.0.`);if(e>90)throw new TypeError(`GeoPoint latitude out of bounds: ${e} > 90.0.`);if(t<-180)throw new TypeError(`GeoPoint longitude out of bounds: ${t} < -180.0.`);if(t>180)throw new TypeError(`GeoPoint longitude out of bounds: ${t} > 180.0.`)}static current(){return navigator.geolocation.getCurrentPosition(e=>new i(e.coords.latitude,e.coords.longitude))}}var o=i;t.default=o},function(e,t,r){"use strict";r.r(t),r.d(t,"ethers",(function(){return u})),r.d(t,"Signer",(function(){return Tt})),r.d(t,"Wallet",(function(){return ri})),r.d(t,"VoidSigner",(function(){return It})),r.d(t,"getDefaultProvider",(function(){return Bs})),r.d(t,"providers",(function(){return o})),r.d(t,"BaseContract",(function(){return mr})),r.d(t,"Contract",(function(){return yr})),r.d(t,"ContractFactory",(function(){return vr})),r.d(t,"BigNumber",(function(){return y})),r.d(t,"FixedNumber",(function(){return Nr})),r.d(t,"constants",(function(){return i})),r.d(t,"errors",(function(){return f.a})),r.d(t,"logger",(function(){return ta})),r.d(t,"utils",(function(){return a})),r.d(t,"wordlists",(function(){return fn})),r.d(t,"version",(function(){return ea})),r.d(t,"Wordlist",(function(){return un}));var n={};r.r(n),r.d(n,"encode",(function(){return H})),r.d(n,"decode",(function(){return V}));var i={};r.r(i),r.d(i,"AddressZero",(function(){return oi})),r.d(i,"NegativeOne",(function(){return Ne})),r.d(i,"Zero",(function(){return Te})),r.d(i,"One",(function(){return Ie})),r.d(i,"Two",(function(){return Re})),r.d(i,"WeiPerEther",(function(){return xe})),r.d(i,"MaxUint256",(function(){return Me})),r.d(i,"MinInt256",(function(){return je})),r.d(i,"MaxInt256",(function(){return De})),r.d(i,"HashZero",(function(){return si})),r.d(i,"EtherSymbol",(function(){return ai}));var o={};r.r(o),r.d(o,"Provider",(function(){return Ot})),r.d(o,"BaseProvider",(function(){return Eo})),r.d(o,"Resolver",(function(){return bo})),r.d(o,"UrlJsonRpcProvider",(function(){return Go})),r.d(o,"FallbackProvider",(function(){return ws})),r.d(o,"AlchemyProvider",(function(){return Vo})),r.d(o,"AlchemyWebSocketProvider",(function(){return zo})),r.d(o,"CloudflareProvider",(function(){return Yo})),r.d(o,"EtherscanProvider",(function(){return is})),r.d(o,"InfuraProvider",(function(){return Os})),r.d(o,"InfuraWebSocketProvider",(function(){return Ps})),r.d(o,"JsonRpcProvider",(function(){return Mo})),r.d(o,"JsonRpcBatchProvider",(function(){return Ss})),r.d(o,"NodesmithProvider",(function(){return ks})),r.d(o,"PocketProvider",(function(){return Is})),r.d(o,"StaticJsonRpcProvider",(function(){return Wo})),r.d(o,"Web3Provider",(function(){return js})),r.d(o,"WebSocketProvider",(function(){return Fo})),r.d(o,"IpcProvider",(function(){return _s})),r.d(o,"JsonRpcSigner",(function(){return Io})),r.d(o,"getDefaultProvider",(function(){return Bs})),r.d(o,"getNetwork",(function(){return gi})),r.d(o,"isCommunityResource",(function(){return $i})),r.d(o,"isCommunityResourcable",(function(){return Ji})),r.d(o,"showThrottleMessage",(function(){return Qi})),r.d(o,"Formatter",(function(){return Vi}));var s={};r.r(s),r.d(s,"decode",(function(){return xi})),r.d(s,"encode",(function(){return Mi}));var a={};r.r(a),r.d(a,"AbiCoder",(function(){return ft})),r.d(a,"defaultAbiCoder",(function(){return dt})),r.d(a,"Fragment",(function(){return Ye})),r.d(a,"ConstructorFragment",(function(){return tt})),r.d(a,"ErrorFragment",(function(){return it})),r.d(a,"EventFragment",(function(){return Qe})),r.d(a,"FunctionFragment",(function(){return rt})),r.d(a,"ParamType",(function(){return Je})),r.d(a,"FormatTypes",(function(){return ze})),r.d(a,"checkResultErrors",(function(){return M})),r.d(a,"Logger",(function(){return f.b})),r.d(a,"RLP",(function(){return n})),r.d(a,"_fetchData",(function(){return qi})),r.d(a,"fetchJson",(function(){return Wi})),r.d(a,"poll",(function(){return Gi})),r.d(a,"checkProperties",(function(){return C})),r.d(a,"deepCopy",(function(){return I})),r.d(a,"defineReadOnly",(function(){return P})),r.d(a,"getStatic",(function(){return O})),r.d(a,"resolveProperties",(function(){return S})),r.d(a,"shallowCopy",(function(){return k})),r.d(a,"arrayify",(function(){return c.a})),r.d(a,"concat",(function(){return c.b})),r.d(a,"stripZeros",(function(){return c.o})),r.d(a,"zeroPad",(function(){return c.p})),r.d(a,"isBytes",(function(){return c.j})),r.d(a,"isBytesLike",(function(){return c.k})),r.d(a,"defaultPath",(function(){return _n})),r.d(a,"HDNode",(function(){return En})),r.d(a,"SigningKey",(function(){return Dt})),r.d(a,"Interface",(function(){return _t})),r.d(a,"LogDescription",(function(){return gt})),r.d(a,"TransactionDescription",(function(){return mt})),r.d(a,"base58",(function(){return Yr})),r.d(a,"base64",(function(){return s})),r.d(a,"hexlify",(function(){return c.i})),r.d(a,"isHexString",(function(){return c.l})),r.d(a,"hexConcat",(function(){return c.c})),r.d(a,"hexStripZeros",(function(){return c.f})),r.d(a,"hexValue",(function(){return c.g})),r.d(a,"hexZeroPad",(function(){return c.h})),r.d(a,"hexDataLength",(function(){return c.d})),r.d(a,"hexDataSlice",(function(){return c.e})),r.d(a,"nameprep",(function(){return Si})),r.d(a,"_toEscapedUtf8String",(function(){return de})),r.d(a,"toUtf8Bytes",(function(){return he})),r.d(a,"toUtf8CodePoints",(function(){return me})),r.d(a,"toUtf8String",(function(){return ge})),r.d(a,"Utf8ErrorFuncs",(function(){return ce})),r.d(a,"formatBytes32String",(function(){return Ks})),r.d(a,"parseBytes32String",(function(){return zs})),r.d(a,"dnsEncode",(function(){return Ri})),r.d(a,"hashMessage",(function(){return Rr})),r.d(a,"namehash",(function(){return Ii})),r.d(a,"isValidName",(function(){return Ti})),r.d(a,"id",(function(){return ye})),r.d(a,"_TypedDataEncoder",(function(){return Jr})),r.d(a,"getAddress",(function(){return ee})),r.d(a,"getIcapAddress",(function(){return re})),r.d(a,"getContractAddress",(function(){return ne})),r.d(a,"getCreate2Address",(function(){return ie})),r.d(a,"isAddress",(function(){return te})),r.d(a,"formatEther",(function(){return Xs})),r.d(a,"parseEther",(function(){return Zs})),r.d(a,"formatUnits",(function(){return Ys})),r.d(a,"parseUnits",(function(){return Qs})),r.d(a,"commify",(function(){return $s})),r.d(a,"computeHmac",(function(){return on})),r.d(a,"keccak256",(function(){return U})),r.d(a,"ripemd160",(function(){return tn})),r.d(a,"sha256",(function(){return rn})),r.d(a,"sha512",(function(){return nn})),r.d(a,"randomBytes",(function(){return kn.a})),r.d(a,"shuffled",(function(){return os})),r.d(a,"solidityPack",(function(){return Ws})),r.d(a,"solidityKeccak256",(function(){return Gs})),r.d(a,"soliditySha256",(function(){return Hs})),r.d(a,"splitSignature",(function(){return c.n})),r.d(a,"joinSignature",(function(){return c.m})),r.d(a,"accessListify",(function(){return $t})),r.d(a,"parseTransaction",(function(){return tr})),r.d(a,"serializeTransaction",(function(){return Zt})),r.d(a,"TransactionTypes",(function(){return Ut})),r.d(a,"getJsonWalletAddress",(function(){return Qn})),r.d(a,"computeAddress",(function(){return Kt})),r.d(a,"recoverAddress",(function(){return zt})),r.d(a,"computePublicKey",(function(){return Lt})),r.d(a,"recoverPublicKey",(function(){return Bt})),r.d(a,"verifyMessage",(function(){return ni})),r.d(a,"verifyTypedData",(function(){return ii})),r.d(a,"getAccountPath",(function(){return Cn})),r.d(a,"mnemonicToEntropy",(function(){return Pn})),r.d(a,"entropyToMnemonic",(function(){return On})),r.d(a,"isValidMnemonic",(function(){return Sn})),r.d(a,"mnemonicToSeed",(function(){return An})),r.d(a,"SupportedAlgorithm",(function(){return Qr})),r.d(a,"UnicodeNormalizationForm",(function(){return se})),r.d(a,"Utf8ErrorReason",(function(){return ae})),r.d(a,"Indexed",(function(){return vt}));var u={};r.r(u),r.d(u,"Signer",(function(){return Tt})),r.d(u,"Wallet",(function(){return ri})),r.d(u,"VoidSigner",(function(){return It})),r.d(u,"getDefaultProvider",(function(){return Bs})),r.d(u,"providers",(function(){return o})),r.d(u,"BaseContract",(function(){return mr})),r.d(u,"Contract",(function(){return yr})),r.d(u,"ContractFactory",(function(){return vr})),r.d(u,"BigNumber",(function(){return y})),r.d(u,"FixedNumber",(function(){return Nr})),r.d(u,"constants",(function(){return i})),r.d(u,"errors",(function(){return f.a})),r.d(u,"logger",(function(){return ta})),r.d(u,"utils",(function(){return a})),r.d(u,"wordlists",(function(){return fn})),r.d(u,"version",(function(){return ea})),r.d(u,"Wordlist",(function(){return un}));var c=r(0),l=r(2),h=r.n(l),f=r(1);var d=h.a.BN;const p=new f.b("bignumber/5.6.0"),g={};let m=!1;class y{constructor(e,t){p.checkNew(new.target,y),e!==g&&p.throwError("cannot call constructor directly; use BigNumber.from",f.b.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=t,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return b(w(this).fromTwos(e))}toTwos(e){return b(w(this).toTwos(e))}abs(){return"-"===this._hex[0]?y.from(this._hex.substring(1)):this}add(e){return b(w(this).add(w(e)))}sub(e){return b(w(this).sub(w(e)))}div(e){return y.from(e).isZero()&&_("division-by-zero","div"),b(w(this).div(w(e)))}mul(e){return b(w(this).mul(w(e)))}mod(e){const t=w(e);return t.isNeg()&&_("division-by-zero","mod"),b(w(this).umod(t))}pow(e){const t=w(e);return t.isNeg()&&_("negative-power","pow"),b(w(this).pow(t))}and(e){const t=w(e);return(this.isNegative()||t.isNeg())&&_("unbound-bitwise-result","and"),b(w(this).and(t))}or(e){const t=w(e);return(this.isNegative()||t.isNeg())&&_("unbound-bitwise-result","or"),b(w(this).or(t))}xor(e){const t=w(e);return(this.isNegative()||t.isNeg())&&_("unbound-bitwise-result","xor"),b(w(this).xor(t))}mask(e){return(this.isNegative()||e<0)&&_("negative-width","mask"),b(w(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&_("negative-width","shl"),b(w(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&_("negative-width","shr"),b(w(this).shrn(e))}eq(e){return w(this).eq(w(e))}lt(e){return w(this).lt(w(e))}lte(e){return w(this).lte(w(e))}gt(e){return w(this).gt(w(e))}gte(e){return w(this).gte(w(e))}isNegative(){return"-"===this._hex[0]}isZero(){return w(this).isZero()}toNumber(){try{return w(this).toNumber()}catch(e){_("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch(e){}return p.throwError("this platform does not support BigInt",f.b.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(10===arguments[0]?m||(m=!0,p.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):16===arguments[0]?p.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",f.b.errors.UNEXPECTED_ARGUMENT,{}):p.throwError("BigNumber.toString does not accept parameters",f.b.errors.UNEXPECTED_ARGUMENT,{})),w(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof y)return e;if("string"==typeof e)return e.match(/^-?0x[0-9a-f]+$/i)?new y(g,v(e)):e.match(/^-?[0-9]+$/)?new y(g,v(new d(e))):p.throwArgumentError("invalid BigNumber string","value",e);if("number"==typeof e)return e%1&&_("underflow","BigNumber.from",e),(e>=9007199254740991||e<=-9007199254740991)&&_("overflow","BigNumber.from",e),y.from(String(e));const t=e;if("bigint"==typeof t)return y.from(t.toString());if(Object(c.j)(t))return y.from(Object(c.i)(t));if(t)if(t.toHexString){const e=t.toHexString();if("string"==typeof e)return y.from(e)}else{let e=t._hex;if(null==e&&"BigNumber"===t.type&&(e=t.hex),"string"==typeof e&&(Object(c.l)(e)||"-"===e[0]&&Object(c.l)(e.substring(1))))return y.from(e)}return p.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!(!e||!e._isBigNumber)}}function v(e){if("string"!=typeof e)return v(e.toString(16));if("-"===e[0])return"-"===(e=e.substring(1))[0]&&p.throwArgumentError("invalid hex","value",e),"0x00"===(e=v(e))?e:"-"+e;if("0x"!==e.substring(0,2)&&(e="0x"+e),"0x"===e)return"0x00";for(e.length%2&&(e="0x0"+e.substring(2));e.length>4&&"0x00"===e.substring(0,4);)e="0x"+e.substring(4);return e}function b(e){return y.from(v(e))}function w(e){const t=y.from(e).toHexString();return"-"===t[0]?new d("-"+t.substring(3),16):new d(t.substring(2),16)}function _(e,t,r){const n={fault:e,operation:t};return null!=r&&(n.value=r),p.throwError(e,f.b.errors.NUMERIC_FAULT,n)}var E=function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))};const A=new f.b("properties/5.6.0");function P(e,t,r){Object.defineProperty(e,t,{enumerable:!0,value:r,writable:!1})}function O(e,t){for(let r=0;r<32;r++){if(e[t])return e[t];if(!e.prototype||"object"!=typeof e.prototype)break;e=Object.getPrototypeOf(e.prototype).constructor}return null}function S(e){return E(this,void 0,void 0,(function*(){const t=Object.keys(e).map(t=>{const r=e[t];return Promise.resolve(r).then(e=>({key:t,value:e}))});return(yield Promise.all(t)).reduce((e,t)=>(e[t.key]=t.value,e),{})}))}function C(e,t){e&&"object"==typeof e||A.throwArgumentError("invalid object","object",e),Object.keys(e).forEach(r=>{t[r]||A.throwArgumentError("invalid object key - "+r,"transaction:"+r,e)})}function k(e){const t={};for(const r in e)t[r]=e[r];return t}const N={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function T(e){if(function e(t){if(null==t||N[typeof t])return!0;if(Array.isArray(t)||"object"==typeof t){if(!Object.isFrozen(t))return!1;const r=Object.keys(t);for(let n=0;n<r.length;n++){let i=null;try{i=t[r[n]]}catch(e){continue}if(!e(i))return!1}return!0}return A.throwArgumentError("Cannot deepCopy "+typeof t,"object",t)}(e))return e;if(Array.isArray(e))return Object.freeze(e.map(e=>I(e)));if("object"==typeof e){const t={};for(const r in e){const n=e[r];void 0!==n&&P(t,r,I(n))}return t}return A.throwArgumentError("Cannot deepCopy "+typeof e,"object",e)}function I(e){return T(e)}class R{constructor(e){for(const t in e)this[t]=I(e[t])}}const x=new f.b("abi/5.6.0");function M(e){const t=[],r=function(e,n){if(Array.isArray(n))for(let i in n){const o=e.slice();o.push(i);try{r(o,n[i])}catch(e){t.push({path:o,error:e})}}};return r([],e),t}class j{constructor(e,t,r,n){this.name=e,this.type=t,this.localName=r,this.dynamic=n}_throwError(e,t){x.throwArgumentError(e,this.localName,t)}}class D{constructor(e){P(this,"wordSize",e||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(e)}get data(){return Object(c.c)(this._data)}get length(){return this._dataLength}_writeData(e){return this._data.push(e),this._dataLength+=e.length,e.length}appendWriter(e){return this._writeData(Object(c.b)(e._data))}writeBytes(e){let t=Object(c.a)(e);const r=t.length%this.wordSize;return r&&(t=Object(c.b)([t,this._padding.slice(r)])),this._writeData(t)}_getValue(e){let t=Object(c.a)(y.from(e));return t.length>this.wordSize&&x.throwError("value out-of-bounds",f.b.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:t.length}),t.length%this.wordSize&&(t=Object(c.b)([this._padding.slice(t.length%this.wordSize),t])),t}writeValue(e){return this._writeData(this._getValue(e))}writeUpdatableValue(){const e=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,t=>{this._data[e]=this._getValue(t)}}}class B{constructor(e,t,r,n){P(this,"_data",Object(c.a)(e)),P(this,"wordSize",t||32),P(this,"_coerceFunc",r),P(this,"allowLoose",n),this._offset=0}get data(){return Object(c.i)(this._data)}get consumed(){return this._offset}static coerce(e,t){let r=e.match("^u?int([0-9]+)$");return r&&parseInt(r[1])<=48&&(t=t.toNumber()),t}coerce(e,t){return this._coerceFunc?this._coerceFunc(e,t):B.coerce(e,t)}_peekBytes(e,t,r){let n=Math.ceil(t/this.wordSize)*this.wordSize;return this._offset+n>this._data.length&&(this.allowLoose&&r&&this._offset+t<=this._data.length?n=t:x.throwError("data out-of-bounds",f.b.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+n})),this._data.slice(this._offset,this._offset+n)}subReader(e){return new B(this._data.slice(this._offset+e),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(e,t){let r=this._peekBytes(0,e,!!t);return this._offset+=r.length,r.slice(0,e)}readValue(){return y.from(this.readBytes(this.wordSize))}}var L=r(104),F=r.n(L);function U(e){return"0x"+F.a.keccak_256(Object(c.a)(e))}const q=new f.b("rlp/5.6.0");function W(e){const t=[];for(;e;)t.unshift(255&e),e>>=8;return t}function G(e,t,r){let n=0;for(let i=0;i<r;i++)n=256*n+e[t+i];return n}function H(e){return Object(c.i)(function e(t){if(Array.isArray(t)){let r=[];if(t.forEach((function(t){r=r.concat(e(t))})),r.length<=55)return r.unshift(192+r.length),r;const n=W(r.length);return n.unshift(247+n.length),n.concat(r)}Object(c.k)(t)||q.throwArgumentError("RLP object must be BytesLike","object",t);const r=Array.prototype.slice.call(Object(c.a)(t));if(1===r.length&&r[0]<=127)return r;if(r.length<=55)return r.unshift(128+r.length),r;const n=W(r.length);return n.unshift(183+n.length),n.concat(r)}(e))}function K(e,t,r,n){const i=[];for(;r<t+1+n;){const o=z(e,r);i.push(o.result),(r+=o.consumed)>t+1+n&&q.throwError("child data too short",f.b.errors.BUFFER_OVERRUN,{})}return{consumed:1+n,result:i}}function z(e,t){if(0===e.length&&q.throwError("data too short",f.b.errors.BUFFER_OVERRUN,{}),e[t]>=248){const r=e[t]-247;t+1+r>e.length&&q.throwError("data short segment too short",f.b.errors.BUFFER_OVERRUN,{});const n=G(e,t+1,r);return t+1+r+n>e.length&&q.throwError("data long segment too short",f.b.errors.BUFFER_OVERRUN,{}),K(e,t,t+1+r,r+n)}if(e[t]>=192){const r=e[t]-192;return t+1+r>e.length&&q.throwError("data array too short",f.b.errors.BUFFER_OVERRUN,{}),K(e,t,t+1,r)}if(e[t]>=184){const r=e[t]-183;t+1+r>e.length&&q.throwError("data array too short",f.b.errors.BUFFER_OVERRUN,{});const n=G(e,t+1,r);t+1+r+n>e.length&&q.throwError("data array too short",f.b.errors.BUFFER_OVERRUN,{});return{consumed:1+r+n,result:Object(c.i)(e.slice(t+1+r,t+1+r+n))}}if(e[t]>=128){const r=e[t]-128;t+1+r>e.length&&q.throwError("data too short",f.b.errors.BUFFER_OVERRUN,{});return{consumed:1+r,result:Object(c.i)(e.slice(t+1,t+1+r))}}return{consumed:1,result:Object(c.i)(e[t])}}function V(e){const t=Object(c.a)(e),r=z(t,0);return r.consumed!==t.length&&q.throwArgumentError("invalid rlp data","data",e),r.result}const J=new f.b("address/5.6.0");function $(e){Object(c.l)(e,20)||J.throwArgumentError("invalid address","address",e);const t=(e=e.toLowerCase()).substring(2).split(""),r=new Uint8Array(40);for(let e=0;e<40;e++)r[e]=t[e].charCodeAt(0);const n=Object(c.a)(U(r));for(let e=0;e<40;e+=2)n[e>>1]>>4>=8&&(t[e]=t[e].toUpperCase()),(15&n[e>>1])>=8&&(t[e+1]=t[e+1].toUpperCase());return"0x"+t.join("")}const Y={};for(let e=0;e<10;e++)Y[String(e)]=String(e);for(let e=0;e<26;e++)Y[String.fromCharCode(65+e)]=String(10+e);const Q=Math.floor((X=9007199254740991,Math.log10?Math.log10(X):Math.log(X)/Math.LN10));var X;function Z(e){let t=(e=(e=e.toUpperCase()).substring(4)+e.substring(0,2)+"00").split("").map(e=>Y[e]).join("");for(;t.length>=Q;){let e=t.substring(0,Q);t=parseInt(e,10)%97+t.substring(e.length)}let r=String(98-parseInt(t,10)%97);for(;r.length<2;)r="0"+r;return r}function ee(e){let t=null;if("string"!=typeof e&&J.throwArgumentError("invalid address","address",e),e.match(/^(0x)?[0-9a-fA-F]{40}$/))"0x"!==e.substring(0,2)&&(e="0x"+e),t=$(e),e.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&t!==e&&J.throwArgumentError("bad address checksum","address",e);else if(e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(e.substring(2,4)!==Z(e)&&J.throwArgumentError("bad icap checksum","address",e),r=e.substring(4),t=new d(r,36).toString(16);t.length<40;)t="0"+t;t=$("0x"+t)}else J.throwArgumentError("invalid address","address",e);var r;return t}function te(e){try{return ee(e),!0}catch(e){}return!1}function re(e){let t=(r=ee(e).substring(2),new d(r,16).toString(36)).toUpperCase();for(var r;t.length<30;)t="0"+t;return"XE"+Z("XE00"+t)+t}function ne(e){let t=null;try{t=ee(e.from)}catch(t){J.throwArgumentError("missing from address","transaction",e)}const r=Object(c.o)(Object(c.a)(y.from(e.nonce).toHexString()));return ee(Object(c.e)(U(H([t,r])),12))}function ie(e,t,r){return 32!==Object(c.d)(t)&&J.throwArgumentError("salt must be 32 bytes","salt",t),32!==Object(c.d)(r)&&J.throwArgumentError("initCodeHash must be 32 bytes","initCodeHash",r),ee(Object(c.e)(U(Object(c.b)(["0xff",ee(e),t,r])),12))}const oe=new f.b("strings/5.6.0");var se,ae;function ue(e,t,r,n,i){if(e===ae.BAD_PREFIX||e===ae.UNEXPECTED_CONTINUE){let e=0;for(let n=t+1;n<r.length&&r[n]>>6==2;n++)e++;return e}return e===ae.OVERRUN?r.length-t-1:0}!function(e){e.current="",e.NFC="NFC",e.NFD="NFD",e.NFKC="NFKC",e.NFKD="NFKD"}(se||(se={})),function(e){e.UNEXPECTED_CONTINUE="unexpected continuation byte",e.BAD_PREFIX="bad codepoint prefix",e.OVERRUN="string overrun",e.MISSING_CONTINUE="missing continuation byte",e.OUT_OF_RANGE="out of UTF-8 range",e.UTF16_SURROGATE="UTF-16 surrogate",e.OVERLONG="overlong representation"}(ae||(ae={}));const ce=Object.freeze({error:function(e,t,r,n,i){return oe.throwArgumentError(`invalid codepoint at offset ${t}; ${e}`,"bytes",r)},ignore:ue,replace:function(e,t,r,n,i){return e===ae.OVERLONG?(n.push(i),0):(n.push(65533),ue(e,t,r))}});function le(e,t){null==t&&(t=ce.error),e=Object(c.a)(e);const r=[];let n=0;for(;n<e.length;){const i=e[n++];if(i>>7==0){r.push(i);continue}let o=null,s=null;if(192==(224&i))o=1,s=127;else if(224==(240&i))o=2,s=2047;else{if(240!=(248&i)){n+=t(128==(192&i)?ae.UNEXPECTED_CONTINUE:ae.BAD_PREFIX,n-1,e,r);continue}o=3,s=65535}if(n-1+o>=e.length){n+=t(ae.OVERRUN,n-1,e,r);continue}let a=i&(1<<8-o-1)-1;for(let i=0;i<o;i++){let i=e[n];if(128!=(192&i)){n+=t(ae.MISSING_CONTINUE,n,e,r),a=null;break}a=a<<6|63&i,n++}null!==a&&(a>1114111?n+=t(ae.OUT_OF_RANGE,n-1-o,e,r,a):a>=55296&&a<=57343?n+=t(ae.UTF16_SURROGATE,n-1-o,e,r,a):a<=s?n+=t(ae.OVERLONG,n-1-o,e,r,a):r.push(a))}return r}function he(e,t=se.current){t!=se.current&&(oe.checkNormalize(),e=e.normalize(t));let r=[];for(let t=0;t<e.length;t++){const n=e.charCodeAt(t);if(n<128)r.push(n);else if(n<2048)r.push(n>>6|192),r.push(63&n|128);else if(55296==(64512&n)){t++;const i=e.charCodeAt(t);if(t>=e.length||56320!=(64512&i))throw new Error("invalid utf-8 string");const o=65536+((1023&n)<<10)+(1023&i);r.push(o>>18|240),r.push(o>>12&63|128),r.push(o>>6&63|128),r.push(63&o|128)}else r.push(n>>12|224),r.push(n>>6&63|128),r.push(63&n|128)}return Object(c.a)(r)}function fe(e){const t="0000"+e.toString(16);return"\\u"+t.substring(t.length-4)}function de(e,t){return'"'+le(e,t).map(e=>{if(e<256){switch(e){case 8:return"\\b";case 9:return"\\t";case 10:return"\\n";case 13:return"\\r";case 34:return'\\"';case 92:return"\\\\"}if(e>=32&&e<127)return String.fromCharCode(e)}return e<=65535?fe(e):fe(55296+((e-=65536)>>10&1023))+fe(56320+(1023&e))}).join("")+'"'}function pe(e){return e.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10&1023),56320+(1023&e)))).join("")}function ge(e,t){return pe(le(e,t))}function me(e,t=se.current){return le(he(e,t))}function ye(e){return U(he(e))}class ve extends j{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,t){try{t=ee(t)}catch(e){this._throwError(e.message,t)}return e.writeValue(t)}decode(e){return ee(Object(c.h)(e.readValue().toHexString(),20))}}class be extends j{constructor(e){super(e.name,e.type,void 0,e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,t){return this.coder.encode(e,t)}decode(e){return this.coder.decode(e)}}const we=new f.b("abi/5.6.0");function _e(e,t,r){let n=null;if(Array.isArray(r))n=r;else if(r&&"object"==typeof r){let e={};n=t.map(t=>{const n=t.localName;return n||we.throwError("cannot encode object for signature with missing names",f.b.errors.INVALID_ARGUMENT,{argument:"values",coder:t,value:r}),e[n]&&we.throwError("cannot encode object for signature with duplicate names",f.b.errors.INVALID_ARGUMENT,{argument:"values",coder:t,value:r}),e[n]=!0,r[n]})}else we.throwArgumentError("invalid tuple value","tuple",r);t.length!==n.length&&we.throwArgumentError("types/value length mismatch","tuple",r);let i=new D(e.wordSize),o=new D(e.wordSize),s=[];t.forEach((e,t)=>{let r=n[t];if(e.dynamic){let t=o.length;e.encode(o,r);let n=i.writeUpdatableValue();s.push(e=>{n(e+t)})}else e.encode(i,r)}),s.forEach(e=>{e(i.length)});let a=e.appendWriter(i);return a+=e.appendWriter(o),a}function Ee(e,t){let r=[],n=e.subReader(0);t.forEach(t=>{let i=null;if(t.dynamic){let r=e.readValue(),o=n.subReader(r.toNumber());try{i=t.decode(o)}catch(e){if(e.code===f.b.errors.BUFFER_OVERRUN)throw e;i=e,i.baseType=t.name,i.name=t.localName,i.type=t.type}}else try{i=t.decode(e)}catch(e){if(e.code===f.b.errors.BUFFER_OVERRUN)throw e;i=e,i.baseType=t.name,i.name=t.localName,i.type=t.type}null!=i&&r.push(i)});const i=t.reduce((e,t)=>{const r=t.localName;return r&&(e[r]||(e[r]=0),e[r]++),e},{});t.forEach((e,t)=>{let n=e.localName;if(!n||1!==i[n])return;if("length"===n&&(n="_length"),null!=r[n])return;const o=r[t];o instanceof Error?Object.defineProperty(r,n,{enumerable:!0,get:()=>{throw o}}):r[n]=o});for(let e=0;e<r.length;e++){const t=r[e];t instanceof Error&&Object.defineProperty(r,e,{enumerable:!0,get:()=>{throw t}})}return Object.freeze(r)}class Ae extends j{constructor(e,t,r){super("array",e.type+"["+(t>=0?t:"")+"]",r,-1===t||e.dynamic),this.coder=e,this.length=t}defaultValue(){const e=this.coder.defaultValue(),t=[];for(let r=0;r<this.length;r++)t.push(e);return t}encode(e,t){Array.isArray(t)||this._throwError("expected array value",t);let r=this.length;-1===r&&(r=t.length,e.writeValue(t.length)),we.checkArgumentCount(t.length,r,"coder array"+(this.localName?" "+this.localName:""));let n=[];for(let e=0;e<t.length;e++)n.push(this.coder);return _e(e,n,t)}decode(e){let t=this.length;-1===t&&(t=e.readValue().toNumber(),32*t>e._data.length&&we.throwError("insufficient data length",f.b.errors.BUFFER_OVERRUN,{length:e._data.length,count:t}));let r=[];for(let e=0;e<t;e++)r.push(new be(this.coder));return e.coerce(this.name,Ee(e,r))}}class Pe extends j{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,t){return e.writeValue(t?1:0)}decode(e){return e.coerce(this.type,!e.readValue().isZero())}}class Oe extends j{constructor(e,t){super(e,e,t,!0)}defaultValue(){return"0x"}encode(e,t){t=Object(c.a)(t);let r=e.writeValue(t.length);return r+=e.writeBytes(t),r}decode(e){return e.readBytes(e.readValue().toNumber(),!0)}}class Se extends Oe{constructor(e){super("bytes",e)}decode(e){return e.coerce(this.name,Object(c.i)(super.decode(e)))}}class Ce extends j{constructor(e,t){let r="bytes"+String(e);super(r,r,t,!1),this.size=e}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+2*this.size)}encode(e,t){let r=Object(c.a)(t);return r.length!==this.size&&this._throwError("incorrect data length",t),e.writeBytes(r)}decode(e){return e.coerce(this.name,Object(c.i)(e.readBytes(this.size)))}}class ke extends j{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,t){return null!=t&&this._throwError("not null",t),e.writeBytes([])}decode(e){return e.readBytes(0),e.coerce(this.name,null)}}const Ne=y.from(-1),Te=y.from(0),Ie=y.from(1),Re=y.from(2),xe=y.from("1000000000000000000"),Me=y.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),je=y.from("-0x8000000000000000000000000000000000000000000000000000000000000000"),De=y.from("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class Be extends j{constructor(e,t,r){const n=(t?"int":"uint")+8*e;super(n,n,r,!1),this.size=e,this.signed=t}defaultValue(){return 0}encode(e,t){let r=y.from(t),n=Me.mask(8*e.wordSize);if(this.signed){let e=n.mask(8*this.size-1);(r.gt(e)||r.lt(e.add(Ie).mul(Ne)))&&this._throwError("value out-of-bounds",t)}else(r.lt(Te)||r.gt(n.mask(8*this.size)))&&this._throwError("value out-of-bounds",t);return r=r.toTwos(8*this.size).mask(8*this.size),this.signed&&(r=r.fromTwos(8*this.size).toTwos(8*e.wordSize)),e.writeValue(r)}decode(e){let t=e.readValue().mask(8*this.size);return this.signed&&(t=t.fromTwos(8*this.size)),e.coerce(this.name,t)}}class Le extends Oe{constructor(e){super("string",e)}defaultValue(){return""}encode(e,t){return super.encode(e,he(t))}decode(e){return ge(super.decode(e))}}class Fe extends j{constructor(e,t){let r=!1;const n=[];e.forEach(e=>{e.dynamic&&(r=!0),n.push(e.type)});super("tuple","tuple("+n.join(",")+")",t,r),this.coders=e}defaultValue(){const e=[];this.coders.forEach(t=>{e.push(t.defaultValue())});const t=this.coders.reduce((e,t)=>{const r=t.localName;return r&&(e[r]||(e[r]=0),e[r]++),e},{});return this.coders.forEach((r,n)=>{let i=r.localName;i&&1===t[i]&&("length"===i&&(i="_length"),null==e[i]&&(e[i]=e[n]))}),Object.freeze(e)}encode(e,t){return _e(e,this.coders,t)}decode(e){return e.coerce(this.name,Ee(e,this.coders))}}const Ue=new f.b("abi/5.6.0"),qe={};let We={calldata:!0,memory:!0,storage:!0},Ge={calldata:!0,memory:!0};function He(e,t){if("bytes"===e||"string"===e){if(We[t])return!0}else if("address"===e){if("payable"===t)return!0}else if((e.indexOf("[")>=0||"tuple"===e)&&Ge[t])return!0;return(We[t]||"payable"===t)&&Ue.throwArgumentError("invalid modifier","name",t),!1}function Ke(e,t){for(let r in t)P(e,r,t[r])}const ze=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),Ve=new RegExp(/^(.*)\[([0-9]*)\]$/);class Je{constructor(e,t){e!==qe&&Ue.throwError("use fromString",f.b.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),Ke(this,t);let r=this.type.match(Ve);Ke(this,r?{arrayLength:parseInt(r[2]||"-1"),arrayChildren:Je.fromObject({type:r[1],components:this.components}),baseType:"array"}:{arrayLength:null,arrayChildren:null,baseType:null!=this.components?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(e){if(e||(e=ze.sighash),ze[e]||Ue.throwArgumentError("invalid format type","format",e),e===ze.json){let t={type:"tuple"===this.baseType?"tuple":this.type,name:this.name||void 0};return"boolean"==typeof this.indexed&&(t.indexed=this.indexed),this.components&&(t.components=this.components.map(t=>JSON.parse(t.format(e)))),JSON.stringify(t)}let t="";return"array"===this.baseType?(t+=this.arrayChildren.format(e),t+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):"tuple"===this.baseType?(e!==ze.sighash&&(t+=this.type),t+="("+this.components.map(t=>t.format(e)).join(e===ze.full?", ":",")+")"):t+=this.type,e!==ze.sighash&&(!0===this.indexed&&(t+=" indexed"),e===ze.full&&this.name&&(t+=" "+this.name)),t}static from(e,t){return"string"==typeof e?Je.fromString(e,t):Je.fromObject(e)}static fromObject(e){return Je.isParamType(e)?e:new Je(qe,{name:e.name||null,type:ot(e.type),indexed:null==e.indexed?null:!!e.indexed,components:e.components?e.components.map(Je.fromObject):null})}static fromString(e,t){return function(e){return Je.fromObject({name:e.name,type:e.type,indexed:e.indexed,components:e.components})}(function(e,t){let r=e;function n(t){Ue.throwArgumentError("unexpected character at position "+t,"param",e)}function i(e){let r={type:"",name:"",parent:e,state:{allowType:!0}};return t&&(r.indexed=!1),r}e=e.replace(/\s/g," ");let o={type:"",name:"",state:{allowType:!0}},s=o;for(let r=0;r<e.length;r++){let o=e[r];switch(o){case"(":s.state.allowType&&""===s.type?s.type="tuple":s.state.allowParams||n(r),s.state.allowType=!1,s.type=ot(s.type),s.components=[i(s)],s=s.components[0];break;case")":delete s.state,"indexed"===s.name&&(t||n(r),s.indexed=!0,s.name=""),He(s.type,s.name)&&(s.name=""),s.type=ot(s.type);let e=s;s=s.parent,s||n(r),delete e.parent,s.state.allowParams=!1,s.state.allowName=!0,s.state.allowArray=!0;break;case",":delete s.state,"indexed"===s.name&&(t||n(r),s.indexed=!0,s.name=""),He(s.type,s.name)&&(s.name=""),s.type=ot(s.type);let a=i(s.parent);s.parent.components.push(a),delete s.parent,s=a;break;case" ":s.state.allowType&&""!==s.type&&(s.type=ot(s.type),delete s.state.allowType,s.state.allowName=!0,s.state.allowParams=!0),s.state.allowName&&""!==s.name&&("indexed"===s.name?(t||n(r),s.indexed&&n(r),s.indexed=!0,s.name=""):He(s.type,s.name)?s.name="":s.state.allowName=!1);break;case"[":s.state.allowArray||n(r),s.type+=o,s.state.allowArray=!1,s.state.allowName=!1,s.state.readArray=!0;break;case"]":s.state.readArray||n(r),s.type+=o,s.state.readArray=!1,s.state.allowArray=!0,s.state.allowName=!0;break;default:s.state.allowType?(s.type+=o,s.state.allowParams=!0,s.state.allowArray=!0):s.state.allowName?(s.name+=o,delete s.state.allowArray):s.state.readArray?s.type+=o:n(r)}}return s.parent&&Ue.throwArgumentError("unexpected eof","param",e),delete o.state,"indexed"===s.name?(t||n(r.length-7),s.indexed&&n(r.length-7),s.indexed=!0,s.name=""):He(s.type,s.name)&&(s.name=""),o.type=ot(o.type),o}(e,!!t))}static isParamType(e){return!(null==e||!e._isParamType)}}function $e(e,t){return function(e){e=e.trim();let t=[],r="",n=0;for(let i=0;i<e.length;i++){let o=e[i];","===o&&0===n?(t.push(r),r=""):(r+=o,"("===o?n++:")"===o&&(n--,-1===n&&Ue.throwArgumentError("unbalanced parenthesis","value",e)))}r&&t.push(r);return t}(e).map(e=>Je.fromString(e,t))}class Ye{constructor(e,t){e!==qe&&Ue.throwError("use a static from method",f.b.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),Ke(this,t),this._isFragment=!0,Object.freeze(this)}static from(e){return Ye.isFragment(e)?e:"string"==typeof e?Ye.fromString(e):Ye.fromObject(e)}static fromObject(e){if(Ye.isFragment(e))return e;switch(e.type){case"function":return rt.fromObject(e);case"event":return Qe.fromObject(e);case"constructor":return tt.fromObject(e);case"error":return it.fromObject(e);case"fallback":case"receive":return null}return Ue.throwArgumentError("invalid fragment object","value",e)}static fromString(e){return"event"===(e=(e=(e=e.replace(/\s/g," ")).replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," ")).trim()).split(" ")[0]?Qe.fromString(e.substring(5).trim()):"function"===e.split(" ")[0]?rt.fromString(e.substring(8).trim()):"constructor"===e.split("(")[0].trim()?tt.fromString(e.trim()):"error"===e.split(" ")[0]?it.fromString(e.substring(5).trim()):Ue.throwArgumentError("unsupported fragment","value",e)}static isFragment(e){return!(!e||!e._isFragment)}}class Qe extends Ye{format(e){if(e||(e=ze.sighash),ze[e]||Ue.throwArgumentError("invalid format type","format",e),e===ze.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(t=>JSON.parse(t.format(e)))});let t="";return e!==ze.sighash&&(t+="event "),t+=this.name+"("+this.inputs.map(t=>t.format(e)).join(e===ze.full?", ":",")+") ",e!==ze.sighash&&this.anonymous&&(t+="anonymous "),t.trim()}static from(e){return"string"==typeof e?Qe.fromString(e):Qe.fromObject(e)}static fromObject(e){if(Qe.isEventFragment(e))return e;"event"!==e.type&&Ue.throwArgumentError("invalid event object","value",e);const t={name:at(e.name),anonymous:e.anonymous,inputs:e.inputs?e.inputs.map(Je.fromObject):[],type:"event"};return new Qe(qe,t)}static fromString(e){let t=e.match(ut);t||Ue.throwArgumentError("invalid event string","value",e);let r=!1;return t[3].split(" ").forEach(e=>{switch(e.trim()){case"anonymous":r=!0;break;case"":break;default:Ue.warn("unknown modifier: "+e)}}),Qe.fromObject({name:t[1].trim(),anonymous:r,inputs:$e(t[2],!0),type:"event"})}static isEventFragment(e){return e&&e._isFragment&&"event"===e.type}}function Xe(e,t){t.gas=null;let r=e.split("@");return 1!==r.length?(r.length>2&&Ue.throwArgumentError("invalid human-readable ABI signature","value",e),r[1].match(/^[0-9]+$/)||Ue.throwArgumentError("invalid human-readable ABI signature gas","value",e),t.gas=y.from(r[1]),r[0]):e}function Ze(e,t){t.constant=!1,t.payable=!1,t.stateMutability="nonpayable",e.split(" ").forEach(e=>{switch(e.trim()){case"constant":t.constant=!0;break;case"payable":t.payable=!0,t.stateMutability="payable";break;case"nonpayable":t.payable=!1,t.stateMutability="nonpayable";break;case"pure":t.constant=!0,t.stateMutability="pure";break;case"view":t.constant=!0,t.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+e)}})}function et(e){let t={constant:!1,payable:!0,stateMutability:"payable"};return null!=e.stateMutability?(t.stateMutability=e.stateMutability,t.constant="view"===t.stateMutability||"pure"===t.stateMutability,null!=e.constant&&!!e.constant!==t.constant&&Ue.throwArgumentError("cannot have constant function with mutability "+t.stateMutability,"value",e),t.payable="payable"===t.stateMutability,null!=e.payable&&!!e.payable!==t.payable&&Ue.throwArgumentError("cannot have payable function with mutability "+t.stateMutability,"value",e)):null!=e.payable?(t.payable=!!e.payable,null!=e.constant||t.payable||"constructor"===e.type||Ue.throwArgumentError("unable to determine stateMutability","value",e),t.constant=!!e.constant,t.constant?t.stateMutability="view":t.stateMutability=t.payable?"payable":"nonpayable",t.payable&&t.constant&&Ue.throwArgumentError("cannot have constant payable function","value",e)):null!=e.constant?(t.constant=!!e.constant,t.payable=!t.constant,t.stateMutability=t.constant?"view":"payable"):"constructor"!==e.type&&Ue.throwArgumentError("unable to determine stateMutability","value",e),t}class tt extends Ye{format(e){if(e||(e=ze.sighash),ze[e]||Ue.throwArgumentError("invalid format type","format",e),e===ze.json)return JSON.stringify({type:"constructor",stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(t=>JSON.parse(t.format(e)))});e===ze.sighash&&Ue.throwError("cannot format a constructor for sighash",f.b.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let t="constructor("+this.inputs.map(t=>t.format(e)).join(e===ze.full?", ":",")+") ";return this.stateMutability&&"nonpayable"!==this.stateMutability&&(t+=this.stateMutability+" "),t.trim()}static from(e){return"string"==typeof e?tt.fromString(e):tt.fromObject(e)}static fromObject(e){if(tt.isConstructorFragment(e))return e;"constructor"!==e.type&&Ue.throwArgumentError("invalid constructor object","value",e);let t=et(e);t.constant&&Ue.throwArgumentError("constructor cannot be constant","value",e);const r={name:null,type:e.type,inputs:e.inputs?e.inputs.map(Je.fromObject):[],payable:t.payable,stateMutability:t.stateMutability,gas:e.gas?y.from(e.gas):null};return new tt(qe,r)}static fromString(e){let t={type:"constructor"},r=(e=Xe(e,t)).match(ut);return r&&"constructor"===r[1].trim()||Ue.throwArgumentError("invalid constructor string","value",e),t.inputs=$e(r[2].trim(),!1),Ze(r[3].trim(),t),tt.fromObject(t)}static isConstructorFragment(e){return e&&e._isFragment&&"constructor"===e.type}}class rt extends tt{format(e){if(e||(e=ze.sighash),ze[e]||Ue.throwArgumentError("invalid format type","format",e),e===ze.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(t=>JSON.parse(t.format(e))),outputs:this.outputs.map(t=>JSON.parse(t.format(e)))});let t="";return e!==ze.sighash&&(t+="function "),t+=this.name+"("+this.inputs.map(t=>t.format(e)).join(e===ze.full?", ":",")+") ",e!==ze.sighash&&(this.stateMutability?"nonpayable"!==this.stateMutability&&(t+=this.stateMutability+" "):this.constant&&(t+="view "),this.outputs&&this.outputs.length&&(t+="returns ("+this.outputs.map(t=>t.format(e)).join(", ")+") "),null!=this.gas&&(t+="@"+this.gas.toString()+" ")),t.trim()}static from(e){return"string"==typeof e?rt.fromString(e):rt.fromObject(e)}static fromObject(e){if(rt.isFunctionFragment(e))return e;"function"!==e.type&&Ue.throwArgumentError("invalid function object","value",e);let t=et(e);const r={type:e.type,name:at(e.name),constant:t.constant,inputs:e.inputs?e.inputs.map(Je.fromObject):[],outputs:e.outputs?e.outputs.map(Je.fromObject):[],payable:t.payable,stateMutability:t.stateMutability,gas:e.gas?y.from(e.gas):null};return new rt(qe,r)}static fromString(e){let t={type:"function"},r=(e=Xe(e,t)).split(" returns ");r.length>2&&Ue.throwArgumentError("invalid function string","value",e);let n=r[0].match(ut);if(n||Ue.throwArgumentError("invalid function signature","value",e),t.name=n[1].trim(),t.name&&at(t.name),t.inputs=$e(n[2],!1),Ze(n[3].trim(),t),r.length>1){let n=r[1].match(ut);""==n[1].trim()&&""==n[3].trim()||Ue.throwArgumentError("unexpected tokens","value",e),t.outputs=$e(n[2],!1)}else t.outputs=[];return rt.fromObject(t)}static isFunctionFragment(e){return e&&e._isFragment&&"function"===e.type}}function nt(e){const t=e.format();return"Error(string)"!==t&&"Panic(uint256)"!==t||Ue.throwArgumentError(`cannot specify user defined ${t} error`,"fragment",e),e}class it extends Ye{format(e){if(e||(e=ze.sighash),ze[e]||Ue.throwArgumentError("invalid format type","format",e),e===ze.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(t=>JSON.parse(t.format(e)))});let t="";return e!==ze.sighash&&(t+="error "),t+=this.name+"("+this.inputs.map(t=>t.format(e)).join(e===ze.full?", ":",")+") ",t.trim()}static from(e){return"string"==typeof e?it.fromString(e):it.fromObject(e)}static fromObject(e){if(it.isErrorFragment(e))return e;"error"!==e.type&&Ue.throwArgumentError("invalid error object","value",e);const t={type:e.type,name:at(e.name),inputs:e.inputs?e.inputs.map(Je.fromObject):[]};return nt(new it(qe,t))}static fromString(e){let t={type:"error"},r=e.match(ut);return r||Ue.throwArgumentError("invalid error signature","value",e),t.name=r[1].trim(),t.name&&at(t.name),t.inputs=$e(r[2],!1),nt(it.fromObject(t))}static isErrorFragment(e){return e&&e._isFragment&&"error"===e.type}}function ot(e){return e.match(/^uint($|[^1-9])/)?e="uint256"+e.substring(4):e.match(/^int($|[^1-9])/)&&(e="int256"+e.substring(3)),e}const st=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function at(e){return e&&e.match(st)||Ue.throwArgumentError(`invalid identifier "${e}"`,"value",e),e}const ut=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");const ct=new f.b("abi/5.6.0"),lt=new RegExp(/^bytes([0-9]*)$/),ht=new RegExp(/^(u?int)([0-9]*)$/);class ft{constructor(e){ct.checkNew(new.target,ft),P(this,"coerceFunc",e||null)}_getCoder(e){switch(e.baseType){case"address":return new ve(e.name);case"bool":return new Pe(e.name);case"string":return new Le(e.name);case"bytes":return new Se(e.name);case"array":return new Ae(this._getCoder(e.arrayChildren),e.arrayLength,e.name);case"tuple":return new Fe((e.components||[]).map(e=>this._getCoder(e)),e.name);case"":return new ke(e.name)}let t=e.type.match(ht);if(t){let r=parseInt(t[2]||"256");return(0===r||r>256||r%8!=0)&&ct.throwArgumentError("invalid "+t[1]+" bit length","param",e),new Be(r/8,"int"===t[1],e.name)}if(t=e.type.match(lt),t){let r=parseInt(t[1]);return(0===r||r>32)&&ct.throwArgumentError("invalid bytes length","param",e),new Ce(r,e.name)}return ct.throwArgumentError("invalid type","type",e.type)}_getWordSize(){return 32}_getReader(e,t){return new B(e,this._getWordSize(),this.coerceFunc,t)}_getWriter(){return new D(this._getWordSize())}getDefaultValue(e){const t=e.map(e=>this._getCoder(Je.from(e)));return new Fe(t,"_").defaultValue()}encode(e,t){e.length!==t.length&&ct.throwError("types/values length mismatch",f.b.errors.INVALID_ARGUMENT,{count:{types:e.length,values:t.length},value:{types:e,values:t}});const r=e.map(e=>this._getCoder(Je.from(e))),n=new Fe(r,"_"),i=this._getWriter();return n.encode(i,t),i.data}decode(e,t,r){const n=e.map(e=>this._getCoder(Je.from(e)));return new Fe(n,"_").decode(this._getReader(Object(c.a)(t),r))}}const dt=new ft,pt=new f.b("abi/5.6.0");class gt extends R{}class mt extends R{}class yt extends R{}class vt extends R{static isIndexed(e){return!(!e||!e._isIndexed)}}const bt={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function wt(e,t){const r=new Error("deferred error during ABI decoding triggered accessing "+e);return r.error=t,r}class _t{constructor(e){pt.checkNew(new.target,_t);let t=[];t="string"==typeof e?JSON.parse(e):e,P(this,"fragments",t.map(e=>Ye.from(e)).filter(e=>null!=e)),P(this,"_abiCoder",O(new.target,"getAbiCoder")()),P(this,"functions",{}),P(this,"errors",{}),P(this,"events",{}),P(this,"structs",{}),this.fragments.forEach(e=>{let t=null;switch(e.type){case"constructor":return this.deploy?void pt.warn("duplicate definition - constructor"):void P(this,"deploy",e);case"function":t=this.functions;break;case"event":t=this.events;break;case"error":t=this.errors;break;default:return}let r=e.format();t[r]?pt.warn("duplicate definition - "+r):t[r]=e}),this.deploy||P(this,"deploy",tt.from({payable:!1,type:"constructor"})),P(this,"_isInterface",!0)}format(e){e||(e=ze.full),e===ze.sighash&&pt.throwArgumentError("interface does not support formatting sighash","format",e);const t=this.fragments.map(t=>t.format(e));return e===ze.json?JSON.stringify(t.map(e=>JSON.parse(e))):t}static getAbiCoder(){return dt}static getAddress(e){return ee(e)}static getSighash(e){return Object(c.e)(ye(e.format()),0,4)}static getEventTopic(e){return ye(e.format())}getFunction(e){if(Object(c.l)(e)){for(const t in this.functions)if(e===this.getSighash(t))return this.functions[t];pt.throwArgumentError("no matching function","sighash",e)}if(-1===e.indexOf("(")){const t=e.trim(),r=Object.keys(this.functions).filter(e=>e.split("(")[0]===t);return 0===r.length?pt.throwArgumentError("no matching function","name",t):r.length>1&&pt.throwArgumentError("multiple matching functions","name",t),this.functions[r[0]]}const t=this.functions[rt.fromString(e).format()];return t||pt.throwArgumentError("no matching function","signature",e),t}getEvent(e){if(Object(c.l)(e)){const t=e.toLowerCase();for(const e in this.events)if(t===this.getEventTopic(e))return this.events[e];pt.throwArgumentError("no matching event","topichash",t)}if(-1===e.indexOf("(")){const t=e.trim(),r=Object.keys(this.events).filter(e=>e.split("(")[0]===t);return 0===r.length?pt.throwArgumentError("no matching event","name",t):r.length>1&&pt.throwArgumentError("multiple matching events","name",t),this.events[r[0]]}const t=this.events[Qe.fromString(e).format()];return t||pt.throwArgumentError("no matching event","signature",e),t}getError(e){if(Object(c.l)(e)){const t=O(this.constructor,"getSighash");for(const r in this.errors){if(e===t(this.errors[r]))return this.errors[r]}pt.throwArgumentError("no matching error","sighash",e)}if(-1===e.indexOf("(")){const t=e.trim(),r=Object.keys(this.errors).filter(e=>e.split("(")[0]===t);return 0===r.length?pt.throwArgumentError("no matching error","name",t):r.length>1&&pt.throwArgumentError("multiple matching errors","name",t),this.errors[r[0]]}const t=this.errors[rt.fromString(e).format()];return t||pt.throwArgumentError("no matching error","signature",e),t}getSighash(e){if("string"==typeof e)try{e=this.getFunction(e)}catch(t){try{e=this.getError(e)}catch(e){throw t}}return O(this.constructor,"getSighash")(e)}getEventTopic(e){return"string"==typeof e&&(e=this.getEvent(e)),O(this.constructor,"getEventTopic")(e)}_decodeParams(e,t){return this._abiCoder.decode(e,t)}_encodeParams(e,t){return this._abiCoder.encode(e,t)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,t){"string"==typeof e&&(e=this.getError(e));const r=Object(c.a)(t);return Object(c.i)(r.slice(0,4))!==this.getSighash(e)&&pt.throwArgumentError(`data signature does not match error ${e.name}.`,"data",Object(c.i)(r)),this._decodeParams(e.inputs,r.slice(4))}encodeErrorResult(e,t){return"string"==typeof e&&(e=this.getError(e)),Object(c.i)(Object(c.b)([this.getSighash(e),this._encodeParams(e.inputs,t||[])]))}decodeFunctionData(e,t){"string"==typeof e&&(e=this.getFunction(e));const r=Object(c.a)(t);return Object(c.i)(r.slice(0,4))!==this.getSighash(e)&&pt.throwArgumentError(`data signature does not match function ${e.name}.`,"data",Object(c.i)(r)),this._decodeParams(e.inputs,r.slice(4))}encodeFunctionData(e,t){return"string"==typeof e&&(e=this.getFunction(e)),Object(c.i)(Object(c.b)([this.getSighash(e),this._encodeParams(e.inputs,t||[])]))}decodeFunctionResult(e,t){"string"==typeof e&&(e=this.getFunction(e));let r=Object(c.a)(t),n=null,i=null,o=null,s=null;switch(r.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(e.outputs,r)}catch(e){}break;case 4:{const e=Object(c.i)(r.slice(0,4)),t=bt[e];if(t)i=this._abiCoder.decode(t.inputs,r.slice(4)),o=t.name,s=t.signature,t.reason&&(n=i[0]);else try{const t=this.getError(e);i=this._abiCoder.decode(t.inputs,r.slice(4)),o=t.name,s=t.format()}catch(e){}break}}return pt.throwError("call revert exception",f.b.errors.CALL_EXCEPTION,{method:e.format(),errorArgs:i,errorName:o,errorSignature:s,reason:n})}encodeFunctionResult(e,t){return"string"==typeof e&&(e=this.getFunction(e)),Object(c.i)(this._abiCoder.encode(e.outputs,t||[]))}encodeFilterTopics(e,t){"string"==typeof e&&(e=this.getEvent(e)),t.length>e.inputs.length&&pt.throwError("too many arguments for "+e.format(),f.b.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:t});let r=[];e.anonymous||r.push(this.getEventTopic(e));const n=(e,t)=>"string"===e.type?ye(t):"bytes"===e.type?U(Object(c.i)(t)):("address"===e.type&&this._abiCoder.encode(["address"],[t]),Object(c.h)(Object(c.i)(t),32));for(t.forEach((t,i)=>{let o=e.inputs[i];o.indexed?null==t?r.push(null):"array"===o.baseType||"tuple"===o.baseType?pt.throwArgumentError("filtering with tuples or arrays not supported","contract."+o.name,t):Array.isArray(t)?r.push(t.map(e=>n(o,e))):r.push(n(o,t)):null!=t&&pt.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+o.name,t)});r.length&&null===r[r.length-1];)r.pop();return r}encodeEventLog(e,t){"string"==typeof e&&(e=this.getEvent(e));const r=[],n=[],i=[];return e.anonymous||r.push(this.getEventTopic(e)),t.length!==e.inputs.length&&pt.throwArgumentError("event arguments/values mismatch","values",t),e.inputs.forEach((e,o)=>{const s=t[o];if(e.indexed)if("string"===e.type)r.push(ye(s));else if("bytes"===e.type)r.push(U(s));else{if("tuple"===e.baseType||"array"===e.baseType)throw new Error("not implemented");r.push(this._abiCoder.encode([e.type],[s]))}else n.push(e),i.push(s)}),{data:this._abiCoder.encode(n,i),topics:r}}decodeEventLog(e,t,r){if("string"==typeof e&&(e=this.getEvent(e)),null!=r&&!e.anonymous){let t=this.getEventTopic(e);Object(c.l)(r[0],32)&&r[0].toLowerCase()===t||pt.throwError("fragment/topic mismatch",f.b.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:t,value:r[0]}),r=r.slice(1)}let n=[],i=[],o=[];e.inputs.forEach((e,t)=>{e.indexed?"string"===e.type||"bytes"===e.type||"tuple"===e.baseType||"array"===e.baseType?(n.push(Je.fromObject({type:"bytes32",name:e.name})),o.push(!0)):(n.push(e),o.push(!1)):(i.push(e),o.push(!1))});let s=null!=r?this._abiCoder.decode(n,Object(c.b)(r)):null,a=this._abiCoder.decode(i,t,!0),u=[],l=0,h=0;e.inputs.forEach((e,t)=>{if(e.indexed)if(null==s)u[t]=new vt({_isIndexed:!0,hash:null});else if(o[t])u[t]=new vt({_isIndexed:!0,hash:s[h++]});else try{u[t]=s[h++]}catch(e){u[t]=e}else try{u[t]=a[l++]}catch(e){u[t]=e}if(e.name&&null==u[e.name]){const r=u[t];r instanceof Error?Object.defineProperty(u,e.name,{enumerable:!0,get:()=>{throw wt("property "+JSON.stringify(e.name),r)}}):u[e.name]=r}});for(let e=0;e<u.length;e++){const t=u[e];t instanceof Error&&Object.defineProperty(u,e,{enumerable:!0,get:()=>{throw wt("index "+e,t)}})}return Object.freeze(u)}parseTransaction(e){let t=this.getFunction(e.data.substring(0,10).toLowerCase());return t?new mt({args:this._abiCoder.decode(t.inputs,"0x"+e.data.substring(10)),functionFragment:t,name:t.name,signature:t.format(),sighash:this.getSighash(t),value:y.from(e.value||"0")}):null}parseLog(e){let t=this.getEvent(e.topics[0]);return!t||t.anonymous?null:new gt({eventFragment:t,name:t.name,signature:t.format(),topic:this.getEventTopic(t),args:this.decodeEventLog(t,e.data,e.topics)})}parseError(e){const t=Object(c.i)(e);let r=this.getError(t.substring(0,10).toLowerCase());return r?new yt({args:this._abiCoder.decode(r.inputs,"0x"+t.substring(10)),errorFragment:r,name:r.name,signature:r.format(),sighash:this.getSighash(r)}):null}static isInterface(e){return!(!e||!e._isInterface)}}var Et=function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))};const At=new f.b("abstract-provider/5.6.0");class Pt extends R{static isForkEvent(e){return!(!e||!e._isForkEvent)}}class Ot{constructor(){At.checkAbstract(new.target,Ot),P(this,"_isProvider",!0)}getFeeData(){return Et(this,void 0,void 0,(function*(){const{block:e,gasPrice:t}=yield S({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(e=>null)});let r=null,n=null;return e&&e.baseFeePerGas&&(n=y.from("1500000000"),r=e.baseFeePerGas.mul(2).add(n)),{maxFeePerGas:r,maxPriorityFeePerGas:n,gasPrice:t}}))}addListener(e,t){return this.on(e,t)}removeListener(e,t){return this.off(e,t)}static isProvider(e){return!(!e||!e._isProvider)}}var St=function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))};const Ct=new f.b("abstract-signer/5.6.0"),kt=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],Nt=[f.b.errors.INSUFFICIENT_FUNDS,f.b.errors.NONCE_EXPIRED,f.b.errors.REPLACEMENT_UNDERPRICED];class Tt{constructor(){Ct.checkAbstract(new.target,Tt),P(this,"_isSigner",!0)}getBalance(e){return St(this,void 0,void 0,(function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),e)}))}getTransactionCount(e){return St(this,void 0,void 0,(function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),e)}))}estimateGas(e){return St(this,void 0,void 0,(function*(){this._checkProvider("estimateGas");const t=yield S(this.checkTransaction(e));return yield this.provider.estimateGas(t)}))}call(e,t){return St(this,void 0,void 0,(function*(){this._checkProvider("call");const r=yield S(this.checkTransaction(e));return yield this.provider.call(r,t)}))}sendTransaction(e){return St(this,void 0,void 0,(function*(){this._checkProvider("sendTransaction");const t=yield this.populateTransaction(e),r=yield this.signTransaction(t);return yield this.provider.sendTransaction(r)}))}getChainId(){return St(this,void 0,void 0,(function*(){this._checkProvider("getChainId");return(yield this.provider.getNetwork()).chainId}))}getGasPrice(){return St(this,void 0,void 0,(function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()}))}getFeeData(){return St(this,void 0,void 0,(function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()}))}resolveName(e){return St(this,void 0,void 0,(function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(e)}))}checkTransaction(e){for(const t in e)-1===kt.indexOf(t)&&Ct.throwArgumentError("invalid transaction key: "+t,"transaction",e);const t=k(e);return null==t.from?t.from=this.getAddress():t.from=Promise.all([Promise.resolve(t.from),this.getAddress()]).then(t=>(t[0].toLowerCase()!==t[1].toLowerCase()&&Ct.throwArgumentError("from address mismatch","transaction",e),t[0])),t}populateTransaction(e){return St(this,void 0,void 0,(function*(){const t=yield S(this.checkTransaction(e));null!=t.to&&(t.to=Promise.resolve(t.to).then(e=>St(this,void 0,void 0,(function*(){if(null==e)return null;const t=yield this.resolveName(e);return null==t&&Ct.throwArgumentError("provided ENS name resolves to null","tx.to",e),t}))),t.to.catch(e=>{}));const r=null!=t.maxFeePerGas||null!=t.maxPriorityFeePerGas;if(null==t.gasPrice||2!==t.type&&!r?0!==t.type&&1!==t.type||!r||Ct.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",e):Ct.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",e),2!==t.type&&null!=t.type||null==t.maxFeePerGas||null==t.maxPriorityFeePerGas)if(0===t.type||1===t.type)null==t.gasPrice&&(t.gasPrice=this.getGasPrice());else{const e=yield this.getFeeData();if(null==t.type)if(null!=e.maxFeePerGas&&null!=e.maxPriorityFeePerGas)if(t.type=2,null!=t.gasPrice){const e=t.gasPrice;delete t.gasPrice,t.maxFeePerGas=e,t.maxPriorityFeePerGas=e}else null==t.maxFeePerGas&&(t.maxFeePerGas=e.maxFeePerGas),null==t.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=e.maxPriorityFeePerGas);else null!=e.gasPrice?(r&&Ct.throwError("network does not support EIP-1559",f.b.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),null==t.gasPrice&&(t.gasPrice=e.gasPrice),t.type=0):Ct.throwError("failed to get consistent fee data",f.b.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else 2===t.type&&(null==t.maxFeePerGas&&(t.maxFeePerGas=e.maxFeePerGas),null==t.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=e.maxPriorityFeePerGas))}else t.type=2;return null==t.nonce&&(t.nonce=this.getTransactionCount("pending")),null==t.gasLimit&&(t.gasLimit=this.estimateGas(t).catch(e=>{if(Nt.indexOf(e.code)>=0)throw e;return Ct.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",f.b.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,tx:t})})),null==t.chainId?t.chainId=this.getChainId():t.chainId=Promise.all([Promise.resolve(t.chainId),this.getChainId()]).then(t=>(0!==t[1]&&t[0]!==t[1]&&Ct.throwArgumentError("chainId address mismatch","transaction",e),t[0])),yield S(t)}))}_checkProvider(e){this.provider||Ct.throwError("missing provider",f.b.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})}static isSigner(e){return!(!e||!e._isSigner)}}class It extends Tt{constructor(e,t){Ct.checkNew(new.target,It),super(),P(this,"address",e),P(this,"provider",t||null)}getAddress(){return Promise.resolve(this.address)}_fail(e,t){return Promise.resolve().then(()=>{Ct.throwError(e,f.b.errors.UNSUPPORTED_OPERATION,{operation:t})})}signMessage(e){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(e){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(e,t,r){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(e){return new It(this.address,e)}}var Rt=r(103);const xt=new f.b("signing-key/5.6.0");let Mt=null;function jt(){return Mt||(Mt=new Rt.a("secp256k1")),Mt}class Dt{constructor(e){P(this,"curve","secp256k1"),P(this,"privateKey",Object(c.i)(e));const t=jt().keyFromPrivate(Object(c.a)(this.privateKey));P(this,"publicKey","0x"+t.getPublic(!1,"hex")),P(this,"compressedPublicKey","0x"+t.getPublic(!0,"hex")),P(this,"_isSigningKey",!0)}_addPoint(e){const t=jt().keyFromPublic(Object(c.a)(this.publicKey)),r=jt().keyFromPublic(Object(c.a)(e));return"0x"+t.pub.add(r.pub).encodeCompressed("hex")}signDigest(e){const t=jt().keyFromPrivate(Object(c.a)(this.privateKey)),r=Object(c.a)(e);32!==r.length&&xt.throwArgumentError("bad digest length","digest",e);const n=t.sign(r,{canonical:!0});return Object(c.n)({recoveryParam:n.recoveryParam,r:Object(c.h)("0x"+n.r.toString(16),32),s:Object(c.h)("0x"+n.s.toString(16),32)})}computeSharedSecret(e){const t=jt().keyFromPrivate(Object(c.a)(this.privateKey)),r=jt().keyFromPublic(Object(c.a)(Lt(e)));return Object(c.h)("0x"+t.derive(r.getPublic()).toString(16),32)}static isSigningKey(e){return!(!e||!e._isSigningKey)}}function Bt(e,t){const r=Object(c.n)(t),n={r:Object(c.a)(r.r),s:Object(c.a)(r.s)};return"0x"+jt().recoverPubKey(Object(c.a)(e),n,r.recoveryParam).encode("hex",!1)}function Lt(e,t){const r=Object(c.a)(e);if(32===r.length){const e=new Dt(r);return t?"0x"+jt().keyFromPrivate(r).getPublic(!0,"hex"):e.publicKey}return 33===r.length?t?Object(c.i)(r):"0x"+jt().keyFromPublic(r).getPublic(!1,"hex"):65===r.length?t?"0x"+jt().keyFromPublic(r).getPublic(!0,"hex"):Object(c.i)(r):xt.throwArgumentError("invalid public or private key","key","[REDACTED]")}const Ft=new f.b("transactions/5.6.0");var Ut;function qt(e){return"0x"===e?null:ee(e)}function Wt(e){return"0x"===e?Te:y.from(e)}!function(e){e[e.legacy=0]="legacy",e[e.eip2930=1]="eip2930",e[e.eip1559=2]="eip1559"}(Ut||(Ut={}));const Gt=[{name:"nonce",maxLength:32,numeric:!0},{name:"gasPrice",maxLength:32,numeric:!0},{name:"gasLimit",maxLength:32,numeric:!0},{name:"to",length:20},{name:"value",maxLength:32,numeric:!0},{name:"data"}],Ht={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,type:!0,value:!0};function Kt(e){const t=Lt(e);return ee(Object(c.e)(U(Object(c.e)(t,1)),12))}function zt(e,t){return Kt(Bt(Object(c.a)(e),t))}function Vt(e,t){const r=Object(c.o)(y.from(e).toHexString());return r.length>32&&Ft.throwArgumentError("invalid length for "+t,"transaction:"+t,e),r}function Jt(e,t){return{address:ee(e),storageKeys:(t||[]).map((t,r)=>(32!==Object(c.d)(t)&&Ft.throwArgumentError("invalid access list storageKey",`accessList[${e}:${r}]`,t),t.toLowerCase()))}}function $t(e){if(Array.isArray(e))return e.map((e,t)=>Array.isArray(e)?(e.length>2&&Ft.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${t}]`,e),Jt(e[0],e[1])):Jt(e.address,e.storageKeys));const t=Object.keys(e).map(t=>{const r=e[t].reduce((e,t)=>(e[t]=!0,e),{});return Jt(t,Object.keys(r).sort())});return t.sort((e,t)=>e.address.localeCompare(t.address)),t}function Yt(e){return $t(e).map(e=>[e.address,e.storageKeys])}function Qt(e,t){if(null!=e.gasPrice){const t=y.from(e.gasPrice),r=y.from(e.maxFeePerGas||0);t.eq(r)||Ft.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:t,maxFeePerGas:r})}const r=[Vt(e.chainId||0,"chainId"),Vt(e.nonce||0,"nonce"),Vt(e.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Vt(e.maxFeePerGas||0,"maxFeePerGas"),Vt(e.gasLimit||0,"gasLimit"),null!=e.to?ee(e.to):"0x",Vt(e.value||0,"value"),e.data||"0x",Yt(e.accessList||[])];if(t){const e=Object(c.n)(t);r.push(Vt(e.recoveryParam,"recoveryParam")),r.push(Object(c.o)(e.r)),r.push(Object(c.o)(e.s))}return Object(c.c)(["0x02",H(r)])}function Xt(e,t){const r=[Vt(e.chainId||0,"chainId"),Vt(e.nonce||0,"nonce"),Vt(e.gasPrice||0,"gasPrice"),Vt(e.gasLimit||0,"gasLimit"),null!=e.to?ee(e.to):"0x",Vt(e.value||0,"value"),e.data||"0x",Yt(e.accessList||[])];if(t){const e=Object(c.n)(t);r.push(Vt(e.recoveryParam,"recoveryParam")),r.push(Object(c.o)(e.r)),r.push(Object(c.o)(e.s))}return Object(c.c)(["0x01",H(r)])}function Zt(e,t){if(null==e.type||0===e.type)return null!=e.accessList&&Ft.throwArgumentError("untyped transactions do not support accessList; include type: 1","transaction",e),function(e,t){C(e,Ht);const r=[];Gt.forEach((function(t){let n=e[t.name]||[];const i={};t.numeric&&(i.hexPad="left"),n=Object(c.a)(Object(c.i)(n,i)),t.length&&n.length!==t.length&&n.length>0&&Ft.throwArgumentError("invalid length for "+t.name,"transaction:"+t.name,n),t.maxLength&&(n=Object(c.o)(n),n.length>t.maxLength&&Ft.throwArgumentError("invalid length for "+t.name,"transaction:"+t.name,n)),r.push(Object(c.i)(n))}));let n=0;if(null!=e.chainId?(n=e.chainId,"number"!=typeof n&&Ft.throwArgumentError("invalid transaction.chainId","transaction",e)):t&&!Object(c.k)(t)&&t.v>28&&(n=Math.floor((t.v-35)/2)),0!==n&&(r.push(Object(c.i)(n)),r.push("0x"),r.push("0x")),!t)return H(r);const i=Object(c.n)(t);let o=27+i.recoveryParam;return 0!==n?(r.pop(),r.pop(),r.pop(),o+=2*n+8,i.v>28&&i.v!==o&&Ft.throwArgumentError("transaction.chainId/signature.v mismatch","signature",t)):i.v!==o&&Ft.throwArgumentError("transaction.chainId/signature.v mismatch","signature",t),r.push(Object(c.i)(o)),r.push(Object(c.o)(Object(c.a)(i.r))),r.push(Object(c.o)(Object(c.a)(i.s))),H(r)}(e,t);switch(e.type){case 1:return Xt(e,t);case 2:return Qt(e,t)}return Ft.throwError("unsupported transaction type: "+e.type,f.b.errors.UNSUPPORTED_OPERATION,{operation:"serializeTransaction",transactionType:e.type})}function er(e,t,r){try{const r=Wt(t[0]).toNumber();if(0!==r&&1!==r)throw new Error("bad recid");e.v=r}catch(e){Ft.throwArgumentError("invalid v for transaction type: 1","v",t[0])}e.r=Object(c.h)(t[1],32),e.s=Object(c.h)(t[2],32);try{const t=U(r(e));e.from=zt(t,{r:e.r,s:e.s,recoveryParam:e.v})}catch(e){console.log(e)}}function tr(e){const t=Object(c.a)(e);if(t[0]>127)return function(e){const t=V(e);9!==t.length&&6!==t.length&&Ft.throwArgumentError("invalid raw transaction","rawTransaction",e);const r={nonce:Wt(t[0]).toNumber(),gasPrice:Wt(t[1]),gasLimit:Wt(t[2]),to:qt(t[3]),value:Wt(t[4]),data:t[5],chainId:0};if(6===t.length)return r;try{r.v=y.from(t[6]).toNumber()}catch(e){return console.log(e),r}if(r.r=Object(c.h)(t[7],32),r.s=Object(c.h)(t[8],32),y.from(r.r).isZero()&&y.from(r.s).isZero())r.chainId=r.v,r.v=0;else{r.chainId=Math.floor((r.v-35)/2),r.chainId<0&&(r.chainId=0);let n=r.v-27;const i=t.slice(0,6);0!==r.chainId&&(i.push(Object(c.i)(r.chainId)),i.push("0x"),i.push("0x"),n-=2*r.chainId+8);const o=U(H(i));try{r.from=zt(o,{r:Object(c.i)(r.r),s:Object(c.i)(r.s),recoveryParam:n})}catch(e){console.log(e)}r.hash=U(e)}return r.type=null,r}(t);switch(t[0]){case 1:return function(e){const t=V(e.slice(1));8!==t.length&&11!==t.length&&Ft.throwArgumentError("invalid component count for transaction type: 1","payload",Object(c.i)(e));const r={type:1,chainId:Wt(t[0]).toNumber(),nonce:Wt(t[1]).toNumber(),gasPrice:Wt(t[2]),gasLimit:Wt(t[3]),to:qt(t[4]),value:Wt(t[5]),data:t[6],accessList:$t(t[7])};return 8===t.length||(r.hash=U(e),er(r,t.slice(8),Xt)),r}(t);case 2:return function(e){const t=V(e.slice(1));9!==t.length&&12!==t.length&&Ft.throwArgumentError("invalid component count for transaction type: 2","payload",Object(c.i)(e));const r=Wt(t[2]),n=Wt(t[3]),i={type:2,chainId:Wt(t[0]).toNumber(),nonce:Wt(t[1]).toNumber(),maxPriorityFeePerGas:r,maxFeePerGas:n,gasPrice:null,gasLimit:Wt(t[4]),to:qt(t[5]),value:Wt(t[6]),data:t[7],accessList:$t(t[8])};return 9===t.length||(i.hash=U(e),er(i,t.slice(9),Qt)),i}(t)}return Ft.throwError("unsupported transaction type: "+t[0],f.b.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:t[0]})}var rr=function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))};const nr=new f.b("contracts/5.6.0"),ir={chainId:!0,data:!0,from:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0,customData:!0,ccipReadEnabled:!0};function or(e,t){return rr(this,void 0,void 0,(function*(){const r=yield t;"string"!=typeof r&&nr.throwArgumentError("invalid address or ENS name","name",r);try{return ee(r)}catch(e){}e||nr.throwError("a provider or signer is needed to resolve ENS names",f.b.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"});const n=yield e.resolveName(r);return null==n&&nr.throwArgumentError("resolver or addr is not configured for ENS name","name",r),n}))}function sr(e,t,r){return rr(this,void 0,void 0,(function*(){return Array.isArray(r)?yield Promise.all(r.map((r,n)=>sr(e,Array.isArray(t)?t[n]:t[r.name],r))):"address"===r.type?yield or(e,t):"tuple"===r.type?yield sr(e,t,r.components):"array"===r.baseType?Array.isArray(t)?yield Promise.all(t.map(t=>sr(e,t,r.arrayChildren))):Promise.reject(nr.makeError("invalid value for array",f.b.errors.INVALID_ARGUMENT,{argument:"value",value:t})):t}))}function ar(e,t,r){return rr(this,void 0,void 0,(function*(){let n={};r.length===t.inputs.length+1&&"object"==typeof r[r.length-1]&&(n=k(r.pop())),nr.checkArgumentCount(r.length,t.inputs.length,"passed to contract"),e.signer?n.from?n.from=S({override:or(e.signer,n.from),signer:e.signer.getAddress()}).then(e=>rr(this,void 0,void 0,(function*(){return ee(e.signer)!==e.override&&nr.throwError("Contract with a Signer cannot override from",f.b.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),e.override}))):n.from=e.signer.getAddress():n.from&&(n.from=or(e.provider,n.from));const i=yield S({args:sr(e.signer||e.provider,r,t.inputs),address:e.resolvedAddress,overrides:S(n)||{}}),o=e.interface.encodeFunctionData(t,i.args),s={data:o,to:i.address},a=i.overrides;if(null!=a.nonce&&(s.nonce=y.from(a.nonce).toNumber()),null!=a.gasLimit&&(s.gasLimit=y.from(a.gasLimit)),null!=a.gasPrice&&(s.gasPrice=y.from(a.gasPrice)),null!=a.maxFeePerGas&&(s.maxFeePerGas=y.from(a.maxFeePerGas)),null!=a.maxPriorityFeePerGas&&(s.maxPriorityFeePerGas=y.from(a.maxPriorityFeePerGas)),null!=a.from&&(s.from=a.from),null!=a.type&&(s.type=a.type),null!=a.accessList&&(s.accessList=$t(a.accessList)),null==s.gasLimit&&null!=t.gas){let e=21e3;const r=Object(c.a)(o);for(let t=0;t<r.length;t++)e+=4,r[t]&&(e+=64);s.gasLimit=y.from(t.gas).add(e)}if(a.value){const e=y.from(a.value);e.isZero()||t.payable||nr.throwError("non-payable method cannot override value",f.b.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:n.value}),s.value=e}a.customData&&(s.customData=k(a.customData)),a.ccipReadEnabled&&(s.ccipReadEnabled=!!a.ccipReadEnabled),delete n.nonce,delete n.gasLimit,delete n.gasPrice,delete n.from,delete n.value,delete n.type,delete n.accessList,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.customData,delete n.ccipReadEnabled;const u=Object.keys(n).filter(e=>null!=n[e]);return u.length&&nr.throwError("cannot override "+u.map(e=>JSON.stringify(e)).join(","),f.b.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:u}),s}))}function ur(e,t){const r=t.wait.bind(t);t.wait=t=>r(t).then(t=>(t.events=t.logs.map(r=>{let n=I(r),i=null;try{i=e.interface.parseLog(r)}catch(e){}return i&&(n.args=i.args,n.decode=(t,r)=>e.interface.decodeEventLog(i.eventFragment,t,r),n.event=i.name,n.eventSignature=i.signature),n.removeListener=()=>e.provider,n.getBlock=()=>e.provider.getBlock(t.blockHash),n.getTransaction=()=>e.provider.getTransaction(t.transactionHash),n.getTransactionReceipt=()=>Promise.resolve(t),n}),t))}function cr(e,t,r){const n=e.signer||e.provider;return function(...i){return rr(this,void 0,void 0,(function*(){let o=void 0;if(i.length===t.inputs.length+1&&"object"==typeof i[i.length-1]){const e=k(i.pop());null!=e.blockTag&&(o=yield e.blockTag),delete e.blockTag,i.push(e)}null!=e.deployTransaction&&(yield e._deployed(o));const s=yield ar(e,t,i),a=yield n.call(s,o);try{let n=e.interface.decodeFunctionResult(t,a);return r&&1===t.outputs.length&&(n=n[0]),n}catch(t){throw t.code===f.b.errors.CALL_EXCEPTION&&(t.address=e.address,t.args=i,t.transaction=s),t}}))}}function lr(e,t,r){return t.constant?cr(e,t,r):function(e,t){return function(...r){return rr(this,void 0,void 0,(function*(){e.signer||nr.throwError("sending a transaction requires a signer",f.b.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),null!=e.deployTransaction&&(yield e._deployed());const n=yield ar(e,t,r),i=yield e.signer.sendTransaction(n);return ur(e,i),i}))}}(e,t)}function hr(e){return!e.address||null!=e.topics&&0!==e.topics.length?(e.address||"*")+"@"+(e.topics?e.topics.map(e=>Array.isArray(e)?e.join("|"):e).join(":"):""):"*"}class fr{constructor(e,t){P(this,"tag",e),P(this,"filter",t),this._listeners=[]}addListener(e,t){this._listeners.push({listener:e,once:t})}removeListener(e){let t=!1;this._listeners=this._listeners.filter(r=>!(!t&&r.listener===e)||(t=!0,!1))}removeAllListeners(){this._listeners=[]}listeners(){return this._listeners.map(e=>e.listener)}listenerCount(){return this._listeners.length}run(e){const t=this.listenerCount();return this._listeners=this._listeners.filter(t=>{const r=e.slice();return setTimeout(()=>{t.listener.apply(this,r)},0),!t.once}),t}prepareEvent(e){}getEmit(e){return[e]}}class dr extends fr{constructor(){super("error",null)}}class pr extends fr{constructor(e,t,r,n){const i={address:e};let o=t.getEventTopic(r);n?(o!==n[0]&&nr.throwArgumentError("topic mismatch","topics",n),i.topics=n.slice()):i.topics=[o],super(hr(i),i),P(this,"address",e),P(this,"interface",t),P(this,"fragment",r)}prepareEvent(e){super.prepareEvent(e),e.event=this.fragment.name,e.eventSignature=this.fragment.format(),e.decode=(e,t)=>this.interface.decodeEventLog(this.fragment,e,t);try{e.args=this.interface.decodeEventLog(this.fragment,e.data,e.topics)}catch(t){e.args=null,e.decodeError=t}}getEmit(e){const t=M(e.args);if(t.length)throw t[0].error;const r=(e.args||[]).slice();return r.push(e),r}}class gr extends fr{constructor(e,t){super("*",{address:e}),P(this,"address",e),P(this,"interface",t)}prepareEvent(e){super.prepareEvent(e);try{const t=this.interface.parseLog(e);e.event=t.name,e.eventSignature=t.signature,e.decode=(e,r)=>this.interface.decodeEventLog(t.eventFragment,e,r),e.args=t.args}catch(e){}}}class mr{constructor(e,t,r){nr.checkNew(new.target,yr),P(this,"interface",O(new.target,"getInterface")(t)),null==r?(P(this,"provider",null),P(this,"signer",null)):Tt.isSigner(r)?(P(this,"provider",r.provider||null),P(this,"signer",r)):Ot.isProvider(r)?(P(this,"provider",r),P(this,"signer",null)):nr.throwArgumentError("invalid signer or provider","signerOrProvider",r),P(this,"callStatic",{}),P(this,"estimateGas",{}),P(this,"functions",{}),P(this,"populateTransaction",{}),P(this,"filters",{});{const e={};Object.keys(this.interface.events).forEach(t=>{const r=this.interface.events[t];P(this.filters,t,(...e)=>({address:this.address,topics:this.interface.encodeFilterTopics(r,e)})),e[r.name]||(e[r.name]=[]),e[r.name].push(t)}),Object.keys(e).forEach(t=>{const r=e[t];1===r.length?P(this.filters,t,this.filters[r[0]]):nr.warn(`Duplicate definition of ${t} (${r.join(", ")})`)})}if(P(this,"_runningEvents",{}),P(this,"_wrappedEmits",{}),null==e&&nr.throwArgumentError("invalid contract address or ENS name","addressOrName",e),P(this,"address",e),this.provider)P(this,"resolvedAddress",or(this.provider,e));else try{P(this,"resolvedAddress",Promise.resolve(ee(e)))}catch(e){nr.throwError("provider is required to use ENS name as contract address",f.b.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}this.resolvedAddress.catch(e=>{});const n={},i={};Object.keys(this.interface.functions).forEach(e=>{const t=this.interface.functions[e];if(i[e])nr.warn("Duplicate ABI entry for "+JSON.stringify(e));else{i[e]=!0;{const r=t.name;n["%"+r]||(n["%"+r]=[]),n["%"+r].push(e)}null==this[e]&&P(this,e,lr(this,t,!0)),null==this.functions[e]&&P(this.functions,e,lr(this,t,!1)),null==this.callStatic[e]&&P(this.callStatic,e,cr(this,t,!0)),null==this.populateTransaction[e]&&P(this.populateTransaction,e,function(e,t){return function(...r){return ar(e,t,r)}}(this,t)),null==this.estimateGas[e]&&P(this.estimateGas,e,function(e,t){const r=e.signer||e.provider;return function(...n){return rr(this,void 0,void 0,(function*(){r||nr.throwError("estimate require a provider or signer",f.b.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"});const i=yield ar(e,t,n);return yield r.estimateGas(i)}))}}(this,t))}}),Object.keys(n).forEach(e=>{const t=n[e];if(t.length>1)return;e=e.substring(1);const r=t[0];try{null==this[e]&&P(this,e,this[r])}catch(e){}null==this.functions[e]&&P(this.functions,e,this.functions[r]),null==this.callStatic[e]&&P(this.callStatic,e,this.callStatic[r]),null==this.populateTransaction[e]&&P(this.populateTransaction,e,this.populateTransaction[r]),null==this.estimateGas[e]&&P(this.estimateGas,e,this.estimateGas[r])})}static getContractAddress(e){return ne(e)}static getInterface(e){return _t.isInterface(e)?e:new _t(e)}deployed(){return this._deployed()}_deployed(e){return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then(()=>this):this._deployedPromise=this.provider.getCode(this.address,e).then(e=>("0x"===e&&nr.throwError("contract not deployed",f.b.errors.UNSUPPORTED_OPERATION,{contractAddress:this.address,operation:"getDeployed"}),this))),this._deployedPromise}fallback(e){this.signer||nr.throwError("sending a transactions require a signer",f.b.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});const t=k(e||{});return["from","to"].forEach((function(e){null!=t[e]&&nr.throwError("cannot override "+e,f.b.errors.UNSUPPORTED_OPERATION,{operation:e})})),t.to=this.resolvedAddress,this.deployed().then(()=>this.signer.sendTransaction(t))}connect(e){"string"==typeof e&&(e=new It(e,this.provider));const t=new this.constructor(this.address,this.interface,e);return this.deployTransaction&&P(t,"deployTransaction",this.deployTransaction),t}attach(e){return new this.constructor(e,this.interface,this.signer||this.provider)}static isIndexed(e){return vt.isIndexed(e)}_normalizeRunningEvent(e){return this._runningEvents[e.tag]?this._runningEvents[e.tag]:e}_getRunningEvent(e){if("string"==typeof e){if("error"===e)return this._normalizeRunningEvent(new dr);if("event"===e)return this._normalizeRunningEvent(new fr("event",null));if("*"===e)return this._normalizeRunningEvent(new gr(this.address,this.interface));const t=this.interface.getEvent(e);return this._normalizeRunningEvent(new pr(this.address,this.interface,t))}if(e.topics&&e.topics.length>0){try{const t=e.topics[0];if("string"!=typeof t)throw new Error("invalid topic");const r=this.interface.getEvent(t);return this._normalizeRunningEvent(new pr(this.address,this.interface,r,e.topics))}catch(e){}const t={address:this.address,topics:e.topics};return this._normalizeRunningEvent(new fr(hr(t),t))}return this._normalizeRunningEvent(new gr(this.address,this.interface))}_checkRunningEvents(e){if(0===e.listenerCount()){delete this._runningEvents[e.tag];const t=this._wrappedEmits[e.tag];t&&e.filter&&(this.provider.off(e.filter,t),delete this._wrappedEmits[e.tag])}}_wrapEvent(e,t,r){const n=I(t);return n.removeListener=()=>{r&&(e.removeListener(r),this._checkRunningEvents(e))},n.getBlock=()=>this.provider.getBlock(t.blockHash),n.getTransaction=()=>this.provider.getTransaction(t.transactionHash),n.getTransactionReceipt=()=>this.provider.getTransactionReceipt(t.transactionHash),e.prepareEvent(n),n}_addEventListener(e,t,r){if(this.provider||nr.throwError("events require a provider or a signer with a provider",f.b.errors.UNSUPPORTED_OPERATION,{operation:"once"}),e.addListener(t,r),this._runningEvents[e.tag]=e,!this._wrappedEmits[e.tag]){const r=r=>{let n=this._wrapEvent(e,r,t);if(null==n.decodeError)try{const t=e.getEmit(n);this.emit(e.filter,...t)}catch(e){n.decodeError=e.error}null!=e.filter&&this.emit("event",n),null!=n.decodeError&&this.emit("error",n.decodeError,n)};this._wrappedEmits[e.tag]=r,null!=e.filter&&this.provider.on(e.filter,r)}}queryFilter(e,t,r){const n=this._getRunningEvent(e),i=k(n.filter);return"string"==typeof t&&Object(c.l)(t,32)?(null!=r&&nr.throwArgumentError("cannot specify toBlock with blockhash","toBlock",r),i.blockHash=t):(i.fromBlock=null!=t?t:0,i.toBlock=null!=r?r:"latest"),this.provider.getLogs(i).then(e=>e.map(e=>this._wrapEvent(n,e,null)))}on(e,t){return this._addEventListener(this._getRunningEvent(e),t,!1),this}once(e,t){return this._addEventListener(this._getRunningEvent(e),t,!0),this}emit(e,...t){if(!this.provider)return!1;const r=this._getRunningEvent(e),n=r.run(t)>0;return this._checkRunningEvents(r),n}listenerCount(e){return this.provider?null==e?Object.keys(this._runningEvents).reduce((e,t)=>e+this._runningEvents[t].listenerCount(),0):this._getRunningEvent(e).listenerCount():0}listeners(e){if(!this.provider)return[];if(null==e){const e=[];for(let t in this._runningEvents)this._runningEvents[t].listeners().forEach(t=>{e.push(t)});return e}return this._getRunningEvent(e).listeners()}removeAllListeners(e){if(!this.provider)return this;if(null==e){for(const e in this._runningEvents){const t=this._runningEvents[e];t.removeAllListeners(),this._checkRunningEvents(t)}return this}const t=this._getRunningEvent(e);return t.removeAllListeners(),this._checkRunningEvents(t),this}off(e,t){if(!this.provider)return this;const r=this._getRunningEvent(e);return r.removeListener(t),this._checkRunningEvents(r),this}removeListener(e,t){return this.off(e,t)}}class yr extends mr{}class vr{constructor(e,t,r){let n=null;n="string"==typeof t?t:Object(c.j)(t)?Object(c.i)(t):t&&"string"==typeof t.object?t.object:"!","0x"!==n.substring(0,2)&&(n="0x"+n),(!Object(c.l)(n)||n.length%2)&&nr.throwArgumentError("invalid bytecode","bytecode",t),r&&!Tt.isSigner(r)&&nr.throwArgumentError("invalid signer","signer",r),P(this,"bytecode",n),P(this,"interface",O(new.target,"getInterface")(e)),P(this,"signer",r||null)}getDeployTransaction(...e){let t={};if(e.length===this.interface.deploy.inputs.length+1&&"object"==typeof e[e.length-1]){t=k(e.pop());for(const e in t)if(!ir[e])throw new Error("unknown transaction override "+e)}if(["data","from","to"].forEach(e=>{null!=t[e]&&nr.throwError("cannot override "+e,f.b.errors.UNSUPPORTED_OPERATION,{operation:e})}),t.value){y.from(t.value).isZero()||this.interface.deploy.payable||nr.throwError("non-payable constructor cannot override value",f.b.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:t.value})}return nr.checkArgumentCount(e.length,this.interface.deploy.inputs.length," in Contract constructor"),t.data=Object(c.i)(Object(c.b)([this.bytecode,this.interface.encodeDeploy(e)])),t}deploy(...e){return rr(this,void 0,void 0,(function*(){let t={};e.length===this.interface.deploy.inputs.length+1&&(t=e.pop()),nr.checkArgumentCount(e.length,this.interface.deploy.inputs.length," in Contract constructor");const r=yield sr(this.signer,e,this.interface.deploy.inputs);r.push(t);const n=this.getDeployTransaction(...r),i=yield this.signer.sendTransaction(n),o=O(this.constructor,"getContractAddress")(i),s=O(this.constructor,"getContract")(o,this.interface,this.signer);return ur(s,i),P(s,"deployTransaction",i),s}))}attach(e){return this.constructor.getContract(e,this.interface,this.signer)}connect(e){return new this.constructor(this.interface,this.bytecode,e)}static fromSolidity(e,t){null==e&&nr.throwError("missing compiler output",f.b.errors.MISSING_ARGUMENT,{argument:"compilerOutput"}),"string"==typeof e&&(e=JSON.parse(e));const r=e.abi;let n=null;return e.bytecode?n=e.bytecode:e.evm&&e.evm.bytecode&&(n=e.evm.bytecode),new this(r,n,t)}static getInterface(e){return yr.getInterface(e)}static getContractAddress(e){return ne(e)}static getContract(e,t,r){return new yr(e,t,r)}}const br=new f.b("bignumber/5.6.0"),wr={},_r=y.from(0),Er=y.from(-1);function Ar(e,t,r,n){const i={fault:t,operation:r};return void 0!==n&&(i.value=n),br.throwError(e,f.b.errors.NUMERIC_FAULT,i)}let Pr="0";for(;Pr.length<256;)Pr+=Pr;function Or(e){if("number"!=typeof e)try{e=y.from(e).toNumber()}catch(e){}return"number"==typeof e&&e>=0&&e<=256&&!(e%1)?"1"+Pr.substring(0,e):br.throwArgumentError("invalid decimal size","decimals",e)}function Sr(e,t){null==t&&(t=0);const r=Or(t),n=(e=y.from(e)).lt(_r);n&&(e=e.mul(Er));let i=e.mod(r).toString();for(;i.length<r.length-1;)i="0"+i;i=i.match(/^([0-9]*[1-9]|0)(0*)/)[1];const o=e.div(r).toString();return e=1===r.length?o:o+"."+i,n&&(e="-"+e),e}function Cr(e,t){null==t&&(t=0);const r=Or(t);"string"==typeof e&&e.match(/^-?[0-9.]+$/)||br.throwArgumentError("invalid decimal value","value",e);const n="-"===e.substring(0,1);n&&(e=e.substring(1)),"."===e&&br.throwArgumentError("missing value","value",e);const i=e.split(".");i.length>2&&br.throwArgumentError("too many decimal points","value",e);let o=i[0],s=i[1];for(o||(o="0"),s||(s="0");"0"===s[s.length-1];)s=s.substring(0,s.length-1);for(s.length>r.length-1&&Ar("fractional component exceeds decimals","underflow","parseFixed"),""===s&&(s="0");s.length<r.length-1;)s+="0";const a=y.from(o),u=y.from(s);let c=a.mul(r).add(u);return n&&(c=c.mul(Er)),c}class kr{constructor(e,t,r,n){e!==wr&&br.throwError("cannot use FixedFormat constructor; use FixedFormat.from",f.b.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=t,this.width=r,this.decimals=n,this.name=(t?"":"u")+"fixed"+String(r)+"x"+String(n),this._multiplier=Or(n),Object.freeze(this)}static from(e){if(e instanceof kr)return e;"number"==typeof e&&(e="fixed128x"+e);let t=!0,r=128,n=18;if("string"==typeof e)if("fixed"===e);else if("ufixed"===e)t=!1;else{const i=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);i||br.throwArgumentError("invalid fixed format","format",e),t="u"!==i[1],r=parseInt(i[2]),n=parseInt(i[3])}else if(e){const i=(t,r,n)=>null==e[t]?n:(typeof e[t]!==r&&br.throwArgumentError("invalid fixed format ("+t+" not "+r+")","format."+t,e[t]),e[t]);t=i("signed","boolean",t),r=i("width","number",r),n=i("decimals","number",n)}return r%8&&br.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",r),n>80&&br.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",n),new kr(wr,t,r,n)}}class Nr{constructor(e,t,r,n){br.checkNew(new.target,Nr),e!==wr&&br.throwError("cannot use FixedNumber constructor; use FixedNumber.from",f.b.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=n,this._hex=t,this._value=r,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(e){this.format.name!==e.format.name&&br.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",e)}addUnsafe(e){this._checkFormat(e);const t=Cr(this._value,this.format.decimals),r=Cr(e._value,e.format.decimals);return Nr.fromValue(t.add(r),this.format.decimals,this.format)}subUnsafe(e){this._checkFormat(e);const t=Cr(this._value,this.format.decimals),r=Cr(e._value,e.format.decimals);return Nr.fromValue(t.sub(r),this.format.decimals,this.format)}mulUnsafe(e){this._checkFormat(e);const t=Cr(this._value,this.format.decimals),r=Cr(e._value,e.format.decimals);return Nr.fromValue(t.mul(r).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(e){this._checkFormat(e);const t=Cr(this._value,this.format.decimals),r=Cr(e._value,e.format.decimals);return Nr.fromValue(t.mul(this.format._multiplier).div(r),this.format.decimals,this.format)}floor(){const e=this.toString().split(".");1===e.length&&e.push("0");let t=Nr.from(e[0],this.format);const r=!e[1].match(/^(0*)$/);return this.isNegative()&&r&&(t=t.subUnsafe(Tr.toFormat(t.format))),t}ceiling(){const e=this.toString().split(".");1===e.length&&e.push("0");let t=Nr.from(e[0],this.format);const r=!e[1].match(/^(0*)$/);return!this.isNegative()&&r&&(t=t.addUnsafe(Tr.toFormat(t.format))),t}round(e){null==e&&(e=0);const t=this.toString().split(".");if(1===t.length&&t.push("0"),(e<0||e>80||e%1)&&br.throwArgumentError("invalid decimal count","decimals",e),t[1].length<=e)return this;const r=Nr.from("1"+Pr.substring(0,e),this.format),n=Ir.toFormat(this.format);return this.mulUnsafe(r).addUnsafe(n).floor().divUnsafe(r)}isZero(){return"0.0"===this._value||"0"===this._value}isNegative(){return"-"===this._value[0]}toString(){return this._value}toHexString(e){if(null==e)return this._hex;e%8&&br.throwArgumentError("invalid byte width","width",e);const t=y.from(this._hex).fromTwos(this.format.width).toTwos(e).toHexString();return Object(c.h)(t,e/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return Nr.fromString(this._value,e)}static fromValue(e,t,r){return null!=r||null==t||function(e){return null!=e&&(y.isBigNumber(e)||"number"==typeof e&&e%1==0||"string"==typeof e&&!!e.match(/^-?[0-9]+$/)||Object(c.l)(e)||"bigint"==typeof e||Object(c.j)(e))}(t)||(r=t,t=null),null==t&&(t=0),null==r&&(r="fixed"),Nr.fromString(Sr(e,t),kr.from(r))}static fromString(e,t){null==t&&(t="fixed");const r=kr.from(t),n=Cr(e,r.decimals);!r.signed&&n.lt(_r)&&Ar("unsigned value cannot be negative","overflow","value",e);let i=null;r.signed?i=n.toTwos(r.width).toHexString():(i=n.toHexString(),i=Object(c.h)(i,r.width/8));const o=Sr(n,r.decimals);return new Nr(wr,i,o,r)}static fromBytes(e,t){null==t&&(t="fixed");const r=kr.from(t);if(Object(c.a)(e).length>r.width/8)throw new Error("overflow");let n=y.from(e);r.signed&&(n=n.fromTwos(r.width));const i=n.toTwos((r.signed?0:1)+r.width).toHexString(),o=Sr(n,r.decimals);return new Nr(wr,i,o,r)}static from(e,t){if("string"==typeof e)return Nr.fromString(e,t);if(Object(c.j)(e))return Nr.fromBytes(e,t);try{return Nr.fromValue(e,0,t)}catch(e){if(e.code!==f.b.errors.INVALID_ARGUMENT)throw e}return br.throwArgumentError("invalid FixedNumber value","value",e)}static isFixedNumber(e){return!(!e||!e._isFixedNumber)}}const Tr=Nr.from(1),Ir=Nr.from("0.5");function Rr(e){return"string"==typeof e&&(e=he(e)),U(Object(c.b)([he("Ethereum Signed Message:\n"),he(String(e.length)),e]))}var xr=function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))};const Mr=new f.b("hash/5.6.0"),jr=new Uint8Array(32);jr.fill(0);const Dr=y.from(-1),Br=y.from(0),Lr=y.from(1),Fr=y.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");const Ur=Object(c.h)(Lr.toHexString(),32),qr=Object(c.h)(Br.toHexString(),32),Wr={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},Gr=["name","version","chainId","verifyingContract","salt"];function Hr(e){return function(t){return"string"!=typeof t&&Mr.throwArgumentError("invalid domain value for "+JSON.stringify(e),"domain."+e,t),t}}const Kr={name:Hr("name"),version:Hr("version"),chainId:function(e){try{return y.from(e).toString()}catch(e){}return Mr.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",e)},verifyingContract:function(e){try{return ee(e).toLowerCase()}catch(e){}return Mr.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",e)},salt:function(e){try{const t=Object(c.a)(e);if(32!==t.length)throw new Error("bad length");return Object(c.i)(t)}catch(e){}return Mr.throwArgumentError('invalid domain value "salt"',"domain.salt",e)}};function zr(e){{const t=e.match(/^(u?)int(\d*)$/);if(t){const r=""===t[1],n=parseInt(t[2]||"256");(n%8!=0||n>256||t[2]&&t[2]!==String(n))&&Mr.throwArgumentError("invalid numeric width","type",e);const i=Fr.mask(r?n-1:n),o=r?i.add(Lr).mul(Dr):Br;return function(t){const r=y.from(t);return(r.lt(o)||r.gt(i))&&Mr.throwArgumentError("value out-of-bounds for "+e,"value",t),Object(c.h)(r.toTwos(256).toHexString(),32)}}}{const t=e.match(/^bytes(\d+)$/);if(t){const r=parseInt(t[1]);return(0===r||r>32||t[1]!==String(r))&&Mr.throwArgumentError("invalid bytes width","type",e),function(t){return Object(c.a)(t).length!==r&&Mr.throwArgumentError("invalid length for "+e,"value",t),function(e){const t=Object(c.a)(e),r=t.length%32;return r?Object(c.c)([t,jr.slice(r)]):Object(c.i)(t)}(t)}}}switch(e){case"address":return function(e){return Object(c.h)(ee(e),32)};case"bool":return function(e){return e?Ur:qr};case"bytes":return function(e){return U(e)};case"string":return function(e){return ye(e)}}return null}function Vr(e,t){return`${e}(${t.map(({name:e,type:t})=>t+" "+e).join(",")})`}class Jr{constructor(e){P(this,"types",Object.freeze(I(e))),P(this,"_encoderCache",{}),P(this,"_types",{});const t={},r={},n={};Object.keys(e).forEach(e=>{t[e]={},r[e]=[],n[e]={}});for(const n in e){const i={};e[n].forEach(o=>{i[o.name]&&Mr.throwArgumentError(`duplicate variable name ${JSON.stringify(o.name)} in ${JSON.stringify(n)}`,"types",e),i[o.name]=!0;const s=o.type.match(/^([^\x5b]*)(\x5b|$)/)[1];s===n&&Mr.throwArgumentError("circular type reference to "+JSON.stringify(s),"types",e);zr(s)||(r[s]||Mr.throwArgumentError("unknown type "+JSON.stringify(s),"types",e),r[s].push(n),t[n][s]=!0)})}const i=Object.keys(r).filter(e=>0===r[e].length);0===i.length?Mr.throwArgumentError("missing primary type","types",e):i.length>1&&Mr.throwArgumentError("ambiguous primary types or unused types: "+i.map(e=>JSON.stringify(e)).join(", "),"types",e),P(this,"primaryType",i[0]),function i(o,s){s[o]&&Mr.throwArgumentError("circular type reference to "+JSON.stringify(o),"types",e),s[o]=!0,Object.keys(t[o]).forEach(e=>{r[e]&&(i(e,s),Object.keys(s).forEach(t=>{n[t][e]=!0}))}),delete s[o]}(this.primaryType,{});for(const t in n){const r=Object.keys(n[t]);r.sort(),this._types[t]=Vr(t,e[t])+r.map(t=>Vr(t,e[t])).join("")}}getEncoder(e){let t=this._encoderCache[e];return t||(t=this._encoderCache[e]=this._getEncoder(e)),t}_getEncoder(e){{const t=zr(e);if(t)return t}const t=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(t){const e=t[1],r=this.getEncoder(e),n=parseInt(t[3]);return t=>{n>=0&&t.length!==n&&Mr.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",t);let i=t.map(r);return this._types[e]&&(i=i.map(U)),U(Object(c.c)(i))}}const r=this.types[e];if(r){const t=ye(this._types[e]);return e=>{const n=r.map(({name:t,type:r})=>{const n=this.getEncoder(r)(e[t]);return this._types[r]?U(n):n});return n.unshift(t),Object(c.c)(n)}}return Mr.throwArgumentError("unknown type: "+e,"type",e)}encodeType(e){const t=this._types[e];return t||Mr.throwArgumentError("unknown type: "+JSON.stringify(e),"name",e),t}encodeData(e,t){return this.getEncoder(e)(t)}hashStruct(e,t){return U(this.encodeData(e,t))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,t,r){if(zr(e))return r(e,t);const n=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(n){const e=n[1],i=parseInt(n[3]);return i>=0&&t.length!==i&&Mr.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",t),t.map(t=>this._visit(e,t,r))}const i=this.types[e];return i?i.reduce((e,{name:n,type:i})=>(e[n]=this._visit(i,t[n],r),e),{}):Mr.throwArgumentError("unknown type: "+e,"type",e)}visit(e,t){return this._visit(this.primaryType,e,t)}static from(e){return new Jr(e)}static getPrimaryType(e){return Jr.from(e).primaryType}static hashStruct(e,t,r){return Jr.from(t).hashStruct(e,r)}static hashDomain(e){const t=[];for(const r in e){const n=Wr[r];n||Mr.throwArgumentError("invalid typed-data domain key: "+JSON.stringify(r),"domain",e),t.push({name:r,type:n})}return t.sort((e,t)=>Gr.indexOf(e.name)-Gr.indexOf(t.name)),Jr.hashStruct("EIP712Domain",{EIP712Domain:t},e)}static encode(e,t,r){return Object(c.c)(["0x1901",Jr.hashDomain(e),Jr.from(t).hash(r)])}static hash(e,t,r){return U(Jr.encode(e,t,r))}static resolveNames(e,t,r,n){return xr(this,void 0,void 0,(function*(){e=k(e);const i={};e.verifyingContract&&!Object(c.l)(e.verifyingContract,20)&&(i[e.verifyingContract]="0x");const o=Jr.from(t);o.visit(r,(e,t)=>("address"!==e||Object(c.l)(t,20)||(i[t]="0x"),t));for(const e in i)i[e]=yield n(e);return e.verifyingContract&&i[e.verifyingContract]&&(e.verifyingContract=i[e.verifyingContract]),r=o.visit(r,(e,t)=>"address"===e&&i[t]?i[t]:t),{domain:e,value:r}}))}static getPayload(e,t,r){Jr.hashDomain(e);const n={},i=[];Gr.forEach(t=>{const r=e[t];null!=r&&(n[t]=Kr[t](r),i.push({name:t,type:Wr[t]}))});const o=Jr.from(t),s=k(t);return s.EIP712Domain?Mr.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",t):s.EIP712Domain=i,o.encode(r),{types:s,domain:n,primaryType:o.primaryType,message:o.visit(r,(e,t)=>{if(e.match(/^bytes(\d*)/))return Object(c.i)(Object(c.a)(t));if(e.match(/^u?int/))return y.from(t).toString();switch(e){case"address":return t.toLowerCase();case"bool":return!!t;case"string":return"string"!=typeof t&&Mr.throwArgumentError("invalid string","value",t),t}return Mr.throwArgumentError("unsupported type","type",e)})}}}class $r{constructor(e){P(this,"alphabet",e),P(this,"base",e.length),P(this,"_alphabetMap",{}),P(this,"_leader",e.charAt(0));for(let t=0;t<e.length;t++)this._alphabetMap[e.charAt(t)]=t}encode(e){let t=Object(c.a)(e);if(0===t.length)return"";let r=[0];for(let e=0;e<t.length;++e){let n=t[e];for(let e=0;e<r.length;++e)n+=r[e]<<8,r[e]=n%this.base,n=n/this.base|0;for(;n>0;)r.push(n%this.base),n=n/this.base|0}let n="";for(let e=0;0===t[e]&&e<t.length-1;++e)n+=this._leader;for(let e=r.length-1;e>=0;--e)n+=this.alphabet[r[e]];return n}decode(e){if("string"!=typeof e)throw new TypeError("Expected String");let t=[];if(0===e.length)return new Uint8Array(t);t.push(0);for(let r=0;r<e.length;r++){let n=this._alphabetMap[e[r]];if(void 0===n)throw new Error("Non-base"+this.base+" character");let i=n;for(let e=0;e<t.length;++e)i+=t[e]*this.base,t[e]=255&i,i>>=8;for(;i>0;)t.push(255&i),i>>=8}for(let r=0;e[r]===this._leader&&r<e.length-1;++r)t.push(0);return Object(c.a)(new Uint8Array(t.reverse()))}}new $r("abcdefghijklmnopqrstuvwxyz234567");const Yr=new $r("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");var Qr,Xr=r(6),Zr=r.n(Xr);!function(e){e.sha256="sha256",e.sha512="sha512"}(Qr||(Qr={}));const en=new f.b("sha2/5.6.0");function tn(e){return"0x"+Zr.a.ripemd160().update(Object(c.a)(e)).digest("hex")}function rn(e){return"0x"+Zr.a.sha256().update(Object(c.a)(e)).digest("hex")}function nn(e){return"0x"+Zr.a.sha512().update(Object(c.a)(e)).digest("hex")}function on(e,t,r){return Qr[e]||en.throwError("unsupported algorithm "+e,f.b.errors.UNSUPPORTED_OPERATION,{operation:"hmac",algorithm:e}),"0x"+Zr.a.hmac(Zr.a[e],Object(c.a)(t)).update(Object(c.a)(r)).digest("hex")}function sn(e,t,r,n,i){let o;e=Object(c.a)(e),t=Object(c.a)(t);let s=1;const a=new Uint8Array(n),u=new Uint8Array(t.length+4);let l,h;u.set(t);for(let f=1;f<=s;f++){u[t.length]=f>>24&255,u[t.length+1]=f>>16&255,u[t.length+2]=f>>8&255,u[t.length+3]=255&f;let d=Object(c.a)(on(i,e,u));o||(o=d.length,h=new Uint8Array(o),s=Math.ceil(n/o),l=n-(s-1)*o),h.set(d);for(let t=1;t<r;t++){d=Object(c.a)(on(i,e,d));for(let e=0;e<o;e++)h[e]^=d[e]}const p=(f-1)*o,g=f===s?l:o;a.set(Object(c.a)(h).slice(0,g),p)}return Object(c.i)(a)}const an=new f.b("wordlists/5.6.0");class un{constructor(e){an.checkAbstract(new.target,un),P(this,"locale",e)}split(e){return e.toLowerCase().split(/ +/g)}join(e){return e.join(" ")}static check(e){const t=[];for(let r=0;r<2048;r++){const n=e.getWord(r);if(r!==e.getWordIndex(n))return"0x";t.push(n)}return ye(t.join("\n")+"\n")}static register(e,t){t||(t=e.locale)}}let cn=null;function ln(e){if(null==cn&&(cn="AbandonAbilityAbleAboutAboveAbsentAbsorbAbstractAbsurdAbuseAccessAccidentAccountAccuseAchieveAcidAcousticAcquireAcrossActActionActorActressActualAdaptAddAddictAddressAdjustAdmitAdultAdvanceAdviceAerobicAffairAffordAfraidAgainAgeAgentAgreeAheadAimAirAirportAisleAlarmAlbumAlcoholAlertAlienAllAlleyAllowAlmostAloneAlphaAlreadyAlsoAlterAlwaysAmateurAmazingAmongAmountAmusedAnalystAnchorAncientAngerAngleAngryAnimalAnkleAnnounceAnnualAnotherAnswerAntennaAntiqueAnxietyAnyApartApologyAppearAppleApproveAprilArchArcticAreaArenaArgueArmArmedArmorArmyAroundArrangeArrestArriveArrowArtArtefactArtistArtworkAskAspectAssaultAssetAssistAssumeAsthmaAthleteAtomAttackAttendAttitudeAttractAuctionAuditAugustAuntAuthorAutoAutumnAverageAvocadoAvoidAwakeAwareAwayAwesomeAwfulAwkwardAxisBabyBachelorBaconBadgeBagBalanceBalconyBallBambooBananaBannerBarBarelyBargainBarrelBaseBasicBasketBattleBeachBeanBeautyBecauseBecomeBeefBeforeBeginBehaveBehindBelieveBelowBeltBenchBenefitBestBetrayBetterBetweenBeyondBicycleBidBikeBindBiologyBirdBirthBitterBlackBladeBlameBlanketBlastBleakBlessBlindBloodBlossomBlouseBlueBlurBlushBoardBoatBodyBoilBombBoneBonusBookBoostBorderBoringBorrowBossBottomBounceBoxBoyBracketBrainBrandBrassBraveBreadBreezeBrickBridgeBriefBrightBringBriskBroccoliBrokenBronzeBroomBrotherBrownBrushBubbleBuddyBudgetBuffaloBuildBulbBulkBulletBundleBunkerBurdenBurgerBurstBusBusinessBusyButterBuyerBuzzCabbageCabinCableCactusCageCakeCallCalmCameraCampCanCanalCancelCandyCannonCanoeCanvasCanyonCapableCapitalCaptainCarCarbonCardCargoCarpetCarryCartCaseCashCasinoCastleCasualCatCatalogCatchCategoryCattleCaughtCauseCautionCaveCeilingCeleryCementCensusCenturyCerealCertainChairChalkChampionChangeChaosChapterChargeChaseChatCheapCheckCheeseChefCherryChestChickenChiefChildChimneyChoiceChooseChronicChuckleChunkChurnCigarCinnamonCircleCitizenCityCivilClaimClapClarifyClawClayCleanClerkCleverClickClientCliffClimbClinicClipClockClogCloseClothCloudClownClubClumpClusterClutchCoachCoastCoconutCodeCoffeeCoilCoinCollectColorColumnCombineComeComfortComicCommonCompanyConcertConductConfirmCongressConnectConsiderControlConvinceCookCoolCopperCopyCoralCoreCornCorrectCostCottonCouchCountryCoupleCourseCousinCoverCoyoteCrackCradleCraftCramCraneCrashCraterCrawlCrazyCreamCreditCreekCrewCricketCrimeCrispCriticCropCrossCrouchCrowdCrucialCruelCruiseCrumbleCrunchCrushCryCrystalCubeCultureCupCupboardCuriousCurrentCurtainCurveCushionCustomCuteCycleDadDamageDampDanceDangerDaringDashDaughterDawnDayDealDebateDebrisDecadeDecemberDecideDeclineDecorateDecreaseDeerDefenseDefineDefyDegreeDelayDeliverDemandDemiseDenialDentistDenyDepartDependDepositDepthDeputyDeriveDescribeDesertDesignDeskDespairDestroyDetailDetectDevelopDeviceDevoteDiagramDialDiamondDiaryDiceDieselDietDifferDigitalDignityDilemmaDinnerDinosaurDirectDirtDisagreeDiscoverDiseaseDishDismissDisorderDisplayDistanceDivertDivideDivorceDizzyDoctorDocumentDogDollDolphinDomainDonateDonkeyDonorDoorDoseDoubleDoveDraftDragonDramaDrasticDrawDreamDressDriftDrillDrinkDripDriveDropDrumDryDuckDumbDuneDuringDustDutchDutyDwarfDynamicEagerEagleEarlyEarnEarthEasilyEastEasyEchoEcologyEconomyEdgeEditEducateEffortEggEightEitherElbowElderElectricElegantElementElephantElevatorEliteElseEmbarkEmbodyEmbraceEmergeEmotionEmployEmpowerEmptyEnableEnactEndEndlessEndorseEnemyEnergyEnforceEngageEngineEnhanceEnjoyEnlistEnoughEnrichEnrollEnsureEnterEntireEntryEnvelopeEpisodeEqualEquipEraEraseErodeErosionErrorEruptEscapeEssayEssenceEstateEternalEthicsEvidenceEvilEvokeEvolveExactExampleExcessExchangeExciteExcludeExcuseExecuteExerciseExhaustExhibitExileExistExitExoticExpandExpectExpireExplainExposeExpressExtendExtraEyeEyebrowFabricFaceFacultyFadeFaintFaithFallFalseFameFamilyFamousFanFancyFantasyFarmFashionFatFatalFatherFatigueFaultFavoriteFeatureFebruaryFederalFeeFeedFeelFemaleFenceFestivalFetchFeverFewFiberFictionFieldFigureFileFilmFilterFinalFindFineFingerFinishFireFirmFirstFiscalFishFitFitnessFixFlagFlameFlashFlatFlavorFleeFlightFlipFloatFlockFloorFlowerFluidFlushFlyFoamFocusFogFoilFoldFollowFoodFootForceForestForgetForkFortuneForumForwardFossilFosterFoundFoxFragileFrameFrequentFreshFriendFringeFrogFrontFrostFrownFrozenFruitFuelFunFunnyFurnaceFuryFutureGadgetGainGalaxyGalleryGameGapGarageGarbageGardenGarlicGarmentGasGaspGateGatherGaugeGazeGeneralGeniusGenreGentleGenuineGestureGhostGiantGiftGiggleGingerGiraffeGirlGiveGladGlanceGlareGlassGlideGlimpseGlobeGloomGloryGloveGlowGlueGoatGoddessGoldGoodGooseGorillaGospelGossipGovernGownGrabGraceGrainGrantGrapeGrassGravityGreatGreenGridGriefGritGroceryGroupGrowGruntGuardGuessGuideGuiltGuitarGunGymHabitHairHalfHammerHamsterHandHappyHarborHardHarshHarvestHatHaveHawkHazardHeadHealthHeartHeavyHedgehogHeightHelloHelmetHelpHenHeroHiddenHighHillHintHipHireHistoryHobbyHockeyHoldHoleHolidayHollowHomeHoneyHoodHopeHornHorrorHorseHospitalHostHotelHourHoverHubHugeHumanHumbleHumorHundredHungryHuntHurdleHurryHurtHusbandHybridIceIconIdeaIdentifyIdleIgnoreIllIllegalIllnessImageImitateImmenseImmuneImpactImposeImproveImpulseInchIncludeIncomeIncreaseIndexIndicateIndoorIndustryInfantInflictInformInhaleInheritInitialInjectInjuryInmateInnerInnocentInputInquiryInsaneInsectInsideInspireInstallIntactInterestIntoInvestInviteInvolveIronIslandIsolateIssueItemIvoryJacketJaguarJarJazzJealousJeansJellyJewelJobJoinJokeJourneyJoyJudgeJuiceJumpJungleJuniorJunkJustKangarooKeenKeepKetchupKeyKickKidKidneyKindKingdomKissKitKitchenKiteKittenKiwiKneeKnifeKnockKnowLabLabelLaborLadderLadyLakeLampLanguageLaptopLargeLaterLatinLaughLaundryLavaLawLawnLawsuitLayerLazyLeaderLeafLearnLeaveLectureLeftLegLegalLegendLeisureLemonLendLengthLensLeopardLessonLetterLevelLiarLibertyLibraryLicenseLifeLiftLightLikeLimbLimitLinkLionLiquidListLittleLiveLizardLoadLoanLobsterLocalLockLogicLonelyLongLoopLotteryLoudLoungeLoveLoyalLuckyLuggageLumberLunarLunchLuxuryLyricsMachineMadMagicMagnetMaidMailMainMajorMakeMammalManManageMandateMangoMansionManualMapleMarbleMarchMarginMarineMarketMarriageMaskMassMasterMatchMaterialMathMatrixMatterMaximumMazeMeadowMeanMeasureMeatMechanicMedalMediaMelodyMeltMemberMemoryMentionMenuMercyMergeMeritMerryMeshMessageMetalMethodMiddleMidnightMilkMillionMimicMindMinimumMinorMinuteMiracleMirrorMiseryMissMistakeMixMixedMixtureMobileModelModifyMomMomentMonitorMonkeyMonsterMonthMoonMoralMoreMorningMosquitoMotherMotionMotorMountainMouseMoveMovieMuchMuffinMuleMultiplyMuscleMuseumMushroomMusicMustMutualMyselfMysteryMythNaiveNameNapkinNarrowNastyNationNatureNearNeckNeedNegativeNeglectNeitherNephewNerveNestNetNetworkNeutralNeverNewsNextNiceNightNobleNoiseNomineeNoodleNormalNorthNoseNotableNoteNothingNoticeNovelNowNuclearNumberNurseNutOakObeyObjectObligeObscureObserveObtainObviousOccurOceanOctoberOdorOffOfferOfficeOftenOilOkayOldOliveOlympicOmitOnceOneOnionOnlineOnlyOpenOperaOpinionOpposeOptionOrangeOrbitOrchardOrderOrdinaryOrganOrientOriginalOrphanOstrichOtherOutdoorOuterOutputOutsideOvalOvenOverOwnOwnerOxygenOysterOzonePactPaddlePagePairPalacePalmPandaPanelPanicPantherPaperParadeParentParkParrotPartyPassPatchPathPatientPatrolPatternPausePavePaymentPeacePeanutPearPeasantPelicanPenPenaltyPencilPeoplePepperPerfectPermitPersonPetPhonePhotoPhrasePhysicalPianoPicnicPicturePiecePigPigeonPillPilotPinkPioneerPipePistolPitchPizzaPlacePlanetPlasticPlatePlayPleasePledgePluckPlugPlungePoemPoetPointPolarPolePolicePondPonyPoolPopularPortionPositionPossiblePostPotatoPotteryPovertyPowderPowerPracticePraisePredictPreferPreparePresentPrettyPreventPricePridePrimaryPrintPriorityPrisonPrivatePrizeProblemProcessProduceProfitProgramProjectPromoteProofPropertyProsperProtectProudProvidePublicPuddingPullPulpPulsePumpkinPunchPupilPuppyPurchasePurityPurposePursePushPutPuzzlePyramidQualityQuantumQuarterQuestionQuickQuitQuizQuoteRabbitRaccoonRaceRackRadarRadioRailRainRaiseRallyRampRanchRandomRangeRapidRareRateRatherRavenRawRazorReadyRealReasonRebelRebuildRecallReceiveRecipeRecordRecycleReduceReflectReformRefuseRegionRegretRegularRejectRelaxReleaseReliefRelyRemainRememberRemindRemoveRenderRenewRentReopenRepairRepeatReplaceReportRequireRescueResembleResistResourceResponseResultRetireRetreatReturnReunionRevealReviewRewardRhythmRibRibbonRiceRichRideRidgeRifleRightRigidRingRiotRippleRiskRitualRivalRiverRoadRoastRobotRobustRocketRomanceRoofRookieRoomRoseRotateRoughRoundRouteRoyalRubberRudeRugRuleRunRunwayRuralSadSaddleSadnessSafeSailSaladSalmonSalonSaltSaluteSameSampleSandSatisfySatoshiSauceSausageSaveSayScaleScanScareScatterSceneSchemeSchoolScienceScissorsScorpionScoutScrapScreenScriptScrubSeaSearchSeasonSeatSecondSecretSectionSecuritySeedSeekSegmentSelectSellSeminarSeniorSenseSentenceSeriesServiceSessionSettleSetupSevenShadowShaftShallowShareShedShellSheriffShieldShiftShineShipShiverShockShoeShootShopShortShoulderShoveShrimpShrugShuffleShySiblingSickSideSiegeSightSignSilentSilkSillySilverSimilarSimpleSinceSingSirenSisterSituateSixSizeSkateSketchSkiSkillSkinSkirtSkullSlabSlamSleepSlenderSliceSlideSlightSlimSloganSlotSlowSlushSmallSmartSmileSmokeSmoothSnackSnakeSnapSniffSnowSoapSoccerSocialSockSodaSoftSolarSoldierSolidSolutionSolveSomeoneSongSoonSorrySortSoulSoundSoupSourceSouthSpaceSpareSpatialSpawnSpeakSpecialSpeedSpellSpendSphereSpiceSpiderSpikeSpinSpiritSplitSpoilSponsorSpoonSportSpotSpraySpreadSpringSpySquareSqueezeSquirrelStableStadiumStaffStageStairsStampStandStartStateStaySteakSteelStemStepStereoStickStillStingStockStomachStoneStoolStoryStoveStrategyStreetStrikeStrongStruggleStudentStuffStumbleStyleSubjectSubmitSubwaySuccessSuchSuddenSufferSugarSuggestSuitSummerSunSunnySunsetSuperSupplySupremeSureSurfaceSurgeSurpriseSurroundSurveySuspectSustainSwallowSwampSwapSwarmSwearSweetSwiftSwimSwingSwitchSwordSymbolSymptomSyrupSystemTableTackleTagTailTalentTalkTankTapeTargetTaskTasteTattooTaxiTeachTeamTellTenTenantTennisTentTermTestTextThankThatThemeThenTheoryThereTheyThingThisThoughtThreeThriveThrowThumbThunderTicketTideTigerTiltTimberTimeTinyTipTiredTissueTitleToastTobaccoTodayToddlerToeTogetherToiletTokenTomatoTomorrowToneTongueTonightToolToothTopTopicToppleTorchTornadoTortoiseTossTotalTouristTowardTowerTownToyTrackTradeTrafficTragicTrainTransferTrapTrashTravelTrayTreatTreeTrendTrialTribeTrickTriggerTrimTripTrophyTroubleTruckTrueTrulyTrumpetTrustTruthTryTubeTuitionTumbleTunaTunnelTurkeyTurnTurtleTwelveTwentyTwiceTwinTwistTwoTypeTypicalUglyUmbrellaUnableUnawareUncleUncoverUnderUndoUnfairUnfoldUnhappyUniformUniqueUnitUniverseUnknownUnlockUntilUnusualUnveilUpdateUpgradeUpholdUponUpperUpsetUrbanUrgeUsageUseUsedUsefulUselessUsualUtilityVacantVacuumVagueValidValleyValveVanVanishVaporVariousVastVaultVehicleVelvetVendorVentureVenueVerbVerifyVersionVeryVesselVeteranViableVibrantViciousVictoryVideoViewVillageVintageViolinVirtualVirusVisaVisitVisualVitalVividVocalVoiceVoidVolcanoVolumeVoteVoyageWageWagonWaitWalkWallWalnutWantWarfareWarmWarriorWashWaspWasteWaterWaveWayWealthWeaponWearWeaselWeatherWebWeddingWeekendWeirdWelcomeWestWetWhaleWhatWheatWheelWhenWhereWhipWhisperWideWidthWifeWildWillWinWindowWineWingWinkWinnerWinterWireWisdomWiseWishWitnessWolfWomanWonderWoodWoolWordWorkWorldWorryWorthWrapWreckWrestleWristWriteWrongYardYearYellowYouYoungYouthZebraZeroZoneZoo".replace(/([A-Z])/g," $1").toLowerCase().substring(1).split(" "),"0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60"!==un.check(e)))throw cn=null,new Error("BIP39 Wordlist for en (English) FAILED")}const hn=new class extends un{constructor(){super("en")}getWord(e){return ln(this),cn[e]}getWordIndex(e){return ln(this),cn.indexOf(e)}};un.register(hn);const fn={en:hn},dn=new f.b("hdnode/5.6.0"),pn=y.from("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),gn=he("Bitcoin seed");function mn(e){return(1<<e)-1<<8-e}function yn(e){return Object(c.h)(Object(c.i)(e),32)}function vn(e){return Yr.encode(Object(c.b)([e,Object(c.e)(rn(rn(e)),0,4)]))}function bn(e){if(null==e)return fn.en;if("string"==typeof e){const t=fn[e];return null==t&&dn.throwArgumentError("unknown locale","wordlist",e),t}return e}const wn={},_n="m/44'/60'/0'/0/0";class En{constructor(e,t,r,n,i,o,s,a){if(dn.checkNew(new.target,En),e!==wn)throw new Error("HDNode constructor cannot be called directly");if(t){const e=new Dt(t);P(this,"privateKey",e.privateKey),P(this,"publicKey",e.compressedPublicKey)}else P(this,"privateKey",null),P(this,"publicKey",Object(c.i)(r));P(this,"parentFingerprint",n),P(this,"fingerprint",Object(c.e)(tn(rn(this.publicKey)),0,4)),P(this,"address",Kt(this.publicKey)),P(this,"chainCode",i),P(this,"index",o),P(this,"depth",s),null==a?(P(this,"mnemonic",null),P(this,"path",null)):"string"==typeof a?(P(this,"mnemonic",null),P(this,"path",a)):(P(this,"mnemonic",a),P(this,"path",a.path))}get extendedKey(){if(this.depth>=256)throw new Error("Depth too large!");return vn(Object(c.b)([null!=this.privateKey?"0x0488ADE4":"0x0488B21E",Object(c.i)(this.depth),this.parentFingerprint,Object(c.h)(Object(c.i)(this.index),4),this.chainCode,null!=this.privateKey?Object(c.b)(["0x00",this.privateKey]):this.publicKey]))}neuter(){return new En(wn,null,this.publicKey,this.parentFingerprint,this.chainCode,this.index,this.depth,this.path)}_derive(e){if(e>4294967295)throw new Error("invalid index - "+String(e));let t=this.path;t&&(t+="/"+(2147483647&e));const r=new Uint8Array(37);if(2147483648&e){if(!this.privateKey)throw new Error("cannot derive child of neutered node");r.set(Object(c.a)(this.privateKey),1),t&&(t+="'")}else r.set(Object(c.a)(this.publicKey));for(let t=24;t>=0;t-=8)r[33+(t>>3)]=e>>24-t&255;const n=Object(c.a)(on(Qr.sha512,this.chainCode,r)),i=n.slice(0,32),o=n.slice(32);let s=null,a=null;if(this.privateKey)s=yn(y.from(i).add(this.privateKey).mod(pn));else{a=new Dt(Object(c.i)(i))._addPoint(this.publicKey)}let u=t;const l=this.mnemonic;return l&&(u=Object.freeze({phrase:l.phrase,path:t,locale:l.locale||"en"})),new En(wn,s,a,this.fingerprint,yn(o),e,this.depth+1,u)}derivePath(e){const t=e.split("/");if(0===t.length||"m"===t[0]&&0!==this.depth)throw new Error("invalid path - "+e);"m"===t[0]&&t.shift();let r=this;for(let e=0;e<t.length;e++){const n=t[e];if(n.match(/^[0-9]+'$/)){const e=parseInt(n.substring(0,n.length-1));if(e>=2147483648)throw new Error("invalid path index - "+n);r=r._derive(2147483648+e)}else{if(!n.match(/^[0-9]+$/))throw new Error("invalid path component - "+n);{const e=parseInt(n);if(e>=2147483648)throw new Error("invalid path index - "+n);r=r._derive(e)}}}return r}static _fromSeed(e,t){const r=Object(c.a)(e);if(r.length<16||r.length>64)throw new Error("invalid seed");const n=Object(c.a)(on(Qr.sha512,gn,r));return new En(wn,yn(n.slice(0,32)),null,"0x00000000",yn(n.slice(32)),0,0,t)}static fromMnemonic(e,t,r){return e=On(Pn(e,r=bn(r)),r),En._fromSeed(An(e,t),{phrase:e,path:"m",locale:r.locale})}static fromSeed(e){return En._fromSeed(e,null)}static fromExtendedKey(e){const t=Yr.decode(e);82===t.length&&vn(t.slice(0,78))===e||dn.throwArgumentError("invalid extended key","extendedKey","[REDACTED]");const r=t[4],n=Object(c.i)(t.slice(5,9)),i=parseInt(Object(c.i)(t.slice(9,13)).substring(2),16),o=Object(c.i)(t.slice(13,45)),s=t.slice(45,78);switch(Object(c.i)(t.slice(0,4))){case"0x0488b21e":case"0x043587cf":return new En(wn,null,Object(c.i)(s),n,o,i,r,null);case"0x0488ade4":case"0x04358394 ":if(0!==s[0])break;return new En(wn,Object(c.i)(s.slice(1)),null,n,o,i,r,null)}return dn.throwArgumentError("invalid extended key","extendedKey","[REDACTED]")}}function An(e,t){t||(t="");const r=he("mnemonic"+t,se.NFKD);return sn(he(e,se.NFKD),r,2048,64,"sha512")}function Pn(e,t){t=bn(t),dn.checkNormalize();const r=t.split(e);if(r.length%3!=0)throw new Error("invalid mnemonic");const n=Object(c.a)(new Uint8Array(Math.ceil(11*r.length/8)));let i=0;for(let e=0;e<r.length;e++){let o=t.getWordIndex(r[e].normalize("NFKD"));if(-1===o)throw new Error("invalid mnemonic");for(let e=0;e<11;e++)o&1<<10-e&&(n[i>>3]|=1<<7-i%8),i++}const o=32*r.length/3,s=mn(r.length/3);if((Object(c.a)(rn(n.slice(0,o/8)))[0]&s)!==(n[n.length-1]&s))throw new Error("invalid checksum");return Object(c.i)(n.slice(0,o/8))}function On(e,t){if(t=bn(t),(e=Object(c.a)(e)).length%4!=0||e.length<16||e.length>32)throw new Error("invalid entropy");const r=[0];let n=11;for(let t=0;t<e.length;t++)n>8?(r[r.length-1]<<=8,r[r.length-1]|=e[t],n-=8):(r[r.length-1]<<=n,r[r.length-1]|=e[t]>>8-n,r.push(e[t]&(1<<8-n)-1),n+=3);const i=e.length/4,o=Object(c.a)(rn(e))[0]&mn(i);return r[r.length-1]<<=i,r[r.length-1]|=o>>8-i,t.join(r.map(e=>t.getWord(e)))}function Sn(e,t){try{return Pn(e,t),!0}catch(e){}return!1}function Cn(e){return("number"!=typeof e||e<0||e>=2147483648||e%1)&&dn.throwArgumentError("invalid account index","index",e),`m/44'/60'/${e}'/0/0`}var kn=r(200),Nn=r(11),Tn=r.n(Nn),In=r(45),Rn=r.n(In);function xn(e){return"string"==typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),Object(c.a)(e)}function Mn(e,t){for(e=String(e);e.length<t;)e="0"+e;return e}function jn(e){return"string"==typeof e?he(e,se.NFKC):Object(c.a)(e)}function Dn(e,t){let r=e;const n=t.toLowerCase().split("/");for(let e=0;e<n.length;e++){let t=null;for(const i in r)if(i.toLowerCase()===n[e]){t=r[i];break}if(null===t)return null;r=t}return r}function Bn(e){const t=Object(c.a)(e);t[6]=15&t[6]|64,t[8]=63&t[8]|128;const r=Object(c.i)(t);return[r.substring(2,10),r.substring(10,14),r.substring(14,18),r.substring(18,22),r.substring(22,34)].join("-")}var Ln=function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))};const Fn=new f.b("json-wallets/5.6.0");function Un(e){return null!=e&&e.mnemonic&&e.mnemonic.phrase}class qn extends R{isKeystoreAccount(e){return!(!e||!e._isKeystoreAccount)}}function Wn(e,t){const r=xn(Dn(e,"crypto/ciphertext"));if(Object(c.i)(U(Object(c.b)([t.slice(16,32),r]))).substring(2)!==Dn(e,"crypto/mac").toLowerCase())throw new Error("invalid password");const n=function(e,t,r){if("aes-128-ctr"===Dn(e,"crypto/cipher")){const n=xn(Dn(e,"crypto/cipherparams/iv")),i=new Tn.a.Counter(n),o=new Tn.a.ModeOfOperation.ctr(t,i);return Object(c.a)(o.decrypt(r))}return null}(e,t.slice(0,16),r);n||Fn.throwError("unsupported cipher",f.b.errors.UNSUPPORTED_OPERATION,{operation:"decrypt"});const i=t.slice(32,64),o=Kt(n);if(e.address){let t=e.address.toLowerCase();if("0x"!==t.substring(0,2)&&(t="0x"+t),ee(t)!==o)throw new Error("address mismatch")}const s={_isKeystoreAccount:!0,address:o,privateKey:Object(c.i)(n)};if("0.1"===Dn(e,"x-ethers/version")){const t=xn(Dn(e,"x-ethers/mnemonicCiphertext")),r=xn(Dn(e,"x-ethers/mnemonicCounter")),n=new Tn.a.Counter(r),o=new Tn.a.ModeOfOperation.ctr(i,n),a=Dn(e,"x-ethers/path")||_n,u=Dn(e,"x-ethers/locale")||"en",l=Object(c.a)(o.decrypt(t));try{const e=On(l,u),t=En.fromMnemonic(e,null,u).derivePath(a);if(t.privateKey!=s.privateKey)throw new Error("mnemonic mismatch");s.mnemonic=t.mnemonic}catch(e){if(e.code!==f.b.errors.INVALID_ARGUMENT||"wordlist"!==e.argument)throw e}}return new qn(s)}function Gn(e,t,r,n,i){return Object(c.a)(sn(e,t,r,n,i))}function Hn(e,t,r,n,i){return Promise.resolve(Gn(e,t,r,n,i))}function Kn(e,t,r,n,i){const o=jn(t),s=Dn(e,"crypto/kdf");if(s&&"string"==typeof s){const t=function(e,t){return Fn.throwArgumentError("invalid key-derivation function parameters",e,t)};if("scrypt"===s.toLowerCase()){const r=xn(Dn(e,"crypto/kdfparams/salt")),a=parseInt(Dn(e,"crypto/kdfparams/n")),u=parseInt(Dn(e,"crypto/kdfparams/r")),c=parseInt(Dn(e,"crypto/kdfparams/p"));a&&u&&c||t("kdf",s),0!=(a&a-1)&&t("N",a);const l=parseInt(Dn(e,"crypto/kdfparams/dklen"));return 32!==l&&t("dklen",l),n(o,r,a,u,c,64,i)}if("pbkdf2"===s.toLowerCase()){const n=xn(Dn(e,"crypto/kdfparams/salt"));let i=null;const s=Dn(e,"crypto/kdfparams/prf");"hmac-sha256"===s?i="sha256":"hmac-sha512"===s?i="sha512":t("prf",s);const a=parseInt(Dn(e,"crypto/kdfparams/c")),u=parseInt(Dn(e,"crypto/kdfparams/dklen"));return 32!==u&&t("dklen",u),r(o,n,a,u,i)}}return Fn.throwArgumentError("unsupported key-derivation function","kdf",s)}const zn=new f.b("json-wallets/5.6.0");class Vn extends R{isCrowdsaleAccount(e){return!(!e||!e._isCrowdsaleAccount)}}function Jn(e,t){const r=JSON.parse(e);t=jn(t);const n=ee(Dn(r,"ethaddr")),i=xn(Dn(r,"encseed"));i&&i.length%16==0||zn.throwArgumentError("invalid encseed","json",e);const o=Object(c.a)(sn(t,t,2e3,32,"sha256")).slice(0,16),s=i.slice(0,16),a=i.slice(16),u=new Tn.a.ModeOfOperation.cbc(o,s),l=Tn.a.padding.pkcs7.strip(Object(c.a)(u.decrypt(a)));let h="";for(let e=0;e<l.length;e++)h+=String.fromCharCode(l[e]);const f=U(he(h));return new Vn({_isCrowdsaleAccount:!0,address:n,privateKey:f})}function $n(e){let t=null;try{t=JSON.parse(e)}catch(e){return!1}return t.encseed&&t.ethaddr}function Yn(e){let t=null;try{t=JSON.parse(e)}catch(e){return!1}return!(!t.version||parseInt(t.version)!==t.version||3!==parseInt(t.version))}function Qn(e){if($n(e))try{return ee(JSON.parse(e).ethaddr)}catch(e){return null}if(Yn(e))try{return ee(JSON.parse(e).address)}catch(e){return null}return null}function Xn(e,t,r){if($n(e)){r&&r(0);const n=Jn(e,t);return r&&r(1),Promise.resolve(n)}return Yn(e)?function(e,t,r){return Ln(this,void 0,void 0,(function*(){const n=JSON.parse(e);return Wn(n,yield Kn(n,t,Hn,Rn.a.scrypt,r))}))}(e,t,r):Promise.reject(new Error("invalid JSON wallet"))}function Zn(e,t){if($n(e))return Jn(e,t);if(Yn(e))return function(e,t){const r=JSON.parse(e);return Wn(r,Kn(r,t,Gn,Rn.a.syncScrypt))}(e,t);throw new Error("invalid JSON wallet")}var ei=function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))};const ti=new f.b("wallet/5.6.0");class ri extends Tt{constructor(e,t){if(ti.checkNew(new.target,ri),super(),null!=(r=e)&&Object(c.l)(r.privateKey,32)&&null!=r.address){const t=new Dt(e.privateKey);if(P(this,"_signingKey",()=>t),P(this,"address",Kt(this.publicKey)),this.address!==ee(e.address)&&ti.throwArgumentError("privateKey/address mismatch","privateKey","[REDACTED]"),function(e){const t=e.mnemonic;return t&&t.phrase}(e)){const t=e.mnemonic;P(this,"_mnemonic",()=>({phrase:t.phrase,path:t.path||_n,locale:t.locale||"en"}));const r=this.mnemonic;Kt(En.fromMnemonic(r.phrase,null,r.locale).derivePath(r.path).privateKey)!==this.address&&ti.throwArgumentError("mnemonic/address mismatch","privateKey","[REDACTED]")}else P(this,"_mnemonic",()=>null)}else{if(Dt.isSigningKey(e))"secp256k1"!==e.curve&&ti.throwArgumentError("unsupported curve; must be secp256k1","privateKey","[REDACTED]"),P(this,"_signingKey",()=>e);else{"string"==typeof e&&e.match(/^[0-9a-f]*$/i)&&64===e.length&&(e="0x"+e);const t=new Dt(e);P(this,"_signingKey",()=>t)}P(this,"_mnemonic",()=>null),P(this,"address",Kt(this.publicKey))}var r;t&&!Ot.isProvider(t)&&ti.throwArgumentError("invalid provider","provider",t),P(this,"provider",t||null)}get mnemonic(){return this._mnemonic()}get privateKey(){return this._signingKey().privateKey}get publicKey(){return this._signingKey().publicKey}getAddress(){return Promise.resolve(this.address)}connect(e){return new ri(this,e)}signTransaction(e){return S(e).then(t=>{null!=t.from&&(ee(t.from)!==this.address&&ti.throwArgumentError("transaction from address mismatch","transaction.from",e.from),delete t.from);const r=this._signingKey().signDigest(U(Zt(t)));return Zt(t,r)})}signMessage(e){return ei(this,void 0,void 0,(function*(){return Object(c.m)(this._signingKey().signDigest(Rr(e)))}))}_signTypedData(e,t,r){return ei(this,void 0,void 0,(function*(){const n=yield Jr.resolveNames(e,t,r,e=>(null==this.provider&&ti.throwError("cannot resolve ENS names without a provider",f.b.errors.UNSUPPORTED_OPERATION,{operation:"resolveName",value:e}),this.provider.resolveName(e)));return Object(c.m)(this._signingKey().signDigest(Jr.hash(n.domain,t,n.value)))}))}encrypt(e,t,r){if("function"!=typeof t||r||(r=t,t={}),r&&"function"!=typeof r)throw new Error("invalid callback");return t||(t={}),function(e,t,r,n){try{if(ee(e.address)!==Kt(e.privateKey))throw new Error("address/privateKey mismatch");if(Un(e)){const t=e.mnemonic;if(En.fromMnemonic(t.phrase,null,t.locale).derivePath(t.path||_n).privateKey!=e.privateKey)throw new Error("mnemonic mismatch")}}catch(e){return Promise.reject(e)}"function"!=typeof r||n||(n=r,r={}),r||(r={});const i=Object(c.a)(e.privateKey),o=jn(t);let s=null,a=null,u=null;if(Un(e)){const t=e.mnemonic;s=Object(c.a)(Pn(t.phrase,t.locale||"en")),a=t.path||_n,u=t.locale||"en"}let l=r.client;l||(l="ethers.js");let h=null;h=r.salt?Object(c.a)(r.salt):Object(kn.a)(32);let f=null;if(r.iv){if(f=Object(c.a)(r.iv),16!==f.length)throw new Error("invalid iv")}else f=Object(kn.a)(16);let d=null;if(r.uuid){if(d=Object(c.a)(r.uuid),16!==d.length)throw new Error("invalid uuid")}else d=Object(kn.a)(16);let p=1<<17,g=8,m=1;return r.scrypt&&(r.scrypt.N&&(p=r.scrypt.N),r.scrypt.r&&(g=r.scrypt.r),r.scrypt.p&&(m=r.scrypt.p)),Rn.a.scrypt(o,h,p,g,m,64,n).then(t=>{const r=(t=Object(c.a)(t)).slice(0,16),n=t.slice(16,32),o=t.slice(32,64),y=new Tn.a.Counter(f),v=new Tn.a.ModeOfOperation.ctr(r,y),b=Object(c.a)(v.encrypt(i)),w=U(Object(c.b)([n,b])),_={address:e.address.substring(2).toLowerCase(),id:Bn(d),version:3,Crypto:{cipher:"aes-128-ctr",cipherparams:{iv:Object(c.i)(f).substring(2)},ciphertext:Object(c.i)(b).substring(2),kdf:"scrypt",kdfparams:{salt:Object(c.i)(h).substring(2),n:p,dklen:32,p:m,r:g},mac:w.substring(2)}};if(s){const e=Object(kn.a)(16),t=new Tn.a.Counter(e),r=new Tn.a.ModeOfOperation.ctr(o,t),n=Object(c.a)(r.encrypt(s)),i=new Date,h=i.getUTCFullYear()+"-"+Mn(i.getUTCMonth()+1,2)+"-"+Mn(i.getUTCDate(),2)+"T"+Mn(i.getUTCHours(),2)+"-"+Mn(i.getUTCMinutes(),2)+"-"+Mn(i.getUTCSeconds(),2)+".0Z";_["x-ethers"]={client:l,gethFilename:"UTC--"+h+"--"+_.address,mnemonicCounter:Object(c.i)(e).substring(2),mnemonicCiphertext:Object(c.i)(n).substring(2),path:a,locale:u,version:"0.1"}}return JSON.stringify(_)})}(this,e,t,r)}static createRandom(e){let t=Object(kn.a)(16);e||(e={}),e.extraEntropy&&(t=Object(c.a)(Object(c.e)(U(Object(c.b)([t,e.extraEntropy])),0,16)));const r=On(t,e.locale);return ri.fromMnemonic(r,e.path,e.locale)}static fromEncryptedJson(e,t,r){return Xn(e,t,r).then(e=>new ri(e))}static fromEncryptedJsonSync(e,t){return new ri(Zn(e,t))}static fromMnemonic(e,t,r){return t||(t=_n),new ri(En.fromMnemonic(e,null,r).derivePath(t))}}function ni(e,t){return zt(Rr(e),t)}function ii(e,t,r,n){return zt(Jr.hash(e,t,r),n)}const oi="0x0000000000000000000000000000000000000000",si="0x0000000000000000000000000000000000000000000000000000000000000000",ai="",ui=new f.b("networks/5.6.0");function ci(e){const t=function(t,r){null==r&&(r={});const n=[];if(t.InfuraProvider&&"-"!==r.infura)try{n.push(new t.InfuraProvider(e,r.infura))}catch(e){}if(t.EtherscanProvider&&"-"!==r.etherscan)try{n.push(new t.EtherscanProvider(e,r.etherscan))}catch(e){}if(t.AlchemyProvider&&"-"!==r.alchemy)try{n.push(new t.AlchemyProvider(e,r.alchemy))}catch(e){}if(t.PocketProvider&&"-"!==r.pocket){const r=["goerli","ropsten","rinkeby"];try{const i=new t.PocketProvider(e);i.network&&-1===r.indexOf(i.network.name)&&n.push(i)}catch(e){}}if(t.CloudflareProvider&&"-"!==r.cloudflare)try{n.push(new t.CloudflareProvider(e))}catch(e){}if(0===n.length)return null;if(t.FallbackProvider){let i=1;return null!=r.quorum?i=r.quorum:"homestead"===e&&(i=2),new t.FallbackProvider(n,i)}return n[0]};return t.renetwork=function(e){return ci(e)},t}function li(e,t){const r=function(r,n){return r.JsonRpcProvider?new r.JsonRpcProvider(e,t):null};return r.renetwork=function(t){return li(e,t)},r}const hi={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:ci("homestead")},fi={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:ci("ropsten")},di={chainId:63,name:"classicMordor",_defaultProvider:li("https://www.ethercluster.com/mordor","classicMordor")},pi={unspecified:{chainId:0,name:"unspecified"},homestead:hi,mainnet:hi,morden:{chainId:2,name:"morden"},ropsten:fi,testnet:fi,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:ci("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:ci("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:ci("goerli")},kintsugi:{chainId:1337702,name:"kintsugi"},classic:{chainId:61,name:"classic",_defaultProvider:li("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor:di,classicTestnet:di,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:li("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic"},maticmum:{chainId:80001,name:"maticmum"},optimism:{chainId:10,name:"optimism"},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};function gi(e){if(null==e)return null;if("number"==typeof e){for(const t in pi){const r=pi[t];if(r.chainId===e)return{name:r.name,chainId:r.chainId,ensAddress:r.ensAddress||null,_defaultProvider:r._defaultProvider||null}}return{chainId:e,name:"unknown"}}if("string"==typeof e){const t=pi[e];return null==t?null:{name:t.name,chainId:t.chainId,ensAddress:t.ensAddress,_defaultProvider:t._defaultProvider||null}}const t=pi[e.name];if(!t)return"number"!=typeof e.chainId&&ui.throwArgumentError("invalid network chainId","network",e),e;0!==e.chainId&&e.chainId!==t.chainId&&ui.throwArgumentError("network chainId mismatch","network",e);let r=e._defaultProvider||null;var n;return null==r&&t._defaultProvider&&(r=(n=t._defaultProvider)&&"function"==typeof n.renetwork?t._defaultProvider.renetwork(e):t._defaultProvider),{name:e.name,chainId:t.chainId,ensAddress:e.ensAddress||t.ensAddress||null,_defaultProvider:r}}function mi(e,t){t||(t=function(e){return[parseInt(e,16)]});let r=0,n={};return e.split(",").forEach(e=>{let i=e.split(":");r+=parseInt(i[0],16),n[r]=t(i[1])}),n}function yi(e){let t=0;return e.split(",").map(e=>{let r=e.split("-");1===r.length?r[1]="0":""===r[1]&&(r[1]="1");let n=t+parseInt(r[0],16);return t=parseInt(r[1],16),{l:n,h:t}})}function vi(e,t){let r=0;for(let n=0;n<t.length;n++){let i=t[n];if(r+=i.l,e>=r&&e<=r+i.h&&(e-r)%(i.d||1)==0){if(i.e&&-1!==i.e.indexOf(e-r))continue;return i}}return null}const bi=yi("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"),wi="ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map(e=>parseInt(e,16)),_i=[{h:25,s:32,l:65},{h:30,s:32,e:[23],l:127},{h:54,s:1,e:[48],l:64,d:2},{h:14,s:1,l:57,d:2},{h:44,s:1,l:17,d:2},{h:10,s:1,e:[2,6,8],l:61,d:2},{h:16,s:1,l:68,d:2},{h:84,s:1,e:[18,24,66],l:19,d:2},{h:26,s:32,e:[17],l:435},{h:22,s:1,l:71,d:2},{h:15,s:80,l:40},{h:31,s:32,l:16},{h:32,s:1,l:80,d:2},{h:52,s:1,l:42,d:2},{h:12,s:1,l:55,d:2},{h:40,s:1,e:[38],l:15,d:2},{h:14,s:1,l:48,d:2},{h:37,s:48,l:49},{h:148,s:1,l:6351,d:2},{h:88,s:1,l:160,d:2},{h:15,s:16,l:704},{h:25,s:26,l:854},{h:25,s:32,l:55915},{h:37,s:40,l:1247},{h:25,s:-119711,l:53248},{h:25,s:-119763,l:52},{h:25,s:-119815,l:52},{h:25,s:-119867,e:[1,4,5,7,8,11,12,17],l:52},{h:25,s:-119919,l:52},{h:24,s:-119971,e:[2,7,8,17],l:52},{h:24,s:-120023,e:[2,7,13,15,16,17],l:52},{h:25,s:-120075,l:52},{h:25,s:-120127,l:52},{h:25,s:-120179,l:52},{h:25,s:-120231,l:52},{h:25,s:-120283,l:52},{h:25,s:-120335,l:52},{h:24,s:-119543,e:[17],l:56},{h:24,s:-119601,e:[17],l:58},{h:24,s:-119659,e:[17],l:58},{h:24,s:-119717,e:[17],l:58},{h:24,s:-119775,e:[17],l:58}],Ei=mi("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"),Ai=mi("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"),Pi=mi("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",(function(e){if(e.length%4!=0)throw new Error("bad data");let t=[];for(let r=0;r<e.length;r+=4)t.push(parseInt(e.substring(r,r+4),16));return t})),Oi=yi("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001");function Si(e){if(e.match(/^[a-z0-9-]*$/i)&&e.length<=59)return e.toLowerCase();let t=me(e);var r;r=t.map(e=>{if(wi.indexOf(e)>=0)return[];if(e>=65024&&e<=65039)return[];let t=function(e){let t=vi(e,_i);if(t)return[e+t.s];let r=Ei[e];if(r)return r;let n=Ai[e];if(n)return[e+n[0]];let i=Pi[e];return i||null}(e);return t||[e]}),t=r.reduce((e,t)=>(t.forEach(t=>{e.push(t)}),e),[]),t=me(pe(t),se.NFKC),t.forEach(e=>{if(vi(e,Oi))throw new Error("STRINGPREP_CONTAINS_PROHIBITED")}),t.forEach(e=>{if(vi(e,bi))throw new Error("STRINGPREP_CONTAINS_UNASSIGNED")});let n=pe(t);if("-"===n.substring(0,1)||"--"===n.substring(2,4)||"-"===n.substring(n.length-1))throw new Error("invalid hyphen");if(n.length>63)throw new Error("too long");return n}const Ci=new f.b("hash/5.6.0"),ki=new Uint8Array(32);ki.fill(0);const Ni=new RegExp("^((.*)\\.)?([^.]+)$");function Ti(e){try{const t=e.split(".");for(let e=0;e<t.length;e++)if(0===Si(t[e]).length)throw new Error("empty");return!0}catch(e){}return!1}function Ii(e){"string"!=typeof e&&Ci.throwArgumentError("invalid ENS name; not a string","name",e);let t=e,r=ki;for(;t.length;){const n=t.match(Ni);null!=n&&""!==n[2]||Ci.throwArgumentError("invalid ENS address; missing component","name",e);const i=he(Si(n[3]));r=U(Object(c.b)([r,U(i)])),t=n[2]||""}return Object(c.i)(r)}function Ri(e){return Object(c.i)(Object(c.b)(e.split(".").map(e=>{const t=he("_"+Si(e));return t[0]=t.length-1,t})))+"00"}function xi(e){e=atob(e);const t=[];for(let r=0;r<e.length;r++)t.push(e.charCodeAt(r));return Object(c.a)(t)}function Mi(e){e=Object(c.a)(e);let t="";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return btoa(t)}var ji=function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))};function Di(e,t){return ji(this,void 0,void 0,(function*(){null==t&&(t={});const r={method:t.method||"GET",headers:t.headers||{},body:t.body||void 0};!0!==t.skipFetchSetup&&(r.mode="cors",r.cache="no-cache",r.credentials="same-origin",r.redirect="follow",r.referrer="client");const n=yield fetch(e,r),i=yield n.arrayBuffer(),o={};return n.headers.forEach?n.headers.forEach((e,t)=>{o[t.toLowerCase()]=e}):n.headers.keys().forEach(e=>{o[e.toLowerCase()]=n.headers.get(e)}),{headers:o,statusCode:n.status,statusMessage:n.statusText,body:Object(c.a)(new Uint8Array(i))}}))}var Bi=function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))};const Li=new f.b("web/5.6.0");function Fi(e){return new Promise(t=>{setTimeout(t,e)})}function Ui(e,t){if(null==e)return null;if("string"==typeof e)return e;if(Object(c.k)(e)){if(t&&("text"===t.split("/")[0]||"application/json"===t.split(";")[0].trim()))try{return ge(e)}catch(e){}return Object(c.i)(e)}return e}function qi(e,t,r){const n="object"==typeof e&&null!=e.throttleLimit?e.throttleLimit:12;Li.assertArgument(n>0&&n%1==0,"invalid connection throttle limit","connection.throttleLimit",n);const i="object"==typeof e?e.throttleCallback:null,o="object"==typeof e&&"number"==typeof e.throttleSlotInterval?e.throttleSlotInterval:100;Li.assertArgument(o>0&&o%1==0,"invalid connection throttle slot interval","connection.throttleSlotInterval",o);const s="object"==typeof e&&!!e.errorPassThrough,a={};let u=null;const c={method:"GET"};let l=!1,h=12e4;if("string"==typeof e)u=e;else if("object"==typeof e){if(null!=e&&null!=e.url||Li.throwArgumentError("missing URL","connection.url",e),u=e.url,"number"==typeof e.timeout&&e.timeout>0&&(h=e.timeout),e.headers)for(const t in e.headers)a[t.toLowerCase()]={key:t,value:String(e.headers[t])},["if-none-match","if-modified-since"].indexOf(t.toLowerCase())>=0&&(l=!0);if(c.allowGzip=!!e.allowGzip,null!=e.user&&null!=e.password){"https:"!==u.substring(0,6)&&!0!==e.allowInsecureAuthentication&&Li.throwError("basic authentication requires a secure https url",f.b.errors.INVALID_ARGUMENT,{argument:"url",url:u,user:e.user,password:"[REDACTED]"});const t=e.user+":"+e.password;a.authorization={key:"Authorization",value:"Basic "+Mi(he(t))}}null!=e.skipFetchSetup&&(c.skipFetchSetup=!!e.skipFetchSetup)}const d=new RegExp("^data:([a-z0-9-]+/[a-z0-9-]+);base64,(.*)$","i"),p=u?u.match(d):null;if(p)try{const e={statusCode:200,statusMessage:"OK",headers:{"content-type":p[1]},body:xi(p[2])};let t=e.body;return r&&(t=r(e.body,e)),Promise.resolve(t)}catch(e){Li.throwError("processing response error",f.b.errors.SERVER_ERROR,{body:Ui(p[1],p[2]),error:e,requestBody:null,requestMethod:"GET",url:u})}t&&(c.method="POST",c.body=t,null==a["content-type"]&&(a["content-type"]={key:"Content-Type",value:"application/octet-stream"}),null==a["content-length"]&&(a["content-length"]={key:"Content-Length",value:String(t.length)}));const g={};Object.keys(a).forEach(e=>{const t=a[e];g[t.key]=t.value}),c.headers=g;const m=function(){let e=null;return{promise:new Promise((function(t,r){h&&(e=setTimeout(()=>{null!=e&&(e=null,r(Li.makeError("timeout",f.b.errors.TIMEOUT,{requestBody:Ui(c.body,g["content-type"]),requestMethod:c.method,timeout:h,url:u})))},h))})),cancel:function(){null!=e&&(clearTimeout(e),e=null)}}}(),y=function(){return Bi(this,void 0,void 0,(function*(){for(let e=0;e<n;e++){let t=null;try{if(t=yield Di(u,c),e<n)if(301===t.statusCode||302===t.statusCode){const e=t.headers.location||"";if("GET"===c.method&&e.match(/^https:/)){u=t.headers.location;continue}}else if(429===t.statusCode){let r=!0;if(i&&(r=yield i(e,u)),r){let r=0;const n=t.headers["retry-after"];r="string"==typeof n&&n.match(/^[1-9][0-9]*$/)?1e3*parseInt(n):o*parseInt(String(Math.random()*Math.pow(2,e))),yield Fi(r);continue}}}catch(e){t=e.response,null==t&&(m.cancel(),Li.throwError("missing response",f.b.errors.SERVER_ERROR,{requestBody:Ui(c.body,g["content-type"]),requestMethod:c.method,serverError:e,url:u}))}let a=t.body;if(l&&304===t.statusCode?a=null:!s&&(t.statusCode<200||t.statusCode>=300)&&(m.cancel(),Li.throwError("bad response",f.b.errors.SERVER_ERROR,{status:t.statusCode,headers:t.headers,body:Ui(a,t.headers?t.headers["content-type"]:null),requestBody:Ui(c.body,g["content-type"]),requestMethod:c.method,url:u})),r)try{const e=yield r(a,t);return m.cancel(),e}catch(r){if(r.throttleRetry&&e<n){let t=!0;if(i&&(t=yield i(e,u)),t){const t=o*parseInt(String(Math.random()*Math.pow(2,e)));yield Fi(t);continue}}m.cancel(),Li.throwError("processing response error",f.b.errors.SERVER_ERROR,{body:Ui(a,t.headers?t.headers["content-type"]:null),error:r,requestBody:Ui(c.body,g["content-type"]),requestMethod:c.method,url:u})}return m.cancel(),a}return Li.throwError("failed response",f.b.errors.SERVER_ERROR,{requestBody:Ui(c.body,g["content-type"]),requestMethod:c.method,url:u})}))}();return Promise.race([m.promise,y])}function Wi(e,t,r){let n=null;if(null!=t){n=he(t);const r="string"==typeof e?{url:e}:k(e);if(r.headers){0!==Object.keys(r.headers).filter(e=>"content-type"===e.toLowerCase()).length||(r.headers=k(r.headers),r.headers["content-type"]="application/json")}else r.headers={"content-type":"application/json"};e=r}return qi(e,n,(e,t)=>{let n=null;if(null!=e)try{n=JSON.parse(ge(e))}catch(t){Li.throwError("invalid JSON",f.b.errors.SERVER_ERROR,{body:e,error:t})}return r&&(n=r(n,t)),n})}function Gi(e,t){return t||(t={}),null==(t=k(t)).floor&&(t.floor=0),null==t.ceiling&&(t.ceiling=1e4),null==t.interval&&(t.interval=250),new Promise((function(r,n){let i=null,o=!1;const s=()=>!o&&(o=!0,i&&clearTimeout(i),!0);t.timeout&&(i=setTimeout(()=>{s()&&n(new Error("timeout"))},t.timeout));const a=t.retryLimit;let u=0;!function i(){return e().then((function(e){if(void 0!==e)s()&&r(e);else if(t.oncePoll)t.oncePoll.once("poll",i);else if(t.onceBlock)t.onceBlock.once("block",i);else if(!o){if(u++,u>a)return void(s()&&n(new Error("retry limit reached")));let e=t.interval*parseInt(String(Math.random()*Math.pow(2,u)));e<t.floor&&(e=t.floor),e>t.ceiling&&(e=t.ceiling),setTimeout(i,e)}return null}),(function(e){s()&&n(e)}))}()}))}var Hi=r(56),Ki=r.n(Hi);const zi=new f.b("providers/5.6.0");class Vi{constructor(){zi.checkNew(new.target,Vi),this.formats=this.getDefaultFormats()}getDefaultFormats(){const e={},t=this.address.bind(this),r=this.bigNumber.bind(this),n=this.blockTag.bind(this),i=this.data.bind(this),o=this.hash.bind(this),s=this.hex.bind(this),a=this.number.bind(this),u=this.type.bind(this);return e.transaction={hash:o,type:u,accessList:Vi.allowNull(this.accessList.bind(this),null),blockHash:Vi.allowNull(o,null),blockNumber:Vi.allowNull(a,null),transactionIndex:Vi.allowNull(a,null),confirmations:Vi.allowNull(a,null),from:t,gasPrice:Vi.allowNull(r),maxPriorityFeePerGas:Vi.allowNull(r),maxFeePerGas:Vi.allowNull(r),gasLimit:r,to:Vi.allowNull(t,null),value:r,nonce:a,data:i,r:Vi.allowNull(this.uint256),s:Vi.allowNull(this.uint256),v:Vi.allowNull(a),creates:Vi.allowNull(t,null),raw:Vi.allowNull(i)},e.transactionRequest={from:Vi.allowNull(t),nonce:Vi.allowNull(a),gasLimit:Vi.allowNull(r),gasPrice:Vi.allowNull(r),maxPriorityFeePerGas:Vi.allowNull(r),maxFeePerGas:Vi.allowNull(r),to:Vi.allowNull(t),value:Vi.allowNull(r),data:Vi.allowNull(e=>this.data(e,!0)),type:Vi.allowNull(a),accessList:Vi.allowNull(this.accessList.bind(this),null)},e.receiptLog={transactionIndex:a,blockNumber:a,transactionHash:o,address:t,topics:Vi.arrayOf(o),data:i,logIndex:a,blockHash:o},e.receipt={to:Vi.allowNull(this.address,null),from:Vi.allowNull(this.address,null),contractAddress:Vi.allowNull(t,null),transactionIndex:a,root:Vi.allowNull(s),gasUsed:r,logsBloom:Vi.allowNull(i),blockHash:o,transactionHash:o,logs:Vi.arrayOf(this.receiptLog.bind(this)),blockNumber:a,confirmations:Vi.allowNull(a,null),cumulativeGasUsed:r,effectiveGasPrice:Vi.allowNull(r),status:Vi.allowNull(a),type:u},e.block={hash:Vi.allowNull(o),parentHash:o,number:a,timestamp:a,nonce:Vi.allowNull(s),difficulty:this.difficulty.bind(this),gasLimit:r,gasUsed:r,miner:Vi.allowNull(t),extraData:i,transactions:Vi.allowNull(Vi.arrayOf(o)),baseFeePerGas:Vi.allowNull(r)},e.blockWithTransactions=k(e.block),e.blockWithTransactions.transactions=Vi.allowNull(Vi.arrayOf(this.transactionResponse.bind(this))),e.filter={fromBlock:Vi.allowNull(n,void 0),toBlock:Vi.allowNull(n,void 0),blockHash:Vi.allowNull(o,void 0),address:Vi.allowNull(t,void 0),topics:Vi.allowNull(this.topics.bind(this),void 0)},e.filterLog={blockNumber:Vi.allowNull(a),blockHash:Vi.allowNull(o),transactionIndex:a,removed:Vi.allowNull(this.boolean.bind(this)),address:t,data:Vi.allowFalsish(i,"0x"),topics:Vi.arrayOf(o),transactionHash:o,logIndex:a},e}accessList(e){return $t(e||[])}number(e){return"0x"===e?0:y.from(e).toNumber()}type(e){return"0x"===e||null==e?0:y.from(e).toNumber()}bigNumber(e){return y.from(e)}boolean(e){if("boolean"==typeof e)return e;if("string"==typeof e){if("true"===(e=e.toLowerCase()))return!0;if("false"===e)return!1}throw new Error("invalid boolean - "+e)}hex(e,t){return"string"==typeof e&&(t||"0x"===e.substring(0,2)||(e="0x"+e),Object(c.l)(e))?e.toLowerCase():zi.throwArgumentError("invalid hash","value",e)}data(e,t){const r=this.hex(e,t);if(r.length%2!=0)throw new Error("invalid data; odd-length - "+e);return r}address(e){return ee(e)}callAddress(e){if(!Object(c.l)(e,32))return null;const t=ee(Object(c.e)(e,12));return t===oi?null:t}contractAddress(e){return ne(e)}blockTag(e){if(null==e)return"latest";if("earliest"===e)return"0x0";if("latest"===e||"pending"===e)return e;if("number"==typeof e||Object(c.l)(e))return Object(c.g)(e);throw new Error("invalid blockTag")}hash(e,t){const r=this.hex(e,t);return 32!==Object(c.d)(r)?zi.throwArgumentError("invalid hash","value",e):r}difficulty(e){if(null==e)return null;const t=y.from(e);try{return t.toNumber()}catch(e){}return null}uint256(e){if(!Object(c.l)(e))throw new Error("invalid uint256");return Object(c.h)(e,32)}_block(e,t){null!=e.author&&null==e.miner&&(e.miner=e.author);const r=null!=e._difficulty?e._difficulty:e.difficulty,n=Vi.check(t,e);return n._difficulty=null==r?null:y.from(r),n}block(e){return this._block(e,this.formats.block)}blockWithTransactions(e){return this._block(e,this.formats.blockWithTransactions)}transactionRequest(e){return Vi.check(this.formats.transactionRequest,e)}transactionResponse(e){null!=e.gas&&null==e.gasLimit&&(e.gasLimit=e.gas),e.to&&y.from(e.to).isZero()&&(e.to="0x0000000000000000000000000000000000000000"),null!=e.input&&null==e.data&&(e.data=e.input),null==e.to&&null==e.creates&&(e.creates=this.contractAddress(e)),1!==e.type&&2!==e.type||null!=e.accessList||(e.accessList=[]);const t=Vi.check(this.formats.transaction,e);if(null!=e.chainId){let r=e.chainId;Object(c.l)(r)&&(r=y.from(r).toNumber()),t.chainId=r}else{let r=e.networkId;null==r&&null==t.v&&(r=e.chainId),Object(c.l)(r)&&(r=y.from(r).toNumber()),"number"!=typeof r&&null!=t.v&&(r=(t.v-35)/2,r<0&&(r=0),r=parseInt(r)),"number"!=typeof r&&(r=0),t.chainId=r}return t.blockHash&&"x"===t.blockHash.replace(/0/g,"")&&(t.blockHash=null),t}transaction(e){return tr(e)}receiptLog(e){return Vi.check(this.formats.receiptLog,e)}receipt(e){const t=Vi.check(this.formats.receipt,e);if(null!=t.root)if(t.root.length<=4){const e=y.from(t.root).toNumber();0===e||1===e?(null!=t.status&&t.status!==e&&zi.throwArgumentError("alt-root-status/status mismatch","value",{root:t.root,status:t.status}),t.status=e,delete t.root):zi.throwArgumentError("invalid alt-root-status","value.root",t.root)}else 66!==t.root.length&&zi.throwArgumentError("invalid root hash","value.root",t.root);return null!=t.status&&(t.byzantium=!0),t}topics(e){return Array.isArray(e)?e.map(e=>this.topics(e)):null!=e?this.hash(e,!0):null}filter(e){return Vi.check(this.formats.filter,e)}filterLog(e){return Vi.check(this.formats.filterLog,e)}static check(e,t){const r={};for(const n in e)try{const i=e[n](t[n]);void 0!==i&&(r[n]=i)}catch(e){throw e.checkKey=n,e.checkValue=t[n],e}return r}static allowNull(e,t){return function(r){return null==r?t:e(r)}}static allowFalsish(e,t){return function(r){return r?e(r):t}}static arrayOf(e){return function(t){if(!Array.isArray(t))throw new Error("not an array");const r=[];return t.forEach((function(t){r.push(e(t))})),r}}}function Ji(e){return e&&"function"==typeof e.isCommunityResource}function $i(e){return Ji(e)&&e.isCommunityResource()}let Yi=!1;function Qi(){Yi||(Yi=!0,console.log("========= NOTICE ========="),console.log("Request-Rate Exceeded  (this message will not be repeated)"),console.log(""),console.log("The default API keys for each service are provided as a highly-throttled,"),console.log("community resource for low-traffic projects and early prototyping."),console.log(""),console.log("While your application will continue to function, we highly recommended"),console.log("signing up for your own API keys to improve performance, increase your"),console.log("request rate/limit and enable other perks, such as metrics and advanced APIs."),console.log(""),console.log("For more details: https://docs.ethers.io/api-keys/"),console.log("=========================="))}var Xi=function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))};const Zi=new f.b("providers/5.6.0");function eo(e){return null==e?"null":(32!==Object(c.d)(e)&&Zi.throwArgumentError("invalid topic","topic",e),e.toLowerCase())}function to(e){for(e=e.slice();e.length>0&&null==e[e.length-1];)e.pop();return e.map(e=>{if(Array.isArray(e)){const t={};e.forEach(e=>{t[eo(e)]=!0});const r=Object.keys(t);return r.sort(),r.join("|")}return eo(e)}).join("&")}function ro(e){if("string"==typeof e){if(e=e.toLowerCase(),32===Object(c.d)(e))return"tx:"+e;if(-1===e.indexOf(":"))return e}else{if(Array.isArray(e))return"filter:*:"+to(e);if(Pt.isForkEvent(e))throw Zi.warn("not implemented"),new Error("not implemented");if(e&&"object"==typeof e)return"filter:"+(e.address||"*")+":"+to(e.topics||[])}throw new Error("invalid event - "+e)}function no(){return(new Date).getTime()}function io(e){return new Promise(t=>{setTimeout(t,e)})}const oo=["block","network","pending","poll"];class so{constructor(e,t,r){P(this,"tag",e),P(this,"listener",t),P(this,"once",r),this._lastBlockNumber=-2,this._inflight=!1}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){const e=this.tag.split(":");return"tx"!==e[0]?null:e[1]}get filter(){const e=this.tag.split(":");if("filter"!==e[0])return null;const t=e[1],r=""===(n=e[2])?[]:n.split(/&/g).map(e=>{if(""===e)return[];const t=e.split("|").map(e=>"null"===e?null:e);return 1===t.length?t[0]:t});var n;const i={};return r.length>0&&(i.topics=r),t&&"*"!==t&&(i.address=t),i}pollable(){return this.tag.indexOf(":")>=0||oo.indexOf(this.tag)>=0}}const ao={0:{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},2:{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},3:{symbol:"doge",p2pkh:30,p2sh:22},60:{symbol:"eth",ilk:"eth"},61:{symbol:"etc",ilk:"eth"},700:{symbol:"xdai",ilk:"eth"}};function uo(e){return Object(c.h)(y.from(e).toHexString(),32)}function co(e){return Yr.encode(Object(c.b)([e,Object(c.e)(rn(rn(e)),0,4)]))}const lo=new RegExp("^(ipfs)://(.*)$","i"),ho=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),lo,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function fo(e,t){try{return ge(po(e,t))}catch(e){}return null}function po(e,t){if("0x"===e)return null;const r=y.from(Object(c.e)(e,t,t+32)).toNumber(),n=y.from(Object(c.e)(e,r,r+32)).toNumber();return Object(c.e)(e,r+32,r+32+n)}function go(e){return e.match(/^ipfs:\/\/ipfs\//i)?e=e.substring(12):e.match(/^ipfs:\/\//i)?e=e.substring(7):Zi.throwArgumentError("unsupported IPFS format","link",e),"https://gateway.ipfs.io/ipfs/"+e}function mo(e){const t=Object(c.a)(e);if(t.length>32)throw new Error("internal; should not happen");const r=new Uint8Array(32);return r.set(t,32-t.length),r}function yo(e){if(e.length%32==0)return e;const t=new Uint8Array(32*Math.ceil(e.length/32));return t.set(e),t}function vo(e){const t=[];let r=0;for(let n=0;n<e.length;n++)t.push(null),r+=32;for(let n=0;n<e.length;n++){const i=Object(c.a)(e[n]);t[n]=mo(r),t.push(mo(i.length)),t.push(yo(i)),r+=32+32*Math.ceil(i.length/32)}return Object(c.c)(t)}class bo{constructor(e,t,r,n){P(this,"provider",e),P(this,"name",r),P(this,"address",e.formatter.address(t)),P(this,"_resolvedAddress",n)}supportsWildcard(){return this._supportsEip2544||(this._supportsEip2544=this.provider.call({to:this.address,data:"0x01ffc9a79061b92300000000000000000000000000000000000000000000000000000000"}).then(e=>y.from(e).eq(1)).catch(e=>{if(e.code===f.b.errors.CALL_EXCEPTION)return!1;throw this._supportsEip2544=null,e})),this._supportsEip2544}_fetch(e,t){return Xi(this,void 0,void 0,(function*(){const r={to:this.address,ccipReadEnabled:!0,data:Object(c.c)([e,Ii(this.name),t||"0x"])};let n=!1;(yield this.supportsWildcard())&&(n=!0,r.data=Object(c.c)(["0x9061b923",vo([Ri(this.name),r.data])]));try{let e=yield this.provider.call(r);return Object(c.a)(e).length%32==4&&Zi.throwError("resolver threw error",f.b.errors.CALL_EXCEPTION,{transaction:r,data:e}),n&&(e=po(e,0)),e}catch(e){if(e.code===f.b.errors.CALL_EXCEPTION)return null;throw e}}))}_fetchBytes(e,t){return Xi(this,void 0,void 0,(function*(){const r=yield this._fetch(e,t);return null!=r?po(r,0):null}))}_getAddress(e,t){const r=ao[String(e)];if(null==r&&Zi.throwError("unsupported coin type: "+e,f.b.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`}),"eth"===r.ilk)return this.provider.formatter.address(t);const n=Object(c.a)(t);if(null!=r.p2pkh){const e=t.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(e){const t=parseInt(e[1],16);if(e[2].length===2*t&&t>=1&&t<=75)return co(Object(c.b)([[r.p2pkh],"0x"+e[2]]))}}if(null!=r.p2sh){const e=t.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(e){const t=parseInt(e[1],16);if(e[2].length===2*t&&t>=1&&t<=75)return co(Object(c.b)([[r.p2sh],"0x"+e[2]]))}}if(null!=r.prefix){const e=n[1];let t=n[0];if(0===t?20!==e&&32!==e&&(t=-1):t=-1,t>=0&&n.length===2+e&&e>=1&&e<=75){const e=Ki.a.toWords(n.slice(2));return e.unshift(t),Ki.a.encode(r.prefix,e)}}return null}getAddress(e){return Xi(this,void 0,void 0,(function*(){if(null==e&&(e=60),60===e)try{const e=yield this._fetch("0x3b3b57de");return"0x"===e||e===si?null:this.provider.formatter.callAddress(e)}catch(e){if(e.code===f.b.errors.CALL_EXCEPTION)return null;throw e}const t=yield this._fetchBytes("0xf1cb7e06",uo(e));if(null==t||"0x"===t)return null;const r=this._getAddress(e,t);return null==r&&Zi.throwError("invalid or unsupported coin data",f.b.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`,coinType:e,data:t}),r}))}getAvatar(){return Xi(this,void 0,void 0,(function*(){const e=[{type:"name",content:this.name}];try{const t=yield this.getText("avatar");if(null==t)return null;for(let r=0;r<ho.length;r++){const n=t.match(ho[r]);if(null==n)continue;const i=n[1].toLowerCase();switch(i){case"https":return e.push({type:"url",content:t}),{linkage:e,url:t};case"data":return e.push({type:"data",content:t}),{linkage:e,url:t};case"ipfs":return e.push({type:"ipfs",content:t}),{linkage:e,url:go(t)};case"erc721":case"erc1155":{const r="erc721"===i?"0xc87b56dd":"0x0e89341c";e.push({type:i,content:t});const o=this._resolvedAddress||(yield this.getAddress()),s=(n[2]||"").split("/");if(2!==s.length)return null;const a=yield this.provider.formatter.address(s[0]),u=Object(c.h)(y.from(s[1]).toHexString(),32);if("erc721"===i){const t=this.provider.formatter.callAddress(yield this.provider.call({to:a,data:Object(c.c)(["0x6352211e",u])}));if(o!==t)return null;e.push({type:"owner",content:t})}else if("erc1155"===i){const t=y.from(yield this.provider.call({to:a,data:Object(c.c)(["0x00fdd58e",Object(c.h)(o,32),u])}));if(t.isZero())return null;e.push({type:"balance",content:t.toString()})}const l={to:this.provider.formatter.address(s[0]),data:Object(c.c)([r,u])};let h=fo(yield this.provider.call(l),0);if(null==h)return null;e.push({type:"metadata-url-base",content:h}),"erc1155"===i&&(h=h.replace("{id}",u.substring(2)),e.push({type:"metadata-url-expanded",content:h})),h.match(/^ipfs:/i)&&(h=go(h)),e.push({type:"metadata-url",content:h});const f=yield Wi(h);if(!f)return null;e.push({type:"metadata",content:JSON.stringify(f)});let d=f.image;if("string"!=typeof d)return null;if(d.match(/^(https:\/\/|data:)/i));else{if(null==d.match(lo))return null;e.push({type:"url-ipfs",content:d}),d=go(d)}return e.push({type:"url",content:d}),{linkage:e,url:d}}}}}catch(e){}return null}))}getContentHash(){return Xi(this,void 0,void 0,(function*(){const e=yield this._fetchBytes("0xbc1c58d1");if(null==e||"0x"===e)return null;const t=e.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(t){const e=parseInt(t[3],16);if(t[4].length===2*e)return"ipfs://"+Yr.encode("0x"+t[1])}const r=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);return r&&64===r[1].length?"bzz://"+r[1]:Zi.throwError("invalid or unsupported content hash data",f.b.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:e})}))}getText(e){return Xi(this,void 0,void 0,(function*(){let t=he(e);t=Object(c.b)([uo(64),uo(t.length),t]),t.length%32!=0&&(t=Object(c.b)([t,Object(c.h)("0x",32-e.length%32)]));const r=yield this._fetchBytes("0x59d1d43c",Object(c.i)(t));return null==r||"0x"===r?null:ge(r)}))}}let wo=null,_o=1;class Eo extends Ot{constructor(e){if(Zi.checkNew(new.target,Ot),super(),this._events=[],this._emitted={block:-2},this.disableCcipRead=!1,this.formatter=new.target.getFormatter(),P(this,"anyNetwork","any"===e),this.anyNetwork&&(e=this.detectNetwork()),e instanceof Promise)this._networkPromise=e,e.catch(e=>{}),this._ready().catch(e=>{});else{const t=O(new.target,"getNetwork")(e);t?(P(this,"_network",t),this.emit("network",t,null)):Zi.throwArgumentError("invalid network","network",e)}this._maxInternalBlockNumber=-1024,this._lastBlockNumber=-2,this._maxFilterBlockRange=10,this._pollingInterval=4e3,this._fastQueryDate=0}_ready(){return Xi(this,void 0,void 0,(function*(){if(null==this._network){let e=null;if(this._networkPromise)try{e=yield this._networkPromise}catch(e){}null==e&&(e=yield this.detectNetwork()),e||Zi.throwError("no network detected",f.b.errors.UNKNOWN_ERROR,{}),null==this._network&&(this.anyNetwork?this._network=e:P(this,"_network",e),this.emit("network",e,null))}return this._network}))}get ready(){return Gi(()=>this._ready().then(e=>e,e=>{if(e.code!==f.b.errors.NETWORK_ERROR||"noNetwork"!==e.event)throw e}))}static getFormatter(){return null==wo&&(wo=new Vi),wo}static getNetwork(e){return gi(null==e?"homestead":e)}ccipReadFetch(e,t,r){return Xi(this,void 0,void 0,(function*(){if(this.disableCcipRead||0===r.length)return null;const n=(e.from||"0x0000000000000000000000000000000000000000").toLowerCase(),i=t.toLowerCase(),o=[];for(let e=0;e<r.length;e++){const t=r[e],s=t.replace("{sender}",n).replace("{data}",i),a=t.indexOf("{data}")>=0?null:JSON.stringify({data:i,sender:n}),u=yield Wi({url:s,errorPassThrough:!0},a,(e,t)=>(e.status=t.statusCode,e));if(u.data)return u.data;const c=u.message||"unknown error";if(u.status>=400&&u.status<500)return Zi.throwError("response not found during CCIP fetch: "+c,f.b.errors.SERVER_ERROR,{url:t,errorMessage:c});o.push(c)}return Zi.throwError("error encountered during CCIP fetch: "+o.map(e=>JSON.stringify(e)).join(", "),f.b.errors.SERVER_ERROR,{urls:r,errorMessages:o})}))}_getInternalBlockNumber(e){return Xi(this,void 0,void 0,(function*(){if(yield this._ready(),e>0)for(;this._internalBlockNumber;){const t=this._internalBlockNumber;try{const r=yield t;if(no()-r.respTime<=e)return r.blockNumber;break}catch(e){if(this._internalBlockNumber===t)break}}const t=no(),r=S({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then(e=>null,e=>e)}).then(({blockNumber:e,networkError:n})=>{if(n)throw this._internalBlockNumber===r&&(this._internalBlockNumber=null),n;const i=no();return(e=y.from(e).toNumber())<this._maxInternalBlockNumber&&(e=this._maxInternalBlockNumber),this._maxInternalBlockNumber=e,this._setFastBlockNumber(e),{blockNumber:e,reqTime:t,respTime:i}});return this._internalBlockNumber=r,r.catch(e=>{this._internalBlockNumber===r&&(this._internalBlockNumber=null)}),(yield r).blockNumber}))}poll(){return Xi(this,void 0,void 0,(function*(){const e=_o++,t=[];let r=null;try{r=yield this._getInternalBlockNumber(100+this.pollingInterval/2)}catch(e){return void this.emit("error",e)}if(this._setFastBlockNumber(r),this.emit("poll",e,r),r!==this._lastBlockNumber){if(-2===this._emitted.block&&(this._emitted.block=r-1),Math.abs(this._emitted.block-r)>1e3)Zi.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${r})`),this.emit("error",Zi.makeError("network block skew detected",f.b.errors.NETWORK_ERROR,{blockNumber:r,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",r);else for(let e=this._emitted.block+1;e<=r;e++)this.emit("block",e);this._emitted.block!==r&&(this._emitted.block=r,Object.keys(this._emitted).forEach(e=>{if("block"===e)return;const t=this._emitted[e];"pending"!==t&&r-t>12&&delete this._emitted[e]})),-2===this._lastBlockNumber&&(this._lastBlockNumber=r-1),this._events.forEach(e=>{switch(e.type){case"tx":{const r=e.hash;let n=this.getTransactionReceipt(r).then(e=>e&&null!=e.blockNumber?(this._emitted["t:"+r]=e.blockNumber,this.emit(r,e),null):null).catch(e=>{this.emit("error",e)});t.push(n);break}case"filter":if(!e._inflight){e._inflight=!0;const n=e.filter;n.fromBlock=e._lastBlockNumber+1,n.toBlock=r,n.toBlock-this._maxFilterBlockRange>n.fromBlock&&(n.fromBlock=n.toBlock-this._maxFilterBlockRange);const i=this.getLogs(n).then(t=>{e._inflight=!1,0!==t.length&&t.forEach(t=>{t.blockNumber>e._lastBlockNumber&&(e._lastBlockNumber=t.blockNumber),this._emitted["b:"+t.blockHash]=t.blockNumber,this._emitted["t:"+t.transactionHash]=t.blockNumber,this.emit(n,t)})}).catch(t=>{this.emit("error",t),e._inflight=!1});t.push(i)}}}),this._lastBlockNumber=r,Promise.all(t).then(()=>{this.emit("didPoll",e)}).catch(e=>{this.emit("error",e)})}else this.emit("didPoll",e)}))}resetEventsBlock(e){this._lastBlockNumber=e-1,this.polling&&this.poll()}get network(){return this._network}detectNetwork(){return Xi(this,void 0,void 0,(function*(){return Zi.throwError("provider does not support network detection",f.b.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})}))}getNetwork(){return Xi(this,void 0,void 0,(function*(){const e=yield this._ready(),t=yield this.detectNetwork();if(e.chainId!==t.chainId){if(this.anyNetwork)return this._network=t,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",t,e),yield io(0),this._network;const r=Zi.makeError("underlying network changed",f.b.errors.NETWORK_ERROR,{event:"changed",network:e,detectedNetwork:t});throw this.emit("error",r),r}return e}))}get blockNumber(){return this._getInternalBlockNumber(100+this.pollingInterval/2).then(e=>{this._setFastBlockNumber(e)},e=>{}),null!=this._fastBlockNumber?this._fastBlockNumber:-1}get polling(){return null!=this._poller}set polling(e){e&&!this._poller?(this._poller=setInterval(()=>{this.poll()},this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout(()=>{this.poll(),this._bootstrapPoll=setTimeout(()=>{this._poller||this.poll(),this._bootstrapPoll=null},this.pollingInterval)},0))):!e&&this._poller&&(clearInterval(this._poller),this._poller=null)}get pollingInterval(){return this._pollingInterval}set pollingInterval(e){if("number"!=typeof e||e<=0||parseInt(String(e))!=e)throw new Error("invalid polling interval");this._pollingInterval=e,this._poller&&(clearInterval(this._poller),this._poller=setInterval(()=>{this.poll()},this._pollingInterval))}_getFastBlockNumber(){const e=no();return e-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=e,this._fastBlockNumberPromise=this.getBlockNumber().then(e=>((null==this._fastBlockNumber||e>this._fastBlockNumber)&&(this._fastBlockNumber=e),this._fastBlockNumber))),this._fastBlockNumberPromise}_setFastBlockNumber(e){null!=this._fastBlockNumber&&e<this._fastBlockNumber||(this._fastQueryDate=no(),(null==this._fastBlockNumber||e>this._fastBlockNumber)&&(this._fastBlockNumber=e,this._fastBlockNumberPromise=Promise.resolve(e)))}waitForTransaction(e,t,r){return Xi(this,void 0,void 0,(function*(){return this._waitForTransaction(e,null==t?1:t,r||0,null)}))}_waitForTransaction(e,t,r,n){return Xi(this,void 0,void 0,(function*(){const i=yield this.getTransactionReceipt(e);return(i?i.confirmations:0)>=t?i:new Promise((i,o)=>{const s=[];let a=!1;const u=function(){return!!a||(a=!0,s.forEach(e=>{e()}),!1)},c=e=>{e.confirmations<t||u()||i(e)};if(this.on(e,c),s.push(()=>{this.removeListener(e,c)}),n){let r=n.startBlock,i=null;const c=s=>Xi(this,void 0,void 0,(function*(){a||(yield io(1e3),this.getTransactionCount(n.from).then(l=>Xi(this,void 0,void 0,(function*(){if(!a){if(l<=n.nonce)r=s;else{{const t=yield this.getTransaction(e);if(t&&null!=t.blockNumber)return}for(null==i&&(i=r-3,i<n.startBlock&&(i=n.startBlock));i<=s;){if(a)return;const r=yield this.getBlockWithTransactions(i);for(let i=0;i<r.transactions.length;i++){const s=r.transactions[i];if(s.hash===e)return;if(s.from===n.from&&s.nonce===n.nonce){if(a)return;const r=yield this.waitForTransaction(s.hash,t);if(u())return;let i="replaced";return s.data===n.data&&s.to===n.to&&s.value.eq(n.value)?i="repriced":"0x"===s.data&&s.from===s.to&&s.value.isZero()&&(i="cancelled"),void o(Zi.makeError("transaction was replaced",f.b.errors.TRANSACTION_REPLACED,{cancelled:"replaced"===i||"cancelled"===i,reason:i,replacement:this._wrapTransaction(s),hash:e,receipt:r}))}}i++}}a||this.once("block",c)}})),e=>{a||this.once("block",c)}))}));if(a)return;this.once("block",c),s.push(()=>{this.removeListener("block",c)})}if("number"==typeof r&&r>0){const e=setTimeout(()=>{u()||o(Zi.makeError("timeout exceeded",f.b.errors.TIMEOUT,{timeout:r}))},r);e.unref&&e.unref(),s.push(()=>{clearTimeout(e)})}})}))}getBlockNumber(){return Xi(this,void 0,void 0,(function*(){return this._getInternalBlockNumber(0)}))}getGasPrice(){return Xi(this,void 0,void 0,(function*(){yield this.getNetwork();const e=yield this.perform("getGasPrice",{});try{return y.from(e)}catch(t){return Zi.throwError("bad result from backend",f.b.errors.SERVER_ERROR,{method:"getGasPrice",result:e,error:t})}}))}getBalance(e,t){return Xi(this,void 0,void 0,(function*(){yield this.getNetwork();const r=yield S({address:this._getAddress(e),blockTag:this._getBlockTag(t)}),n=yield this.perform("getBalance",r);try{return y.from(n)}catch(e){return Zi.throwError("bad result from backend",f.b.errors.SERVER_ERROR,{method:"getBalance",params:r,result:n,error:e})}}))}getTransactionCount(e,t){return Xi(this,void 0,void 0,(function*(){yield this.getNetwork();const r=yield S({address:this._getAddress(e),blockTag:this._getBlockTag(t)}),n=yield this.perform("getTransactionCount",r);try{return y.from(n).toNumber()}catch(e){return Zi.throwError("bad result from backend",f.b.errors.SERVER_ERROR,{method:"getTransactionCount",params:r,result:n,error:e})}}))}getCode(e,t){return Xi(this,void 0,void 0,(function*(){yield this.getNetwork();const r=yield S({address:this._getAddress(e),blockTag:this._getBlockTag(t)}),n=yield this.perform("getCode",r);try{return Object(c.i)(n)}catch(e){return Zi.throwError("bad result from backend",f.b.errors.SERVER_ERROR,{method:"getCode",params:r,result:n,error:e})}}))}getStorageAt(e,t,r){return Xi(this,void 0,void 0,(function*(){yield this.getNetwork();const n=yield S({address:this._getAddress(e),blockTag:this._getBlockTag(r),position:Promise.resolve(t).then(e=>Object(c.g)(e))}),i=yield this.perform("getStorageAt",n);try{return Object(c.i)(i)}catch(e){return Zi.throwError("bad result from backend",f.b.errors.SERVER_ERROR,{method:"getStorageAt",params:n,result:i,error:e})}}))}_wrapTransaction(e,t,r){if(null!=t&&32!==Object(c.d)(t))throw new Error("invalid response - sendTransaction");const n=e;return null!=t&&e.hash!==t&&Zi.throwError("Transaction hash mismatch from Provider.sendTransaction.",f.b.errors.UNKNOWN_ERROR,{expectedHash:e.hash,returnedHash:t}),n.wait=(t,n)=>Xi(this,void 0,void 0,(function*(){null==t&&(t=1),null==n&&(n=0);let i=void 0;0!==t&&null!=r&&(i={data:e.data,from:e.from,nonce:e.nonce,to:e.to,value:e.value,startBlock:r});const o=yield this._waitForTransaction(e.hash,t,n,i);return null==o&&0===t?null:(this._emitted["t:"+e.hash]=o.blockNumber,0===o.status&&Zi.throwError("transaction failed",f.b.errors.CALL_EXCEPTION,{transactionHash:e.hash,transaction:e,receipt:o}),o)})),n}sendTransaction(e){return Xi(this,void 0,void 0,(function*(){yield this.getNetwork();const t=yield Promise.resolve(e).then(e=>Object(c.i)(e)),r=this.formatter.transaction(e);null==r.confirmations&&(r.confirmations=0);const n=yield this._getInternalBlockNumber(100+2*this.pollingInterval);try{const e=yield this.perform("sendTransaction",{signedTransaction:t});return this._wrapTransaction(r,e,n)}catch(e){throw e.transaction=r,e.transactionHash=r.hash,e}}))}_getTransactionRequest(e){return Xi(this,void 0,void 0,(function*(){const t=yield e,r={};return["from","to"].forEach(e=>{null!=t[e]&&(r[e]=Promise.resolve(t[e]).then(e=>e?this._getAddress(e):null))}),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach(e=>{null!=t[e]&&(r[e]=Promise.resolve(t[e]).then(e=>e?y.from(e):null))}),["type"].forEach(e=>{null!=t[e]&&(r[e]=Promise.resolve(t[e]).then(e=>null!=e?e:null))}),t.accessList&&(r.accessList=this.formatter.accessList(t.accessList)),["data"].forEach(e=>{null!=t[e]&&(r[e]=Promise.resolve(t[e]).then(e=>e?Object(c.i)(e):null))}),this.formatter.transactionRequest(yield S(r))}))}_getFilter(e){return Xi(this,void 0,void 0,(function*(){e=yield e;const t={};return null!=e.address&&(t.address=this._getAddress(e.address)),["blockHash","topics"].forEach(r=>{null!=e[r]&&(t[r]=e[r])}),["fromBlock","toBlock"].forEach(r=>{null!=e[r]&&(t[r]=this._getBlockTag(e[r]))}),this.formatter.filter(yield S(t))}))}_call(e,t,r){return Xi(this,void 0,void 0,(function*(){r>=10&&Zi.throwError("CCIP read exceeded maximum redirections",f.b.errors.SERVER_ERROR,{redirects:r,transaction:e});const n=e.to,i=yield this.perform("call",{transaction:e,blockTag:t});if(r>=0&&"latest"===t&&null!=n&&"0x556f1830"===i.substring(0,10)&&Object(c.d)(i)%32==4)try{const o=Object(c.e)(i,4),s=Object(c.e)(o,0,32);y.from(s).eq(n)||Zi.throwError("CCIP Read sender did not match",f.b.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:i});const a=[],u=y.from(Object(c.e)(o,32,64)).toNumber(),l=y.from(Object(c.e)(o,u,u+32)).toNumber(),h=Object(c.e)(o,u+32);for(let t=0;t<l;t++){const r=fo(h,32*t);null==r&&Zi.throwError("CCIP Read contained corrupt URL string",f.b.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:i}),a.push(r)}const d=po(o,64);y.from(Object(c.e)(o,100,128)).isZero()||Zi.throwError("CCIP Read callback selector included junk",f.b.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:i});const p=Object(c.e)(o,96,100),g=po(o,128),m=yield this.ccipReadFetch(e,d,a);null==m&&Zi.throwError("CCIP Read disabled or provided no URLs",f.b.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:i});const v={to:n,data:Object(c.c)([p,vo([m,g])])};return this._call(v,t,r+1)}catch(e){if(e.code===f.b.errors.SERVER_ERROR)throw e}try{return Object(c.i)(i)}catch(r){return Zi.throwError("bad result from backend",f.b.errors.SERVER_ERROR,{method:"call",params:{transaction:e,blockTag:t},result:i,error:r})}}))}call(e,t){return Xi(this,void 0,void 0,(function*(){yield this.getNetwork();const r=yield S({transaction:this._getTransactionRequest(e),blockTag:this._getBlockTag(t),ccipReadEnabled:Promise.resolve(e.ccipReadEnabled)});return this._call(r.transaction,r.blockTag,r.ccipReadEnabled?0:-1)}))}estimateGas(e){return Xi(this,void 0,void 0,(function*(){yield this.getNetwork();const t=yield S({transaction:this._getTransactionRequest(e)}),r=yield this.perform("estimateGas",t);try{return y.from(r)}catch(e){return Zi.throwError("bad result from backend",f.b.errors.SERVER_ERROR,{method:"estimateGas",params:t,result:r,error:e})}}))}_getAddress(e){return Xi(this,void 0,void 0,(function*(){"string"!=typeof(e=yield e)&&Zi.throwArgumentError("invalid address or ENS name","name",e);const t=yield this.resolveName(e);return null==t&&Zi.throwError("ENS name not configured",f.b.errors.UNSUPPORTED_OPERATION,{operation:`resolveName(${JSON.stringify(e)})`}),t}))}_getBlock(e,t){return Xi(this,void 0,void 0,(function*(){yield this.getNetwork(),e=yield e;let r=-128;const n={includeTransactions:!!t};if(Object(c.l)(e,32))n.blockHash=e;else try{n.blockTag=yield this._getBlockTag(e),Object(c.l)(n.blockTag)&&(r=parseInt(n.blockTag.substring(2),16))}catch(t){Zi.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",e)}return Gi(()=>Xi(this,void 0,void 0,(function*(){const e=yield this.perform("getBlock",n);if(null==e)return null!=n.blockHash&&null==this._emitted["b:"+n.blockHash]||null!=n.blockTag&&r>this._emitted.block?null:void 0;if(t){let t=null;for(let r=0;r<e.transactions.length;r++){const n=e.transactions[r];if(null==n.blockNumber)n.confirmations=0;else if(null==n.confirmations){null==t&&(t=yield this._getInternalBlockNumber(100+2*this.pollingInterval));let e=t-n.blockNumber+1;e<=0&&(e=1),n.confirmations=e}}const r=this.formatter.blockWithTransactions(e);return r.transactions=r.transactions.map(e=>this._wrapTransaction(e)),r}return this.formatter.block(e)})),{oncePoll:this})}))}getBlock(e){return this._getBlock(e,!1)}getBlockWithTransactions(e){return this._getBlock(e,!0)}getTransaction(e){return Xi(this,void 0,void 0,(function*(){yield this.getNetwork(),e=yield e;const t={transactionHash:this.formatter.hash(e,!0)};return Gi(()=>Xi(this,void 0,void 0,(function*(){const r=yield this.perform("getTransaction",t);if(null==r)return null==this._emitted["t:"+e]?null:void 0;const n=this.formatter.transactionResponse(r);if(null==n.blockNumber)n.confirmations=0;else if(null==n.confirmations){let e=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-n.blockNumber+1;e<=0&&(e=1),n.confirmations=e}return this._wrapTransaction(n)})),{oncePoll:this})}))}getTransactionReceipt(e){return Xi(this,void 0,void 0,(function*(){yield this.getNetwork(),e=yield e;const t={transactionHash:this.formatter.hash(e,!0)};return Gi(()=>Xi(this,void 0,void 0,(function*(){const r=yield this.perform("getTransactionReceipt",t);if(null==r)return null==this._emitted["t:"+e]?null:void 0;if(null==r.blockHash)return;const n=this.formatter.receipt(r);if(null==n.blockNumber)n.confirmations=0;else if(null==n.confirmations){let e=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-n.blockNumber+1;e<=0&&(e=1),n.confirmations=e}return n})),{oncePoll:this})}))}getLogs(e){return Xi(this,void 0,void 0,(function*(){yield this.getNetwork();const t=yield S({filter:this._getFilter(e)}),r=yield this.perform("getLogs",t);return r.forEach(e=>{null==e.removed&&(e.removed=!1)}),Vi.arrayOf(this.formatter.filterLog.bind(this.formatter))(r)}))}getEtherPrice(){return Xi(this,void 0,void 0,(function*(){return yield this.getNetwork(),this.perform("getEtherPrice",{})}))}_getBlockTag(e){return Xi(this,void 0,void 0,(function*(){if("number"==typeof(e=yield e)&&e<0){e%1&&Zi.throwArgumentError("invalid BlockTag","blockTag",e);let t=yield this._getInternalBlockNumber(100+2*this.pollingInterval);return t+=e,t<0&&(t=0),this.formatter.blockTag(t)}return this.formatter.blockTag(e)}))}getResolver(e){return Xi(this,void 0,void 0,(function*(){let t=e;for(;;){if(""===t||"."===t)return null;if("eth"!==e&&"eth"===t)return null;const r=yield this._getResolver(t,"getResolver");if(null!=r){const n=new bo(this,r,e);return t===e||(yield n.supportsWildcard())?n:null}t=t.split(".").slice(1).join(".")}}))}_getResolver(e,t){return Xi(this,void 0,void 0,(function*(){null==t&&(t="ENS");const r=yield this.getNetwork();r.ensAddress||Zi.throwError("network does not support ENS",f.b.errors.UNSUPPORTED_OPERATION,{operation:t,network:r.name});try{const t=yield this.call({to:r.ensAddress,data:"0x0178b8bf"+Ii(e).substring(2)});return this.formatter.callAddress(t)}catch(e){}return null}))}resolveName(e){return Xi(this,void 0,void 0,(function*(){e=yield e;try{return Promise.resolve(this.formatter.address(e))}catch(t){if(Object(c.l)(e))throw t}"string"!=typeof e&&Zi.throwArgumentError("invalid ENS name","name",e);const t=yield this.getResolver(e);return t?yield t.getAddress():null}))}lookupAddress(e){return Xi(this,void 0,void 0,(function*(){e=yield e;const t=(e=this.formatter.address(e)).substring(2).toLowerCase()+".addr.reverse",r=yield this._getResolver(t,"lookupAddress");if(null==r)return null;const n=fo(yield this.call({to:r,data:"0x691f3431"+Ii(t).substring(2)}),0);return(yield this.resolveName(n))!=e?null:n}))}getAvatar(e){return Xi(this,void 0,void 0,(function*(){let t=null;if(Object(c.l)(e)){const r=this.formatter.address(e).substring(2).toLowerCase()+".addr.reverse",n=yield this._getResolver(r,"getAvatar");if(!n)return null;t=new bo(this,n,r);try{const e=yield t.getAvatar();if(e)return e.url}catch(e){if(e.code!==f.b.errors.CALL_EXCEPTION)throw e}try{const e=fo(yield this.call({to:n,data:"0x691f3431"+Ii(r).substring(2)}),0);t=yield this.getResolver(e)}catch(e){if(e.code!==f.b.errors.CALL_EXCEPTION)throw e;return null}}else if(t=yield this.getResolver(e),!t)return null;const r=yield t.getAvatar();return null==r?null:r.url}))}perform(e,t){return Zi.throwError(e+" not implemented",f.b.errors.NOT_IMPLEMENTED,{operation:e})}_startEvent(e){this.polling=this._events.filter(e=>e.pollable()).length>0}_stopEvent(e){this.polling=this._events.filter(e=>e.pollable()).length>0}_addEventListener(e,t,r){const n=new so(ro(e),t,r);return this._events.push(n),this._startEvent(n),this}on(e,t){return this._addEventListener(e,t,!1)}once(e,t){return this._addEventListener(e,t,!0)}emit(e,...t){let r=!1,n=[],i=ro(e);return this._events=this._events.filter(e=>e.tag!==i||(setTimeout(()=>{e.listener.apply(this,t)},0),r=!0,!e.once||(n.push(e),!1))),n.forEach(e=>{this._stopEvent(e)}),r}listenerCount(e){if(!e)return this._events.length;let t=ro(e);return this._events.filter(e=>e.tag===t).length}listeners(e){if(null==e)return this._events.map(e=>e.listener);let t=ro(e);return this._events.filter(e=>e.tag===t).map(e=>e.listener)}off(e,t){if(null==t)return this.removeAllListeners(e);const r=[];let n=!1,i=ro(e);return this._events=this._events.filter(e=>e.tag!==i||e.listener!=t||(!!n||(n=!0,r.push(e),!1))),r.forEach(e=>{this._stopEvent(e)}),this}removeAllListeners(e){let t=[];if(null==e)t=this._events,this._events=[];else{const r=ro(e);this._events=this._events.filter(e=>e.tag!==r||(t.push(e),!1))}return t.forEach(e=>{this._stopEvent(e)}),this}}var Ao=function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))};const Po=new f.b("providers/5.6.0"),Oo=["call","estimateGas"];function So(e,t,r){if("call"===e&&t.code===f.b.errors.SERVER_ERROR){const e=t.error;if(e&&e.message.match("reverted")&&Object(c.l)(e.data))return e.data;Po.throwError("missing revert data in call exception",f.b.errors.CALL_EXCEPTION,{error:t,data:"0x"})}let n=t.message;t.code===f.b.errors.SERVER_ERROR&&t.error&&"string"==typeof t.error.message?n=t.error.message:"string"==typeof t.body?n=t.body:"string"==typeof t.responseText&&(n=t.responseText),n=(n||"").toLowerCase();const i=r.transaction||r.signedTransaction;throw n.match(/insufficient funds|base fee exceeds gas limit/)&&Po.throwError("insufficient funds for intrinsic transaction cost",f.b.errors.INSUFFICIENT_FUNDS,{error:t,method:e,transaction:i}),n.match(/nonce too low/)&&Po.throwError("nonce has already been used",f.b.errors.NONCE_EXPIRED,{error:t,method:e,transaction:i}),n.match(/replacement transaction underpriced/)&&Po.throwError("replacement fee too low",f.b.errors.REPLACEMENT_UNDERPRICED,{error:t,method:e,transaction:i}),n.match(/only replay-protected/)&&Po.throwError("legacy pre-eip-155 transactions not supported",f.b.errors.UNSUPPORTED_OPERATION,{error:t,method:e,transaction:i}),Oo.indexOf(e)>=0&&n.match(/gas required exceeds allowance|always failing transaction|execution reverted/)&&Po.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",f.b.errors.UNPREDICTABLE_GAS_LIMIT,{error:t,method:e,transaction:i}),t}function Co(e){return new Promise((function(t){setTimeout(t,e)}))}function ko(e){if(e.error){const t=new Error(e.error.message);throw t.code=e.error.code,t.data=e.error.data,t}return e.result}function No(e){return e?e.toLowerCase():e}const To={};class Io extends Tt{constructor(e,t,r){if(Po.checkNew(new.target,Io),super(),e!==To)throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");P(this,"provider",t),null==r&&(r=0),"string"==typeof r?(P(this,"_address",this.provider.formatter.address(r)),P(this,"_index",null)):"number"==typeof r?(P(this,"_index",r),P(this,"_address",null)):Po.throwArgumentError("invalid address or index","addressOrIndex",r)}connect(e){return Po.throwError("cannot alter JSON-RPC Signer connection",f.b.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new Ro(To,this.provider,this._address||this._index)}getAddress(){return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then(e=>(e.length<=this._index&&Po.throwError("unknown account #"+this._index,f.b.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),this.provider.formatter.address(e[this._index])))}sendUncheckedTransaction(e){e=k(e);const t=this.getAddress().then(e=>(e&&(e=e.toLowerCase()),e));if(null==e.gasLimit){const r=k(e);r.from=t,e.gasLimit=this.provider.estimateGas(r)}return null!=e.to&&(e.to=Promise.resolve(e.to).then(e=>Ao(this,void 0,void 0,(function*(){if(null==e)return null;const t=yield this.provider.resolveName(e);return null==t&&Po.throwArgumentError("provided ENS name resolves to null","tx.to",e),t})))),S({tx:S(e),sender:t}).then(({tx:t,sender:r})=>{null!=t.from?t.from.toLowerCase()!==r&&Po.throwArgumentError("from address mismatch","transaction",e):t.from=r;const n=this.provider.constructor.hexlifyTransaction(t,{from:!0});return this.provider.send("eth_sendTransaction",[n]).then(e=>e,e=>So("sendTransaction",e,n))})}signTransaction(e){return Po.throwError("signing transactions is unsupported",f.b.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(e){return Ao(this,void 0,void 0,(function*(){const t=yield this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval),r=yield this.sendUncheckedTransaction(e);try{return yield Gi(()=>Ao(this,void 0,void 0,(function*(){const e=yield this.provider.getTransaction(r);if(null!==e)return this.provider._wrapTransaction(e,r,t)})),{oncePoll:this.provider})}catch(e){throw e.transactionHash=r,e}}))}signMessage(e){return Ao(this,void 0,void 0,(function*(){const t="string"==typeof e?he(e):e,r=yield this.getAddress();return yield this.provider.send("personal_sign",[Object(c.i)(t),r.toLowerCase()])}))}_legacySignMessage(e){return Ao(this,void 0,void 0,(function*(){const t="string"==typeof e?he(e):e,r=yield this.getAddress();return yield this.provider.send("eth_sign",[r.toLowerCase(),Object(c.i)(t)])}))}_signTypedData(e,t,r){return Ao(this,void 0,void 0,(function*(){const n=yield Jr.resolveNames(e,t,r,e=>this.provider.resolveName(e)),i=yield this.getAddress();return yield this.provider.send("eth_signTypedData_v4",[i.toLowerCase(),JSON.stringify(Jr.getPayload(n.domain,t,n.value))])}))}unlock(e){return Ao(this,void 0,void 0,(function*(){const t=this.provider,r=yield this.getAddress();return t.send("personal_unlockAccount",[r.toLowerCase(),e,null])}))}}class Ro extends Io{sendTransaction(e){return this.sendUncheckedTransaction(e).then(e=>({hash:e,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:t=>this.provider.waitForTransaction(e,t)}))}}const xo={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0};class Mo extends Eo{constructor(e,t){Po.checkNew(new.target,Mo);let r=t;null==r&&(r=new Promise((e,t)=>{setTimeout(()=>{this.detectNetwork().then(t=>{e(t)},e=>{t(e)})},0)})),super(r),e||(e=O(this.constructor,"defaultUrl")()),P(this,"connection","string"==typeof e?Object.freeze({url:e}):Object.freeze(k(e))),this._nextId=42}get _cache(){return null==this._eventLoopCache&&(this._eventLoopCache={}),this._eventLoopCache}static defaultUrl(){return"http://localhost:8545"}detectNetwork(){return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout(()=>{this._cache.detectNetwork=null},0)),this._cache.detectNetwork}_uncachedDetectNetwork(){return Ao(this,void 0,void 0,(function*(){yield Co(0);let e=null;try{e=yield this.send("eth_chainId",[])}catch(t){try{e=yield this.send("net_version",[])}catch(e){}}if(null!=e){const t=O(this.constructor,"getNetwork");try{return t(y.from(e).toNumber())}catch(t){return Po.throwError("could not detect network",f.b.errors.NETWORK_ERROR,{chainId:e,event:"invalidNetwork",serverError:t})}}return Po.throwError("could not detect network",f.b.errors.NETWORK_ERROR,{event:"noNetwork"})}))}getSigner(e){return new Io(To,this,e)}getUncheckedSigner(e){return this.getSigner(e).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then(e=>e.map(e=>this.formatter.address(e)))}send(e,t){const r={method:e,params:t,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:I(r),provider:this});const n=["eth_chainId","eth_blockNumber"].indexOf(e)>=0;if(n&&this._cache[e])return this._cache[e];const i=Wi(this.connection,JSON.stringify(r),ko).then(e=>(this.emit("debug",{action:"response",request:r,response:e,provider:this}),e),e=>{throw this.emit("debug",{action:"response",error:e,request:r,provider:this}),e});return n&&(this._cache[e]=i,setTimeout(()=>{this._cache[e]=null},0)),i}prepareRequest(e,t){switch(e){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[No(t.address),t.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[No(t.address),t.blockTag]];case"getCode":return["eth_getCode",[No(t.address),t.blockTag]];case"getStorageAt":return["eth_getStorageAt",[No(t.address),t.position,t.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[t.signedTransaction]];case"getBlock":return t.blockTag?["eth_getBlockByNumber",[t.blockTag,!!t.includeTransactions]]:t.blockHash?["eth_getBlockByHash",[t.blockHash,!!t.includeTransactions]]:null;case"getTransaction":return["eth_getTransactionByHash",[t.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[t.transactionHash]];case"call":return["eth_call",[O(this.constructor,"hexlifyTransaction")(t.transaction,{from:!0}),t.blockTag]];case"estimateGas":return["eth_estimateGas",[O(this.constructor,"hexlifyTransaction")(t.transaction,{from:!0})]];case"getLogs":return t.filter&&null!=t.filter.address&&(t.filter.address=No(t.filter.address)),["eth_getLogs",[t.filter]]}return null}perform(e,t){return Ao(this,void 0,void 0,(function*(){if("call"===e||"estimateGas"===e){const e=t.transaction;if(e&&null!=e.type&&y.from(e.type).isZero()&&null==e.maxFeePerGas&&null==e.maxPriorityFeePerGas){const r=yield this.getFeeData();null==r.maxFeePerGas&&null==r.maxPriorityFeePerGas&&((t=k(t)).transaction=k(e),delete t.transaction.type)}}const r=this.prepareRequest(e,t);null==r&&Po.throwError(e+" not implemented",f.b.errors.NOT_IMPLEMENTED,{operation:e});try{return yield this.send(r[0],r[1])}catch(r){return So(e,r,t)}}))}_startEvent(e){"pending"===e.tag&&this._startPending(),super._startEvent(e)}_startPending(){if(null!=this._pendingFilter)return;const e=this,t=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=t,t.then((function(r){return function n(){e.send("eth_getFilterChanges",[r]).then((function(r){if(e._pendingFilter!=t)return null;let n=Promise.resolve();return r.forEach((function(t){e._emitted["t:"+t.toLowerCase()]="pending",n=n.then((function(){return e.getTransaction(t).then((function(t){return e.emit("pending",t),null}))}))})),n.then((function(){return Co(1e3)}))})).then((function(){if(e._pendingFilter==t)return setTimeout((function(){n()}),0),null;e.send("eth_uninstallFilter",[r])})).catch(e=>{})}(),r})).catch(e=>{})}_stopEvent(e){"pending"===e.tag&&0===this.listenerCount("pending")&&(this._pendingFilter=null),super._stopEvent(e)}static hexlifyTransaction(e,t){const r=k(xo);if(t)for(const e in t)t[e]&&(r[e]=!0);C(e,r);const n={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach((function(t){if(null==e[t])return;const r=Object(c.g)(e[t]);"gasLimit"===t&&(t="gas"),n[t]=r})),["from","to","data"].forEach((function(t){null!=e[t]&&(n[t]=Object(c.i)(e[t]))})),e.accessList&&(n.accessList=$t(e.accessList)),n}}let jo=null;try{if(jo=WebSocket,null==jo)throw new Error("inject please")}catch(e){const t=new f.b("providers/5.6.0");jo=function(){t.throwError("WebSockets not supported in this environment",f.b.errors.UNSUPPORTED_OPERATION,{operation:"new WebSocket()"})}}var Do=function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))};const Bo=new f.b("providers/5.6.0");let Lo=1;class Fo extends Mo{constructor(e,t){"any"===t&&Bo.throwError("WebSocketProvider does not support 'any' network yet",f.b.errors.UNSUPPORTED_OPERATION,{operation:"network:any"}),super("string"==typeof e?e:"_websocket",t),this._pollingInterval=-1,this._wsReady=!1,P(this,"_websocket","string"==typeof e?new jo(this.connection.url):e),P(this,"_requests",{}),P(this,"_subs",{}),P(this,"_subIds",{}),P(this,"_detectNetwork",super.detectNetwork()),this.websocket.onopen=()=>{this._wsReady=!0,Object.keys(this._requests).forEach(e=>{this.websocket.send(this._requests[e].payload)})},this.websocket.onmessage=e=>{const t=e.data,r=JSON.parse(t);if(null!=r.id){const e=String(r.id),n=this._requests[e];if(delete this._requests[e],void 0!==r.result)n.callback(null,r.result),this.emit("debug",{action:"response",request:JSON.parse(n.payload),response:r.result,provider:this});else{let e=null;r.error?(e=new Error(r.error.message||"unknown error"),P(e,"code",r.error.code||null),P(e,"response",t)):e=new Error("unknown error"),n.callback(e,void 0),this.emit("debug",{action:"response",error:e,request:JSON.parse(n.payload),provider:this})}}else if("eth_subscription"===r.method){const e=this._subs[r.params.subscription];e&&e.processFunc(r.params.result)}else console.warn("this should not happen")};const r=setInterval(()=>{this.emit("poll")},1e3);r.unref&&r.unref()}get websocket(){return this._websocket}detectNetwork(){return this._detectNetwork}get pollingInterval(){return 0}resetEventsBlock(e){Bo.throwError("cannot reset events block on WebSocketProvider",f.b.errors.UNSUPPORTED_OPERATION,{operation:"resetEventBlock"})}set pollingInterval(e){Bo.throwError("cannot set polling interval on WebSocketProvider",f.b.errors.UNSUPPORTED_OPERATION,{operation:"setPollingInterval"})}poll(){return Do(this,void 0,void 0,(function*(){return null}))}set polling(e){e&&Bo.throwError("cannot set polling on WebSocketProvider",f.b.errors.UNSUPPORTED_OPERATION,{operation:"setPolling"})}send(e,t){const r=Lo++;return new Promise((n,i)=>{const o=JSON.stringify({method:e,params:t,id:r,jsonrpc:"2.0"});this.emit("debug",{action:"request",request:JSON.parse(o),provider:this}),this._requests[String(r)]={callback:function(e,t){return e?i(e):n(t)},payload:o},this._wsReady&&this.websocket.send(o)})}static defaultUrl(){return"ws://localhost:8546"}_subscribe(e,t,r){return Do(this,void 0,void 0,(function*(){let n=this._subIds[e];null==n&&(n=Promise.all(t).then(e=>this.send("eth_subscribe",e)),this._subIds[e]=n);const i=yield n;this._subs[i]={tag:e,processFunc:r}}))}_startEvent(e){switch(e.type){case"block":this._subscribe("block",["newHeads"],e=>{const t=y.from(e.number).toNumber();this._emitted.block=t,this.emit("block",t)});break;case"pending":this._subscribe("pending",["newPendingTransactions"],e=>{this.emit("pending",e)});break;case"filter":this._subscribe(e.tag,["logs",this._getFilter(e.filter)],t=>{null==t.removed&&(t.removed=!1),this.emit(e.filter,this.formatter.filterLog(t))});break;case"tx":{const t=e=>{const t=e.hash;this.getTransactionReceipt(t).then(e=>{e&&this.emit(t,e)})};t(e),this._subscribe("tx",["newHeads"],e=>{this._events.filter(e=>"tx"===e.type).forEach(t)});break}case"debug":case"poll":case"willPoll":case"didPoll":case"error":break;default:console.log("unhandled:",e)}}_stopEvent(e){let t=e.tag;if("tx"===e.type){if(this._events.filter(e=>"tx"===e.type).length)return;t="tx"}else if(this.listenerCount(e.event))return;const r=this._subIds[t];r&&(delete this._subIds[t],r.then(e=>{this._subs[e]&&(delete this._subs[e],this.send("eth_unsubscribe",[e]))}))}destroy(){return Do(this,void 0,void 0,(function*(){this.websocket.readyState===jo.CONNECTING&&(yield new Promise(e=>{this.websocket.onopen=function(){e(!0)},this.websocket.onerror=function(){e(!1)}})),this.websocket.close(1e3)}))}}var Uo=function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))};const qo=new f.b("providers/5.6.0");class Wo extends Mo{detectNetwork(){const e=Object.create(null,{detectNetwork:{get:()=>super.detectNetwork}});return Uo(this,void 0,void 0,(function*(){let t=this.network;return null==t&&(t=yield e.detectNetwork.call(this),t||qo.throwError("no network detected",f.b.errors.UNKNOWN_ERROR,{}),null==this._network&&(P(this,"_network",t),this.emit("network",t,null))),t}))}}class Go extends Wo{constructor(e,t){qo.checkAbstract(new.target,Go),e=O(new.target,"getNetwork")(e),t=O(new.target,"getApiKey")(t);super(O(new.target,"getUrl")(e,t),e),"string"==typeof t?P(this,"apiKey",t):null!=t&&Object.keys(t).forEach(e=>{P(this,e,t[e])})}_startPending(){qo.warn("WARNING: API provider does not support pending filters")}isCommunityResource(){return!1}getSigner(e){return qo.throwError("API provider does not support signing",f.b.errors.UNSUPPORTED_OPERATION,{operation:"getSigner"})}listAccounts(){return Promise.resolve([])}static getApiKey(e){return e}static getUrl(e,t){return qo.throwError("not implemented; sub-classes must override getUrl",f.b.errors.NOT_IMPLEMENTED,{operation:"getUrl"})}}const Ho=new f.b("providers/5.6.0"),Ko="_gg7wSSi0KMBsdKnGVfHDueq6xMB9EkC";class zo extends Fo{constructor(e,t){const r=new Vo(e,t);super(r.connection.url.replace(/^http/i,"ws").replace(".alchemyapi.",".ws.alchemyapi."),r.network),P(this,"apiKey",r.apiKey)}isCommunityResource(){return this.apiKey===Ko}}class Vo extends Go{static getWebSocketProvider(e,t){return new zo(e,t)}static getApiKey(e){return null==e?Ko:(e&&"string"!=typeof e&&Ho.throwArgumentError("invalid apiKey","apiKey",e),e)}static getUrl(e,t){let r=null;switch(e.name){case"homestead":r="eth-mainnet.alchemyapi.io/v2/";break;case"ropsten":r="eth-ropsten.alchemyapi.io/v2/";break;case"rinkeby":r="eth-rinkeby.alchemyapi.io/v2/";break;case"goerli":r="eth-goerli.alchemyapi.io/v2/";break;case"kovan":r="eth-kovan.alchemyapi.io/v2/";break;case"matic":r="polygon-mainnet.g.alchemy.com/v2/";break;case"maticmum":r="polygon-mumbai.g.alchemy.com/v2/";break;case"arbitrum":r="arb-mainnet.g.alchemy.com/v2/";break;case"arbitrum-rinkeby":r="arb-rinkeby.g.alchemy.com/v2/";break;case"optimism":r="opt-mainnet.g.alchemy.com/v2/";break;case"optimism-kovan":r="opt-kovan.g.alchemy.com/v2/";break;default:Ho.throwArgumentError("unsupported network","network",arguments[0])}return{allowGzip:!0,url:"https://"+r+t,throttleCallback:(e,r)=>(t===Ko&&Qi(),Promise.resolve(!0))}}isCommunityResource(){return this.apiKey===Ko}}var Jo=function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))};const $o=new f.b("providers/5.6.0");class Yo extends Go{static getApiKey(e){return null!=e&&$o.throwArgumentError("apiKey not supported for cloudflare","apiKey",e),null}static getUrl(e,t){let r=null;switch(e.name){case"homestead":r="https://cloudflare-eth.com/";break;default:$o.throwArgumentError("unsupported network","network",arguments[0])}return r}perform(e,t){const r=Object.create(null,{perform:{get:()=>super.perform}});return Jo(this,void 0,void 0,(function*(){if("getBlockNumber"===e){return(yield r.perform.call(this,"getBlock",{blockTag:"latest"})).number}return r.perform.call(this,e,t)}))}}var Qo=function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))};const Xo=new f.b("providers/5.6.0");function Zo(e){const t={};for(let r in e){if(null==e[r])continue;let n=e[r];"type"===r&&0===n||(n={type:!0,gasLimit:!0,gasPrice:!0,maxFeePerGs:!0,maxPriorityFeePerGas:!0,nonce:!0,value:!0}[r]?Object(c.g)(Object(c.i)(n)):"accessList"===r?"["+$t(n).map(e=>`{address:"${e.address}",storageKeys:["${e.storageKeys.join('","')}"]}`).join(",")+"]":Object(c.i)(n),t[r]=n)}return t}function es(e){if(0==e.status&&("No records found"===e.message||"No transactions found"===e.message))return e.result;if(1!=e.status||"OK"!=e.message){const t=new Error("invalid response");throw t.result=JSON.stringify(e),(e.result||"").toLowerCase().indexOf("rate limit")>=0&&(t.throttleRetry=!0),t}return e.result}function ts(e){if(e&&0==e.status&&"NOTOK"==e.message&&(e.result||"").toLowerCase().indexOf("rate limit")>=0){const t=new Error("throttled response");throw t.result=JSON.stringify(e),t.throttleRetry=!0,t}if("2.0"!=e.jsonrpc){const t=new Error("invalid response");throw t.result=JSON.stringify(e),t}if(e.error){const t=new Error(e.error.message||"unknown error");throw e.error.code&&(t.code=e.error.code),e.error.data&&(t.data=e.error.data),t}return e.result}function rs(e){if("pending"===e)throw new Error("pending not supported");return"latest"===e?e:parseInt(e.substring(2),16)}function ns(e,t,r){if("call"===e&&t.code===f.b.errors.SERVER_ERROR){const e=t.error;if(e&&(e.message.match(/reverted/i)||e.message.match(/VM execution error/i))){let r=e.data;if(r&&(r="0x"+r.replace(/^.*0x/i,"")),Object(c.l)(r))return r;Xo.throwError("missing revert data in call exception",f.b.errors.CALL_EXCEPTION,{error:t,data:"0x"})}}let n=t.message;throw t.code===f.b.errors.SERVER_ERROR&&(t.error&&"string"==typeof t.error.message?n=t.error.message:"string"==typeof t.body?n=t.body:"string"==typeof t.responseText&&(n=t.responseText)),n=(n||"").toLowerCase(),n.match(/insufficient funds/)&&Xo.throwError("insufficient funds for intrinsic transaction cost",f.b.errors.INSUFFICIENT_FUNDS,{error:t,method:e,transaction:r}),n.match(/same hash was already imported|transaction nonce is too low|nonce too low/)&&Xo.throwError("nonce has already been used",f.b.errors.NONCE_EXPIRED,{error:t,method:e,transaction:r}),n.match(/another transaction with same nonce/)&&Xo.throwError("replacement fee too low",f.b.errors.REPLACEMENT_UNDERPRICED,{error:t,method:e,transaction:r}),n.match(/execution failed due to an exception|execution reverted/)&&Xo.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",f.b.errors.UNPREDICTABLE_GAS_LIMIT,{error:t,method:e,transaction:r}),t}class is extends Eo{constructor(e,t){Xo.checkNew(new.target,is),super(e),P(this,"baseUrl",this.getBaseUrl()),P(this,"apiKey",t||"9D13ZE7XSBTJ94N9BNJ2MA33VMAY2YPIRB")}getBaseUrl(){switch(this.network?this.network.name:"invalid"){case"homestead":return"https://api.etherscan.io";case"ropsten":return"https://api-ropsten.etherscan.io";case"rinkeby":return"https://api-rinkeby.etherscan.io";case"kovan":return"https://api-kovan.etherscan.io";case"goerli":return"https://api-goerli.etherscan.io"}return Xo.throwArgumentError("unsupported network","network",name)}getUrl(e,t){const r=Object.keys(t).reduce((e,r)=>{const n=t[r];return null!=n&&(e+=`&${r}=${n}`),e},""),n=this.apiKey?"&apikey="+this.apiKey:"";return`${this.baseUrl}/api?module=${e}${r}${n}`}getPostUrl(){return this.baseUrl+"/api"}getPostData(e,t){return t.module=e,t.apikey=this.apiKey,t}fetch(e,t,r){return Qo(this,void 0,void 0,(function*(){const n=r?this.getPostUrl():this.getUrl(e,t),i=r?this.getPostData(e,t):null,o="proxy"===e?ts:es;this.emit("debug",{action:"request",request:n,provider:this});const s={url:n,throttleSlotInterval:1e3,throttleCallback:(e,t)=>(this.isCommunityResource()&&Qi(),Promise.resolve(!0))};let a=null;i&&(s.headers={"content-type":"application/x-www-form-urlencoded; charset=UTF-8"},a=Object.keys(i).map(e=>`${e}=${i[e]}`).join("&"));const u=yield Wi(s,a,o||ts);return this.emit("debug",{action:"response",request:n,response:I(u),provider:this}),u}))}detectNetwork(){return Qo(this,void 0,void 0,(function*(){return this.network}))}perform(e,t){const r=Object.create(null,{perform:{get:()=>super.perform}});return Qo(this,void 0,void 0,(function*(){switch(e){case"getBlockNumber":return this.fetch("proxy",{action:"eth_blockNumber"});case"getGasPrice":return this.fetch("proxy",{action:"eth_gasPrice"});case"getBalance":return this.fetch("account",{action:"balance",address:t.address,tag:t.blockTag});case"getTransactionCount":return this.fetch("proxy",{action:"eth_getTransactionCount",address:t.address,tag:t.blockTag});case"getCode":return this.fetch("proxy",{action:"eth_getCode",address:t.address,tag:t.blockTag});case"getStorageAt":return this.fetch("proxy",{action:"eth_getStorageAt",address:t.address,position:t.position,tag:t.blockTag});case"sendTransaction":return this.fetch("proxy",{action:"eth_sendRawTransaction",hex:t.signedTransaction},!0).catch(e=>ns("sendTransaction",e,t.signedTransaction));case"getBlock":if(t.blockTag)return this.fetch("proxy",{action:"eth_getBlockByNumber",tag:t.blockTag,boolean:t.includeTransactions?"true":"false"});throw new Error("getBlock by blockHash not implemented");case"getTransaction":return this.fetch("proxy",{action:"eth_getTransactionByHash",txhash:t.transactionHash});case"getTransactionReceipt":return this.fetch("proxy",{action:"eth_getTransactionReceipt",txhash:t.transactionHash});case"call":{if("latest"!==t.blockTag)throw new Error("EtherscanProvider does not support blockTag for call");const e=Zo(t.transaction);e.module="proxy",e.action="eth_call";try{return yield this.fetch("proxy",e,!0)}catch(e){return ns("call",e,t.transaction)}}case"estimateGas":{const e=Zo(t.transaction);e.module="proxy",e.action="eth_estimateGas";try{return yield this.fetch("proxy",e,!0)}catch(e){return ns("estimateGas",e,t.transaction)}}case"getLogs":{const e={action:"getLogs"};if(t.filter.fromBlock&&(e.fromBlock=rs(t.filter.fromBlock)),t.filter.toBlock&&(e.toBlock=rs(t.filter.toBlock)),t.filter.address&&(e.address=t.filter.address),t.filter.topics&&t.filter.topics.length>0&&(t.filter.topics.length>1&&Xo.throwError("unsupported topic count",f.b.errors.UNSUPPORTED_OPERATION,{topics:t.filter.topics}),1===t.filter.topics.length)){const r=t.filter.topics[0];"string"==typeof r&&66===r.length||Xo.throwError("unsupported topic format",f.b.errors.UNSUPPORTED_OPERATION,{topic0:r}),e.topic0=r}const r=yield this.fetch("logs",e);let n={};for(let e=0;e<r.length;e++){const t=r[e];if(null==t.blockHash){if(null==n[t.blockNumber]){const e=yield this.getBlock(t.blockNumber);e&&(n[t.blockNumber]=e.hash)}t.blockHash=n[t.blockNumber]}}return r}case"getEtherPrice":return"homestead"!==this.network.name?0:parseFloat((yield this.fetch("stats",{action:"ethprice"})).ethusd)}return r.perform.call(this,e,t)}))}getHistory(e,t,r){return Qo(this,void 0,void 0,(function*(){const n={action:"txlist",address:yield this.resolveName(e),startblock:null==t?0:t,endblock:null==r?99999999:r,sort:"asc"};return(yield this.fetch("account",n)).map(e=>{["contractAddress","to"].forEach((function(t){""==e[t]&&delete e[t]})),null==e.creates&&null!=e.contractAddress&&(e.creates=e.contractAddress);const t=this.formatter.transactionResponse(e);return e.timeStamp&&(t.timestamp=parseInt(e.timeStamp)),t})}))}isCommunityResource(){return"9D13ZE7XSBTJ94N9BNJ2MA33VMAY2YPIRB"===this.apiKey}}function os(e){for(let t=(e=e.slice()).length-1;t>0;t--){const r=Math.floor(Math.random()*(t+1)),n=e[t];e[t]=e[r],e[r]=n}return e}var ss=function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))};const as=new f.b("providers/5.6.0");function us(){return(new Date).getTime()}function cs(e){let t=null;for(let r=0;r<e.length;r++){const n=e[r];if(null==n)return null;t?t.name===n.name&&t.chainId===n.chainId&&(t.ensAddress===n.ensAddress||null==t.ensAddress&&null==n.ensAddress)||as.throwArgumentError("provider mismatch","networks",e):t=n}return t}function ls(e,t){e=e.slice().sort();const r=Math.floor(e.length/2);if(e.length%2)return e[r];const n=e[r-1],i=e[r];return null!=t&&Math.abs(n-i)>t?null:(n+i)/2}function hs(e){if(null===e)return"null";if("number"==typeof e||"boolean"==typeof e)return JSON.stringify(e);if("string"==typeof e)return e;if(y.isBigNumber(e))return e.toString();if(Array.isArray(e))return JSON.stringify(e.map(e=>hs(e)));if("object"==typeof e){const t=Object.keys(e);return t.sort(),"{"+t.map(t=>{let r=e[t];return r="function"==typeof r?"[function]":hs(r),JSON.stringify(t)+":"+r}).join(",")+"}"}throw new Error("unknown value type: "+typeof e)}let fs=1;function ds(e){let t=null,r=null,n=new Promise(n=>{t=function(){r&&(clearTimeout(r),r=null),n()},r=setTimeout(t,e)});return{cancel:t,getPromise:function(){return n},wait:e=>(n=n.then(e),n)}}const ps=[f.b.errors.CALL_EXCEPTION,f.b.errors.INSUFFICIENT_FUNDS,f.b.errors.NONCE_EXPIRED,f.b.errors.REPLACEMENT_UNDERPRICED,f.b.errors.UNPREDICTABLE_GAS_LIMIT],gs=["address","args","errorArgs","errorSignature","method","transaction"];function ms(e,t){const r={weight:e.weight};return Object.defineProperty(r,"provider",{get:()=>e.provider}),e.start&&(r.start=e.start),t&&(r.duration=t-e.start),e.done&&(e.error?r.error=e.error:r.result=e.result||null),r}function ys(e,t,r){let n=hs;switch(t){case"getBlockNumber":return function(t){const r=t.map(e=>e.result);let n=ls(t.map(e=>e.result),2);if(null!=n)return n=Math.ceil(n),r.indexOf(n+1)>=0&&n++,n>=e._highestBlockNumber&&(e._highestBlockNumber=n),e._highestBlockNumber};case"getGasPrice":return function(e){const t=e.map(e=>e.result);return t.sort(),t[Math.floor(t.length/2)]};case"getEtherPrice":return function(e){return ls(e.map(e=>e.result))};case"getBalance":case"getTransactionCount":case"getCode":case"getStorageAt":case"call":case"estimateGas":case"getLogs":break;case"getTransaction":case"getTransactionReceipt":n=function(e){return null==e?null:((e=k(e)).confirmations=-1,hs(e))};break;case"getBlock":n=r.includeTransactions?function(e){return null==e?null:((e=k(e)).transactions=e.transactions.map(e=>((e=k(e)).confirmations=-1,e)),hs(e))}:function(e){return null==e?null:hs(e)};break;default:throw new Error("unknown method: "+t)}return function(e,t){return function(r){const n={};r.forEach(t=>{const r=e(t.result);n[r]||(n[r]={count:0,result:t.result}),n[r].count++});const i=Object.keys(n);for(let e=0;e<i.length;e++){const r=n[i[e]];if(r.count>=t)return r.result}}}(n,e.quorum)}function vs(e,t){return ss(this,void 0,void 0,(function*(){const r=e.provider;return null!=r.blockNumber&&r.blockNumber>=t||-1===t?r:Gi(()=>new Promise((n,i)=>{setTimeout((function(){return r.blockNumber>=t?n(r):e.cancelled?n(null):n(void 0)}),0)}),{oncePoll:r})}))}function bs(e,t,r,n){return ss(this,void 0,void 0,(function*(){let i=e.provider;switch(r){case"getBlockNumber":case"getGasPrice":return i[r]();case"getEtherPrice":if(i.getEtherPrice)return i.getEtherPrice();break;case"getBalance":case"getTransactionCount":case"getCode":return n.blockTag&&Object(c.l)(n.blockTag)&&(i=yield vs(e,t)),i[r](n.address,n.blockTag||"latest");case"getStorageAt":return n.blockTag&&Object(c.l)(n.blockTag)&&(i=yield vs(e,t)),i.getStorageAt(n.address,n.position,n.blockTag||"latest");case"getBlock":return n.blockTag&&Object(c.l)(n.blockTag)&&(i=yield vs(e,t)),i[n.includeTransactions?"getBlockWithTransactions":"getBlock"](n.blockTag||n.blockHash);case"call":case"estimateGas":return n.blockTag&&Object(c.l)(n.blockTag)&&(i=yield vs(e,t)),i[r](n.transaction);case"getTransaction":case"getTransactionReceipt":return i[r](n.transactionHash);case"getLogs":{let r=n.filter;return(r.fromBlock&&Object(c.l)(r.fromBlock)||r.toBlock&&Object(c.l)(r.toBlock))&&(i=yield vs(e,t)),i.getLogs(r)}}return as.throwError("unknown method error",f.b.errors.UNKNOWN_ERROR,{method:r,params:n})}))}class ws extends Eo{constructor(e,t){as.checkNew(new.target,ws),0===e.length&&as.throwArgumentError("missing providers","providers",e);const r=e.map((e,t)=>{if(Ot.isProvider(e)){const t=$i(e)?2e3:750,r=1;return Object.freeze({provider:e,weight:1,stallTimeout:t,priority:r})}const r=k(e);null==r.priority&&(r.priority=1),null==r.stallTimeout&&(r.stallTimeout=$i(e)?2e3:750),null==r.weight&&(r.weight=1);const n=r.weight;return(n%1||n>512||n<1)&&as.throwArgumentError("invalid weight; must be integer in [1, 512]",`providers[${t}].weight`,n),Object.freeze(r)}),n=r.reduce((e,t)=>e+t.weight,0);null==t?t=n/2:t>n&&as.throwArgumentError("quorum will always fail; larger than total weight","quorum",t);let i=cs(r.map(e=>e.provider.network));null==i&&(i=new Promise((e,t)=>{setTimeout(()=>{this.detectNetwork().then(e,t)},0)})),super(i),P(this,"providerConfigs",Object.freeze(r)),P(this,"quorum",t),this._highestBlockNumber=-1}detectNetwork(){return ss(this,void 0,void 0,(function*(){return cs(yield Promise.all(this.providerConfigs.map(e=>e.provider.getNetwork())))}))}perform(e,t){return ss(this,void 0,void 0,(function*(){if("sendTransaction"===e){const e=yield Promise.all(this.providerConfigs.map(e=>e.provider.sendTransaction(t.signedTransaction).then(e=>e.hash,e=>e)));for(let t=0;t<e.length;t++){const r=e[t];if("string"==typeof r)return r}throw e[0]}-1===this._highestBlockNumber&&"getBlockNumber"!==e&&(yield this.getBlockNumber());const r=ys(this,e,t),n=os(this.providerConfigs.map(k));n.sort((e,t)=>e.priority-t.priority);const i=this._highestBlockNumber;let o=0,s=!0;for(;;){const a=us();let u=n.filter(e=>e.runner&&a-e.start<e.stallTimeout).reduce((e,t)=>e+t.weight,0);for(;u<this.quorum&&o<n.length;){const r=n[o++],s=fs++;r.start=us(),r.staller=ds(r.stallTimeout),r.staller.wait(()=>{r.staller=null}),r.runner=bs(r,i,e,t).then(n=>{r.done=!0,r.result=n,this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:s,backend:ms(r,us()),request:{method:e,params:I(t)},provider:this})},n=>{r.done=!0,r.error=n,this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:s,backend:ms(r,us()),request:{method:e,params:I(t)},provider:this})}),this.listenerCount("debug")&&this.emit("debug",{action:"request",rid:s,backend:ms(r,null),request:{method:e,params:I(t)},provider:this}),u+=r.weight}const c=[];n.forEach(e=>{!e.done&&e.runner&&(c.push(e.runner),e.staller&&c.push(e.staller.getPromise()))}),c.length&&(yield Promise.race(c));const l=n.filter(e=>e.done&&null==e.error);if(l.length>=this.quorum){const e=r(l);if(void 0!==e)return n.forEach(e=>{e.staller&&e.staller.cancel(),e.cancelled=!0}),e;s||(yield ds(100).getPromise()),s=!1}const h=n.reduce((e,t)=>{if(!t.done||null==t.error)return e;const r=t.error.code;return ps.indexOf(r)>=0&&(e[r]||(e[r]={error:t.error,weight:0}),e[r].weight+=t.weight),e},{});if(Object.keys(h).forEach(e=>{const t=h[e];if(t.weight<this.quorum)return;n.forEach(e=>{e.staller&&e.staller.cancel(),e.cancelled=!0});const r=t.error,i={};gs.forEach(e=>{null!=r[e]&&(i[e]=r[e])}),as.throwError(r.reason||r.message,e,i)}),0===n.filter(e=>!e.done).length)break}return n.forEach(e=>{e.staller&&e.staller.cancel(),e.cancelled=!0}),as.throwError("failed to meet quorum",f.b.errors.SERVER_ERROR,{method:e,params:t,results:n.map(e=>ms(e)),provider:this})}))}}const _s=null,Es=new f.b("providers/5.6.0"),As="84842078b09946638c03157f83405213";class Ps extends Fo{constructor(e,t){const r=new Os(e,t),n=r.connection;n.password&&Es.throwError("INFURA WebSocket project secrets unsupported",f.b.errors.UNSUPPORTED_OPERATION,{operation:"InfuraProvider.getWebSocketProvider()"});super(n.url.replace(/^http/i,"ws").replace("/v3/","/ws/v3/"),e),P(this,"apiKey",r.projectId),P(this,"projectId",r.projectId),P(this,"projectSecret",r.projectSecret)}isCommunityResource(){return this.projectId===As}}class Os extends Go{static getWebSocketProvider(e,t){return new Ps(e,t)}static getApiKey(e){const t={apiKey:As,projectId:As,projectSecret:null};return null==e||("string"==typeof e?t.projectId=e:null!=e.projectSecret?(Es.assertArgument("string"==typeof e.projectId,"projectSecret requires a projectId","projectId",e.projectId),Es.assertArgument("string"==typeof e.projectSecret,"invalid projectSecret","projectSecret","[REDACTED]"),t.projectId=e.projectId,t.projectSecret=e.projectSecret):e.projectId&&(t.projectId=e.projectId),t.apiKey=t.projectId),t}static getUrl(e,t){let r=null;switch(e?e.name:"unknown"){case"homestead":r="mainnet.infura.io";break;case"ropsten":r="ropsten.infura.io";break;case"rinkeby":r="rinkeby.infura.io";break;case"kovan":r="kovan.infura.io";break;case"goerli":r="goerli.infura.io";break;case"matic":r="polygon-mainnet.infura.io";break;case"maticmum":r="polygon-mumbai.infura.io";break;case"optimism":r="optimism-mainnet.infura.io";break;case"optimism-kovan":r="optimism-kovan.infura.io";break;case"arbitrum":r="arbitrum-mainnet.infura.io";break;case"arbitrum-rinkeby":r="arbitrum-rinkeby.infura.io";break;default:Es.throwError("unsupported network",f.b.errors.INVALID_ARGUMENT,{argument:"network",value:e})}const n={allowGzip:!0,url:"https://"+r+"/v3/"+t.projectId,throttleCallback:(e,r)=>(t.projectId===As&&Qi(),Promise.resolve(!0))};return null!=t.projectSecret&&(n.user="",n.password=t.projectSecret),n}isCommunityResource(){return this.projectId===As}}class Ss extends Mo{send(e,t){const r={method:e,params:t,id:this._nextId++,jsonrpc:"2.0"};null==this._pendingBatch&&(this._pendingBatch=[]);const n={request:r,resolve:null,reject:null},i=new Promise((e,t)=>{n.resolve=e,n.reject=t});return this._pendingBatch.push(n),this._pendingBatchAggregator||(this._pendingBatchAggregator=setTimeout(()=>{const e=this._pendingBatch;this._pendingBatch=null,this._pendingBatchAggregator=null;const t=e.map(e=>e.request);return this.emit("debug",{action:"requestBatch",request:I(t),provider:this}),Wi(this.connection,JSON.stringify(t)).then(r=>{this.emit("debug",{action:"response",request:t,response:r,provider:this}),e.forEach((e,t)=>{const n=r[t];if(n.error){const t=new Error(n.error.message);t.code=n.error.code,t.data=n.error.data,e.reject(t)}else e.resolve(n.result)})},r=>{this.emit("debug",{action:"response",error:r,request:t,provider:this}),e.forEach(e=>{e.reject(r)})})},10)),i}}const Cs=new f.b("providers/5.6.0");class ks extends Go{static getApiKey(e){return e&&"string"!=typeof e&&Cs.throwArgumentError("invalid apiKey","apiKey",e),e||"ETHERS_JS_SHARED"}static getUrl(e,t){Cs.warn("NodeSmith will be discontinued on 2019-12-20; please migrate to another platform.");let r=null;switch(e.name){case"homestead":r="https://ethereum.api.nodesmith.io/v1/mainnet/jsonrpc";break;case"ropsten":r="https://ethereum.api.nodesmith.io/v1/ropsten/jsonrpc";break;case"rinkeby":r="https://ethereum.api.nodesmith.io/v1/rinkeby/jsonrpc";break;case"goerli":r="https://ethereum.api.nodesmith.io/v1/goerli/jsonrpc";break;case"kovan":r="https://ethereum.api.nodesmith.io/v1/kovan/jsonrpc";break;default:Cs.throwArgumentError("unsupported network","network",arguments[0])}return r+"?apiKey="+t}}const Ns=new f.b("providers/5.6.0"),Ts={homestead:"6004bcd10040261633ade990",ropsten:"6004bd4d0040261633ade991",rinkeby:"6004bda20040261633ade994",goerli:"6004bd860040261633ade992"};class Is extends Go{constructor(e,t){if(null==t){const r=O(new.target,"getNetwork")(e);if(r){const e=Ts[r.name];e&&(t={applicationId:e,loadBalancer:!0})}null==t&&Ns.throwError("unsupported network",f.b.errors.INVALID_ARGUMENT,{argument:"network",value:e})}super(e,t)}static getApiKey(e){null==e&&Ns.throwArgumentError("PocketProvider.getApiKey does not support null apiKey","apiKey",e);const t={applicationId:null,loadBalancer:!1,applicationSecretKey:null};return"string"==typeof e?t.applicationId=e:null!=e.applicationSecretKey?(Ns.assertArgument("string"==typeof e.applicationId,"applicationSecretKey requires an applicationId","applicationId",e.applicationId),Ns.assertArgument("string"==typeof e.applicationSecretKey,"invalid applicationSecretKey","applicationSecretKey","[REDACTED]"),t.applicationId=e.applicationId,t.applicationSecretKey=e.applicationSecretKey,t.loadBalancer=!!e.loadBalancer):e.applicationId?(Ns.assertArgument("string"==typeof e.applicationId,"apiKey.applicationId must be a string","apiKey.applicationId",e.applicationId),t.applicationId=e.applicationId,t.loadBalancer=!!e.loadBalancer):Ns.throwArgumentError("unsupported PocketProvider apiKey","apiKey",e),t}static getUrl(e,t){let r=null;switch(e?e.name:"unknown"){case"homestead":r="eth-mainnet.gateway.pokt.network";break;case"ropsten":r="eth-ropsten.gateway.pokt.network";break;case"rinkeby":r="eth-rinkeby.gateway.pokt.network";break;case"goerli":r="eth-goerli.gateway.pokt.network";break;default:Ns.throwError("unsupported network",f.b.errors.INVALID_ARGUMENT,{argument:"network",value:e})}let n=null;n=t.loadBalancer?`https://${r}/v1/lb/${t.applicationId}`:`https://${r}/v1/${t.applicationId}`;const i={url:n,headers:{}};return null!=t.applicationSecretKey&&(i.user="",i.password=t.applicationSecretKey),i}isCommunityResource(){return this.applicationId===Ts[this.network.name]}}const Rs=new f.b("providers/5.6.0");let xs=1;function Ms(e,t){const r="Web3LegacyFetcher";return function(e,n){const i={method:e,params:n,id:xs++,jsonrpc:"2.0"};return new Promise((e,n)=>{this.emit("debug",{action:"request",fetcher:r,request:I(i),provider:this}),t(i,(t,o)=>{if(t)return this.emit("debug",{action:"response",fetcher:r,error:t,request:i,provider:this}),n(t);if(this.emit("debug",{action:"response",fetcher:r,request:i,response:o,provider:this}),o.error){const e=new Error(o.error.message);return e.code=o.error.code,e.data=o.error.data,n(e)}e(o.result)})})}}class js extends Mo{constructor(e,t){Rs.checkNew(new.target,js),null==e&&Rs.throwArgumentError("missing provider","provider",e);let r=null,n=null,i=null;"function"==typeof e?(r="unknown:",n=e):(r=e.host||e.path||"",!r&&e.isMetaMask&&(r="metamask"),i=e,e.request?(""===r&&(r="eip-1193:"),n=function(e){return function(t,r){null==r&&(r=[]);const n={method:t,params:r};return this.emit("debug",{action:"request",fetcher:"Eip1193Fetcher",request:I(n),provider:this}),e.request(n).then(e=>(this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,response:e,provider:this}),e),e=>{throw this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,error:e,provider:this}),e})}}(e)):e.sendAsync?n=Ms(0,e.sendAsync.bind(e)):e.send?n=Ms(0,e.send.bind(e)):Rs.throwArgumentError("unsupported provider","provider",e),r||(r="unknown:")),super(r,t),P(this,"jsonRpcFetchFunc",n),P(this,"provider",i)}send(e,t){return this.jsonRpcFetchFunc(e,t)}}const Ds=new f.b("providers/5.6.0");function Bs(e,t){if(null==e&&(e="homestead"),"string"==typeof e){const t=e.match(/^(ws|http)s?:/i);if(t)switch(t[1]){case"http":return new Mo(e);case"ws":return new Fo(e);default:Ds.throwArgumentError("unsupported URL scheme","network",e)}}const r=gi(e);return r&&r._defaultProvider||Ds.throwError("unsupported getDefaultProvider network",f.b.errors.NETWORK_ERROR,{operation:"getDefaultProvider",network:e}),r._defaultProvider({FallbackProvider:ws,AlchemyProvider:Vo,CloudflareProvider:Yo,EtherscanProvider:is,InfuraProvider:Os,JsonRpcProvider:Mo,NodesmithProvider:ks,PocketProvider:Is,Web3Provider:js,IpcProvider:_s},t)}const Ls=new RegExp("^bytes([0-9]+)$"),Fs=new RegExp("^(u?int)([0-9]*)$"),Us=new RegExp("^(.*)\\[([0-9]*)\\]$"),qs=new f.b("solidity/5.6.0");function Ws(e,t){e.length!=t.length&&qs.throwArgumentError("wrong number of values; expected ${ types.length }","values",t);const r=[];return e.forEach((function(e,n){r.push(function e(t,r,n){switch(t){case"address":return n?Object(c.p)(r,32):Object(c.a)(r);case"string":return he(r);case"bytes":return Object(c.a)(r);case"bool":return r=r?"0x01":"0x00",n?Object(c.p)(r,32):Object(c.a)(r)}let i=t.match(Fs);if(i){let e=parseInt(i[2]||"256");return(i[2]&&String(e)!==i[2]||e%8!=0||0===e||e>256)&&qs.throwArgumentError("invalid number type","type",t),n&&(e=256),r=y.from(r).toTwos(e),Object(c.p)(r,e/8)}if(i=t.match(Ls),i){const e=parseInt(i[1]);return(String(e)!==i[1]||0===e||e>32)&&qs.throwArgumentError("invalid bytes type","type",t),Object(c.a)(r).byteLength!==e&&qs.throwArgumentError("invalid value for "+t,"value",r),n?Object(c.a)((r+"0000000000000000000000000000000000000000000000000000000000000000").substring(0,66)):r}if(i=t.match(Us),i&&Array.isArray(r)){const n=i[1];parseInt(i[2]||String(r.length))!=r.length&&qs.throwArgumentError("invalid array length for "+t,"value",r);const o=[];return r.forEach((function(t){o.push(e(n,t,!0))})),Object(c.b)(o)}return qs.throwArgumentError("invalid type","type",t)}(e,t[n]))})),Object(c.i)(Object(c.b)(r))}function Gs(e,t){return U(Ws(e,t))}function Hs(e,t){return rn(Ws(e,t))}function Ks(e){const t=he(e);if(t.length>31)throw new Error("bytes32 string must be less than 32 bytes");return Object(c.i)(Object(c.b)([t,si]).slice(0,32))}function zs(e){const t=Object(c.a)(e);if(32!==t.length)throw new Error("invalid bytes32 - not 32 bytes long");if(0!==t[31])throw new Error("invalid bytes32 string - no null terminator");let r=31;for(;0===t[r-1];)r--;return ge(t.slice(0,r))}const Vs=new f.b("units/5.6.0"),Js=["wei","kwei","mwei","gwei","szabo","finney","ether"];function $s(e){const t=String(e).split(".");(t.length>2||!t[0].match(/^-?[0-9]*$/)||t[1]&&!t[1].match(/^[0-9]*$/)||"."===e||"-."===e)&&Vs.throwArgumentError("invalid value","value",e);let r=t[0],n="";for("-"===r.substring(0,1)&&(n="-",r=r.substring(1));"0"===r.substring(0,1);)r=r.substring(1);""===r&&(r="0");let i="";for(2===t.length&&(i="."+(t[1]||"0"));i.length>2&&"0"===i[i.length-1];)i=i.substring(0,i.length-1);const o=[];for(;r.length;){if(r.length<=3){o.unshift(r);break}{const e=r.length-3;o.unshift(r.substring(e)),r=r.substring(0,e)}}return n+o.join(",")+i}function Ys(e,t){if("string"==typeof t){const e=Js.indexOf(t);-1!==e&&(t=3*e)}return Sr(e,null!=t?t:18)}function Qs(e,t){if("string"!=typeof e&&Vs.throwArgumentError("value must be a string","value",e),"string"==typeof t){const e=Js.indexOf(t);-1!==e&&(t=3*e)}return Cr(e,null!=t?t:18)}function Xs(e){return Ys(e,18)}function Zs(e){return Qs(e,18)}const ea="ethers/5.6.0",ta=new f.b(ea);try{const e=window;null==e._ethers&&(e._ethers=u)}catch(e){}},function(e,t,r){"use strict";var n=r(39),i=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=h;var o=Object.create(r(34));o.inherits=r(18);var s=r(65),a=r(68);o.inherits(h,s);for(var u=i(a.prototype),c=0;c<u.length;c++){var l=u[c];h.prototype[l]||(h.prototype[l]=a.prototype[l])}function h(e){if(!(this instanceof h))return new h(e);s.call(this,e),a.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",f)}function f(){this.allowHalfOpen||this._writableState.ended||n.nextTick(d,this)}function d(e){e.end()}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),h.prototype._destroy=function(e,t){this.push(null),this.end(),n.nextTick(t,e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UnsetOp=t.SetOp=t.RemoveOp=t.RelationOp=t.Op=t.IncrementOp=t.AddUniqueOp=t.AddOp=void 0,t.opFromJSON=function(e){if(!e||!e.__op)return null;switch(e.__op){case"Delete":return new d;case"Increment":return new p(e.amount);case"Add":return new g((0,i.default)(e.objects));case"AddUnique":return new m((0,i.default)(e.objects));case"Remove":return new y((0,i.default)(e.objects));case"AddRelation":{const t=(0,i.default)(e.objects);return Array.isArray(t)?new v(t,[]):new v([],[])}case"RemoveRelation":{const t=(0,i.default)(e.objects);return Array.isArray(t)?new v([],t):new v([],[])}case"Batch":{let t=[],r=[];for(let n=0;n<e.ops.length;n++)"AddRelation"===e.ops[n].__op?t=t.concat((0,i.default)(e.ops[n].objects)):"RemoveRelation"===e.ops[n].__op&&(r=r.concat((0,i.default)(e.ops[n].objects)));return new v(t,r)}default:return null}};var n=c(r(73)),i=c(r(21)),o=c(r(24)),s=c(r(3)),a=c(r(19)),u=c(r(74));function c(e){return e&&e.__esModule?e:{default:e}}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class h{applyTo(){}mergeWith(){}toJSON(){}}t.Op=h;class f extends h{constructor(e){super(),l(this,"_value",void 0),this._value=e}applyTo(){return this._value}mergeWith(){return new f(this._value)}toJSON(e){return(0,o.default)(this._value,!1,!0,void 0,e)}}t.SetOp=f;class d extends h{applyTo(){}mergeWith(){return new d}toJSON(){return{__op:"Delete"}}}t.UnsetOp=d;class p extends h{constructor(e){if(super(),l(this,"_amount",void 0),"number"!=typeof e)throw new TypeError("Increment Op must be initialized with a numeric amount.");this._amount=e}applyTo(e){if(void 0===e)return this._amount;if("number"!=typeof e)throw new TypeError("Cannot increment a non-numeric value.");return this._amount+e}mergeWith(e){if(!e)return this;if(e instanceof f)return new f(this.applyTo(e._value));if(e instanceof d)return new f(this._amount);if(e instanceof p)return new p(this.applyTo(e._amount));throw new Error("Cannot merge Increment Op with the previous Op")}toJSON(){return{__op:"Increment",amount:this._amount}}}t.IncrementOp=p;class g extends h{constructor(e){super(),l(this,"_value",void 0),this._value=Array.isArray(e)?e:[e]}applyTo(e){if(null==e)return this._value;if(Array.isArray(e))return e.concat(this._value);throw new Error("Cannot add elements to a non-array value")}mergeWith(e){if(!e)return this;if(e instanceof f)return new f(this.applyTo(e._value));if(e instanceof d)return new f(this._value);if(e instanceof g)return new g(this.applyTo(e._value));throw new Error("Cannot merge Add Op with the previous Op")}toJSON(){return{__op:"Add",objects:(0,o.default)(this._value,!1,!0)}}}t.AddOp=g;class m extends h{constructor(e){super(),l(this,"_value",void 0),this._value=(0,u.default)(Array.isArray(e)?e:[e])}applyTo(e){if(null==e)return this._value||[];if(Array.isArray(e)){const t=[];return this._value.forEach(r=>{r instanceof s.default?(0,n.default)(e,r)||t.push(r):e.indexOf(r)<0&&t.push(r)}),e.concat(t)}throw new Error("Cannot add elements to a non-array value")}mergeWith(e){if(!e)return this;if(e instanceof f)return new f(this.applyTo(e._value));if(e instanceof d)return new f(this._value);if(e instanceof m)return new m(this.applyTo(e._value));throw new Error("Cannot merge AddUnique Op with the previous Op")}toJSON(){return{__op:"AddUnique",objects:(0,o.default)(this._value,!1,!0)}}}t.AddUniqueOp=m;class y extends h{constructor(e){super(),l(this,"_value",void 0),this._value=(0,u.default)(Array.isArray(e)?e:[e])}applyTo(e){if(null==e)return[];if(Array.isArray(e)){const t=e.concat([]);for(let e=0;e<this._value.length;e++){let r=t.indexOf(this._value[e]);for(;r>-1;)t.splice(r,1),r=t.indexOf(this._value[e]);if(this._value[e]instanceof s.default&&this._value[e].id)for(let r=0;r<t.length;r++)t[r]instanceof s.default&&this._value[e].id===t[r].id&&(t.splice(r,1),r--)}return t}throw new Error("Cannot remove elements from a non-array value")}mergeWith(e){if(!e)return this;if(e instanceof f)return new f(this.applyTo(e._value));if(e instanceof d)return new d;if(e instanceof y){const t=e._value.concat([]);for(let e=0;e<this._value.length;e++)this._value[e]instanceof s.default?(0,n.default)(t,this._value[e])||t.push(this._value[e]):t.indexOf(this._value[e])<0&&t.push(this._value[e]);return new y(t)}throw new Error("Cannot merge Remove Op with the previous Op")}toJSON(){return{__op:"Remove",objects:(0,o.default)(this._value,!1,!0)}}}t.RemoveOp=y;class v extends h{constructor(e,t){super(),l(this,"_targetClassName",void 0),l(this,"relationsToAdd",void 0),l(this,"relationsToRemove",void 0),this._targetClassName=null,Array.isArray(e)&&(this.relationsToAdd=(0,u.default)(e.map(this._extractId,this))),Array.isArray(t)&&(this.relationsToRemove=(0,u.default)(t.map(this._extractId,this)))}_extractId(e){if("string"==typeof e)return e;if(!e.id)throw new Error("You cannot add or remove an unsaved Parse Object from a relation");if(this._targetClassName||(this._targetClassName=e.className),this._targetClassName!==e.className)throw new Error(`Tried to create a Relation with 2 different object types: ${this._targetClassName} and ${e.className}.`);return e.id}applyTo(e,t,r){if(!e){if(!t||!r)throw new Error("Cannot apply a RelationOp without either a previous value, or an object and a key");const e=new s.default(t.className);t.id&&0===t.id.indexOf("local")?e._localId=t.id:t.id&&(e.id=t.id);const n=new a.default(e,r);return n.targetClassName=this._targetClassName,n}if(e instanceof a.default){if(this._targetClassName)if(e.targetClassName){if(this._targetClassName!==e.targetClassName)throw new Error(`Related object must be a ${e.targetClassName}, but a ${this._targetClassName} was passed in.`)}else e.targetClassName=this._targetClassName;return e}throw new Error("Relation cannot be applied to a non-relation field")}mergeWith(e){if(!e)return this;if(e instanceof d)throw new Error("You cannot modify a relation after deleting it.");if(e instanceof f&&e._value instanceof a.default)return this;if(e instanceof v){if(e._targetClassName&&e._targetClassName!==this._targetClassName)throw new Error(`Related object must be of class ${e._targetClassName}, but ${this._targetClassName||"null"} was passed in.`);const t=e.relationsToAdd.concat([]);this.relationsToRemove.forEach(e=>{const r=t.indexOf(e);r>-1&&t.splice(r,1)}),this.relationsToAdd.forEach(e=>{t.indexOf(e)<0&&t.push(e)});const r=e.relationsToRemove.concat([]);this.relationsToAdd.forEach(e=>{const t=r.indexOf(e);t>-1&&r.splice(t,1)}),this.relationsToRemove.forEach(e=>{r.indexOf(e)<0&&r.push(e)});const n=new v(t,r);return n._targetClassName=this._targetClassName,n}throw new Error("Cannot merge Relation Op with the previous Op")}toJSON(){const e=e=>({__type:"Pointer",className:this._targetClassName,objectId:e});let t=null,r=null,n=null;return this.relationsToAdd.length>0&&(n=this.relationsToAdd.map(e),t={__op:"AddRelation",objects:n}),this.relationsToRemove.length>0&&(n=this.relationsToRemove.map(e),r={__op:"RemoveRelation",objects:n}),t&&r?{__op:"Batch",ops:[t,r]}:t||r||{}}}t.RelationOp=v},function(e,t,r){"use strict";function n(){let e,t;const r=new Promise((r,n)=>{e=r,t=n});return r.resolve=e,r.reject=t,r}Object.defineProperty(t,"__esModule",{value:!0}),t.continueWhile=function e(t,r){if(t())return r().then(()=>e(t,r));return Promise.resolve()},t.resolvingPromise=n,t.when=function(e){let t;const r=Array.isArray(e);t=r?e:arguments;let i=t.length,o=!1;const s=[],a=r?[s]:s,u=[];if(s.length=t.length,u.length=t.length,0===i)return Promise.resolve(a);const c=new n,l=function(){i--,i<=0&&(o?c.reject(u):c.resolve(a))},h=function(e,t){e&&"function"==typeof e.then?e.then(e=>{s[t]=e,l()},e=>{u[t]=e,o=!0,l()}):(s[t]=e,l())};for(let e=0;e<t.length;e++)h(t[e],e);return c}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(r(23)),i=s(r(37)),o=r(53);function s(e){return e&&e.__esModule?e:{default:e}}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class u extends n.default{constructor(){super(),a(this,"type","abstract"),a(this,"network","evm"),a(this,"account",null),a(this,"chainId",null),this.handleAccountsChanged=this.handleAccountsChanged.bind(this),this.handleChainChanged=this.handleChainChanged.bind(this),this.handleConnect=this.handleConnect.bind(this),this.handleDisconnect=this.handleDisconnect.bind(this)}subscribeToEvents(e){e&&e.on&&(e.on(o.EthereumEvents.CHAIN_CHANGED,this.handleChainChanged),e.on(o.EthereumEvents.ACCOUNTS_CHANGED,this.handleAccountsChanged),e.on(o.EthereumEvents.CONNECT,this.handleConnect),e.on(o.EthereumEvents.DISCONNECT,this.handleDisconnect))}unsubscribeToEvents(e){e&&e.removeListener&&(e.removeListener(o.EthereumEvents.CHAIN_CHANGED,this.handleChainChanged),e.removeListener(o.EthereumEvents.ACCOUNTS_CHANGED,this.handleAccountsChanged),e.removeListener(o.EthereumEvents.CONNECT,this.handleConnect),e.removeListener(o.EthereumEvents.DISCONNECT,this.handleDisconnect))}async activate(){throw new Error("Not implemented: activate()")}handleAccountsChanged(e){const t=e&&e[0]?e[0].toLowerCase():null;this.account=t,this.emit(o.ConnectorEvents.ACCOUNT_CHANGED,t)}handleChainChanged(e){const t=(0,i.default)(e);this.chainId=t,this.emit(o.ConnectorEvents.CHAIN_CHANGED,t)}handleConnect(e){this.emit(o.ConnectorEvents.CONNECT,e)}handleDisconnect(e){this.emit(o.ConnectorEvents.DISCONNECT,e)}async deactivate(){this.unsubscribeToEvents(this.provider),this.account=null,this.chainId=null}}var c=u;t.default=c},function(e,t,r){e.exports=r(58)},,,function(e,t,r){function n(e){return Object.prototype.toString.call(e)}t.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===n(e)},t.isBoolean=function(e){return"boolean"==typeof e},t.isNull=function(e){return null===e},t.isNullOrUndefined=function(e){return null==e},t.isNumber=function(e){return"number"==typeof e},t.isString=function(e){return"string"==typeof e},t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=function(e){return void 0===e},t.isRegExp=function(e){return"[object RegExp]"===n(e)},t.isObject=function(e){return"object"==typeof e&&null!==e},t.isDate=function(e){return"[object Date]"===n(e)},t.isError=function(e){return"[object Error]"===n(e)||e instanceof Error},t.isFunction=function(e){return"function"==typeof e},t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=r(22).Buffer.isBuffer},function(e,t){function r(e,t){if(!e)throw new Error(t||"Assertion failed")}e.exports=r,r.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)}},function(e,t,r){"use strict";var n=r(16),i=r(35);function o(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}t.BlockHash=o,o.prototype.update=function(e,t){if(e=n.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var r=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-r,e.length),0===this.pending.length&&(this.pending=null),e=n.join32(e,0,e.length-r,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this},o.prototype.digest=function(e){return this.update(this._pad()),i(null===this.pending),this._digest(e)},o.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,r=t-(e+this.padLength)%t,n=new Array(r+this.padLength);n[0]=128;for(var i=1;i<r;i++)n[i]=0;if(e<<=3,"big"===this.endian){for(var o=8;o<this.padLength;o++)n[i++]=0;n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=e>>>24&255,n[i++]=e>>>16&255,n[i++]=e>>>8&255,n[i++]=255&e}else for(n[i++]=255&e,n[i++]=e>>>8&255,n[i++]=e>>>16&255,n[i++]=e>>>24&255,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,o=8;o<this.padLength;o++)n[i++]=0;return n}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(52);var i=function(e){return"number"==typeof e&&(e=(0,n.fromDecimalToHex)(e)),e};t.default=i},function(e,t,r){"use strict";var n,i=(n=r(4))&&n.__esModule?n:{default:n};const o={async:()=>!!i.default.getStorageController().async,getItem(e){const t=i.default.getStorageController();if(1===t.async)throw new Error("Synchronous storage is not supported by the current storage controller");return t.getItem(e)},getItemAsync(e){const t=i.default.getStorageController();return 1===t.async?t.getItemAsync(e):Promise.resolve(t.getItem(e))},setItem(e,t){const r=i.default.getStorageController();if(1===r.async)throw new Error("Synchronous storage is not supported by the current storage controller");return r.setItem(e,t)},setItemAsync(e,t){const r=i.default.getStorageController();return 1===r.async?r.setItemAsync(e,t):Promise.resolve(r.setItem(e,t))},removeItem(e){const t=i.default.getStorageController();if(1===t.async)throw new Error("Synchronous storage is not supported by the current storage controller");return t.removeItem(e)},removeItemAsync(e){const t=i.default.getStorageController();return 1===t.async?t.removeItemAsync(e):Promise.resolve(t.removeItem(e))},getAllKeys(){const e=i.default.getStorageController();if(1===e.async)throw new Error("Synchronous storage is not supported by the current storage controller");return e.getAllKeys()},getAllKeysAsync(){const e=i.default.getStorageController();return 1===e.async?e.getAllKeysAsync():Promise.resolve(e.getAllKeys())},generatePath(e){if(!i.default.get("APPLICATION_ID"))throw new Error("You need to call Moralis.start with an applicationId before using Moralis.");if("string"!=typeof e)throw new Error("Tried to get a Storage path that was not a String.");return"/"===e[0]&&(e=e.substr(1)),`Parse/${i.default.get("APPLICATION_ID")}/${e}`},_clear(){const e=i.default.getStorageController();e.hasOwnProperty("clear")&&e.clear()}};e.exports=o,i.default.setStorageController(r(151))},function(e,t,r){"use strict";(function(t){void 0===t||!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?e.exports={nextTick:function(e,r,n,i){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var o,s,a=arguments.length;switch(a){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick((function(){e.call(null,r)}));case 3:return t.nextTick((function(){e.call(null,r,n)}));case 4:return t.nextTick((function(){e.call(null,r,n,i)}));default:for(o=new Array(a-1),s=0;s<o.length;)o[s++]=arguments[s];return t.nextTick((function(){e.apply(null,o)}))}}}:e.exports=t}).call(this,r(12))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(25))&&n.__esModule?n:{default:n};class o{constructor(e){!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(this,"_coordinates",void 0),this._coordinates=o._validate(e)}get coordinates(){return this._coordinates}set coordinates(e){this._coordinates=o._validate(e)}toJSON(){return o._validate(this._coordinates),{__type:"Polygon",coordinates:this._coordinates}}equals(e){if(!(e instanceof o)||this.coordinates.length!==e.coordinates.length)return!1;let t=!0;for(let r=1;r<this._coordinates.length;r+=1)if(this._coordinates[r][0]!==e.coordinates[r][0]||this._coordinates[r][1]!==e.coordinates[r][1]){t=!1;break}return t}containsPoint(e){let t=this._coordinates[0][0],r=this._coordinates[0][0],n=this._coordinates[0][1],i=this._coordinates[0][1];for(let e=1;e<this._coordinates.length;e+=1){const o=this._coordinates[e];t=Math.min(o[0],t),r=Math.max(o[0],r),n=Math.min(o[1],n),i=Math.max(o[1],i)}if(e.latitude<t||e.latitude>r||e.longitude<n||e.longitude>i)return!1;let o=!1;for(let t=0,r=this._coordinates.length-1;t<this._coordinates.length;r=t++){const n=this._coordinates[t][0],i=this._coordinates[t][1],s=this._coordinates[r][0],a=this._coordinates[r][1];i>e.longitude!=a>e.longitude&&e.latitude<(s-n)*(e.longitude-i)/(a-i)+n&&(o=!o)}return o}static _validate(e){if(!Array.isArray(e))throw new TypeError("Coordinates must be an Array");if(e.length<3)throw new TypeError("Polygon must have at least 3 GeoPoints or Points");const t=[];for(let r=0;r<e.length;r+=1){const n=e[r];let o;if(n instanceof i.default)o=n;else{if(!Array.isArray(n)||2!==n.length)throw new TypeError("Coordinates must be an Array of GeoPoints or Points");o=new i.default(n[0],n[1])}t.push([o.latitude,o.longitude])}return t}}var s=o;t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PIN_PREFIX=t.OBJECT_PREFIX=t.DEFAULT_PIN=void 0,t.isLocalDatastoreKey=function(e){return!(!e||"_default"!==e&&!e.startsWith("parsePin_")&&!e.startsWith("Parse_LDS_"))};t.DEFAULT_PIN="_default";t.PIN_PREFIX="parsePin_";t.OBJECT_PREFIX="Parse_LDS_"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=async function(e){let t;try{const{dateTime:r}=await(0,o.run)("getServerTime"),n=i.default.get("APPLICATION_ID");t=`${e}\n\nId: ${n}:${r}`}catch(r){t=""+e}return t};var n,i=(n=r(4))&&n.__esModule?n:{default:n},o=r(51)},function(e,t,r){"use strict";function n(e){this.message=e}n.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},n.prototype.__CANCEL__=!0,e.exports=n},function(e,t,r){"use strict";var n;r.r(t),r.d(t,"v1",(function(){return g})),r.d(t,"v3",(function(){return O})),r.d(t,"v4",(function(){return S})),r.d(t,"v5",(function(){return N})),r.d(t,"NIL",(function(){return T})),r.d(t,"version",(function(){return I})),r.d(t,"validate",(function(){return a})),r.d(t,"stringify",(function(){return f})),r.d(t,"parse",(function(){return m}));var i=new Uint8Array(16);function o(){if(!n&&!(n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(i)}var s=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var a=function(e){return"string"==typeof e&&s.test(e)},u=[],c=0;c<256;++c)u.push((c+256).toString(16).substr(1));var l,h,f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(u[e[t+0]]+u[e[t+1]]+u[e[t+2]]+u[e[t+3]]+"-"+u[e[t+4]]+u[e[t+5]]+"-"+u[e[t+6]]+u[e[t+7]]+"-"+u[e[t+8]]+u[e[t+9]]+"-"+u[e[t+10]]+u[e[t+11]]+u[e[t+12]]+u[e[t+13]]+u[e[t+14]]+u[e[t+15]]).toLowerCase();if(!a(r))throw TypeError("Stringified UUID is invalid");return r},d=0,p=0;var g=function(e,t,r){var n=t&&r||0,i=t||new Array(16),s=(e=e||{}).node||l,a=void 0!==e.clockseq?e.clockseq:h;if(null==s||null==a){var u=e.random||(e.rng||o)();null==s&&(s=l=[1|u[0],u[1],u[2],u[3],u[4],u[5]]),null==a&&(a=h=16383&(u[6]<<8|u[7]))}var c=void 0!==e.msecs?e.msecs:Date.now(),g=void 0!==e.nsecs?e.nsecs:p+1,m=c-d+(g-p)/1e4;if(m<0&&void 0===e.clockseq&&(a=a+1&16383),(m<0||c>d)&&void 0===e.nsecs&&(g=0),g>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");d=c,p=g,h=a;var y=(1e4*(268435455&(c+=122192928e5))+g)%4294967296;i[n++]=y>>>24&255,i[n++]=y>>>16&255,i[n++]=y>>>8&255,i[n++]=255&y;var v=c/4294967296*1e4&268435455;i[n++]=v>>>8&255,i[n++]=255&v,i[n++]=v>>>24&15|16,i[n++]=v>>>16&255,i[n++]=a>>>8|128,i[n++]=255&a;for(var b=0;b<6;++b)i[n+b]=s[b];return t||f(i)};var m=function(e){if(!a(e))throw TypeError("Invalid UUID");var t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=255&t,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=255&t,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=255&t,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=255&t,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=255&t,r};var y=function(e,t,r){function n(e,n,i,o){if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}(e)),"string"==typeof n&&(n=m(n)),16!==n.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var s=new Uint8Array(16+e.length);if(s.set(n),s.set(e,n.length),(s=r(s))[6]=15&s[6]|t,s[8]=63&s[8]|128,i){o=o||0;for(var a=0;a<16;++a)i[o+a]=s[a];return i}return f(s)}try{n.name=e}catch(e){}return n.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",n.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",n};function v(e){return 14+(e+64>>>9<<4)+1}function b(e,t){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}function w(e,t,r,n,i,o){return b((s=b(b(t,e),b(n,o)))<<(a=i)|s>>>32-a,r);var s,a}function _(e,t,r,n,i,o,s){return w(t&r|~t&n,e,t,i,o,s)}function E(e,t,r,n,i,o,s){return w(t&n|r&~n,e,t,i,o,s)}function A(e,t,r,n,i,o,s){return w(t^r^n,e,t,i,o,s)}function P(e,t,r,n,i,o,s){return w(r^(t|~n),e,t,i,o,s)}var O=y("v3",48,(function(e){if("string"==typeof e){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var r=0;r<t.length;++r)e[r]=t.charCodeAt(r)}return function(e){for(var t=[],r=32*e.length,n=0;n<r;n+=8){var i=e[n>>5]>>>n%32&255,o=parseInt("0123456789abcdef".charAt(i>>>4&15)+"0123456789abcdef".charAt(15&i),16);t.push(o)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[v(t)-1]=t;for(var r=1732584193,n=-271733879,i=-1732584194,o=271733878,s=0;s<e.length;s+=16){var a=r,u=n,c=i,l=o;r=_(r,n,i,o,e[s],7,-680876936),o=_(o,r,n,i,e[s+1],12,-389564586),i=_(i,o,r,n,e[s+2],17,606105819),n=_(n,i,o,r,e[s+3],22,-1044525330),r=_(r,n,i,o,e[s+4],7,-176418897),o=_(o,r,n,i,e[s+5],12,1200080426),i=_(i,o,r,n,e[s+6],17,-1473231341),n=_(n,i,o,r,e[s+7],22,-45705983),r=_(r,n,i,o,e[s+8],7,1770035416),o=_(o,r,n,i,e[s+9],12,-1958414417),i=_(i,o,r,n,e[s+10],17,-42063),n=_(n,i,o,r,e[s+11],22,-1990404162),r=_(r,n,i,o,e[s+12],7,1804603682),o=_(o,r,n,i,e[s+13],12,-40341101),i=_(i,o,r,n,e[s+14],17,-1502002290),n=_(n,i,o,r,e[s+15],22,1236535329),r=E(r,n,i,o,e[s+1],5,-165796510),o=E(o,r,n,i,e[s+6],9,-1069501632),i=E(i,o,r,n,e[s+11],14,643717713),n=E(n,i,o,r,e[s],20,-373897302),r=E(r,n,i,o,e[s+5],5,-701558691),o=E(o,r,n,i,e[s+10],9,38016083),i=E(i,o,r,n,e[s+15],14,-660478335),n=E(n,i,o,r,e[s+4],20,-405537848),r=E(r,n,i,o,e[s+9],5,568446438),o=E(o,r,n,i,e[s+14],9,-1019803690),i=E(i,o,r,n,e[s+3],14,-187363961),n=E(n,i,o,r,e[s+8],20,1163531501),r=E(r,n,i,o,e[s+13],5,-1444681467),o=E(o,r,n,i,e[s+2],9,-51403784),i=E(i,o,r,n,e[s+7],14,1735328473),n=E(n,i,o,r,e[s+12],20,-1926607734),r=A(r,n,i,o,e[s+5],4,-378558),o=A(o,r,n,i,e[s+8],11,-2022574463),i=A(i,o,r,n,e[s+11],16,1839030562),n=A(n,i,o,r,e[s+14],23,-35309556),r=A(r,n,i,o,e[s+1],4,-1530992060),o=A(o,r,n,i,e[s+4],11,1272893353),i=A(i,o,r,n,e[s+7],16,-155497632),n=A(n,i,o,r,e[s+10],23,-1094730640),r=A(r,n,i,o,e[s+13],4,681279174),o=A(o,r,n,i,e[s],11,-358537222),i=A(i,o,r,n,e[s+3],16,-722521979),n=A(n,i,o,r,e[s+6],23,76029189),r=A(r,n,i,o,e[s+9],4,-640364487),o=A(o,r,n,i,e[s+12],11,-421815835),i=A(i,o,r,n,e[s+15],16,530742520),n=A(n,i,o,r,e[s+2],23,-995338651),r=P(r,n,i,o,e[s],6,-198630844),o=P(o,r,n,i,e[s+7],10,1126891415),i=P(i,o,r,n,e[s+14],15,-1416354905),n=P(n,i,o,r,e[s+5],21,-57434055),r=P(r,n,i,o,e[s+12],6,1700485571),o=P(o,r,n,i,e[s+3],10,-1894986606),i=P(i,o,r,n,e[s+10],15,-1051523),n=P(n,i,o,r,e[s+1],21,-2054922799),r=P(r,n,i,o,e[s+8],6,1873313359),o=P(o,r,n,i,e[s+15],10,-30611744),i=P(i,o,r,n,e[s+6],15,-1560198380),n=P(n,i,o,r,e[s+13],21,1309151649),r=P(r,n,i,o,e[s+4],6,-145523070),o=P(o,r,n,i,e[s+11],10,-1120210379),i=P(i,o,r,n,e[s+2],15,718787259),n=P(n,i,o,r,e[s+9],21,-343485551),r=b(r,a),n=b(n,u),i=b(i,c),o=b(o,l)}return[r,n,i,o]}(function(e){if(0===e.length)return[];for(var t=8*e.length,r=new Uint32Array(v(t)),n=0;n<t;n+=8)r[n>>5]|=(255&e[n/8])<<n%32;return r}(e),8*e.length))}));var S=function(e,t,r){var n=(e=e||{}).random||(e.rng||o)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(var i=0;i<16;++i)t[r+i]=n[i];return t}return f(n)};function C(e,t,r,n){switch(e){case 0:return t&r^~t&n;case 1:return t^r^n;case 2:return t&r^t&n^r&n;case 3:return t^r^n}}function k(e,t){return e<<t|e>>>32-t}var N=y("v5",80,(function(e){var t=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){var n=unescape(encodeURIComponent(e));e=[];for(var i=0;i<n.length;++i)e.push(n.charCodeAt(i))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var o=e.length/4+2,s=Math.ceil(o/16),a=new Array(s),u=0;u<s;++u){for(var c=new Uint32Array(16),l=0;l<16;++l)c[l]=e[64*u+4*l]<<24|e[64*u+4*l+1]<<16|e[64*u+4*l+2]<<8|e[64*u+4*l+3];a[u]=c}a[s-1][14]=8*(e.length-1)/Math.pow(2,32),a[s-1][14]=Math.floor(a[s-1][14]),a[s-1][15]=8*(e.length-1)&4294967295;for(var h=0;h<s;++h){for(var f=new Uint32Array(80),d=0;d<16;++d)f[d]=a[h][d];for(var p=16;p<80;++p)f[p]=k(f[p-3]^f[p-8]^f[p-14]^f[p-16],1);for(var g=r[0],m=r[1],y=r[2],v=r[3],b=r[4],w=0;w<80;++w){var _=Math.floor(w/20),E=k(g,5)+C(_,m,y,v)+b+t[_]+f[w]>>>0;b=v,v=y,y=k(m,30)>>>0,m=g,g=E}r[0]=r[0]+g>>>0,r[1]=r[1]+m>>>0,r[2]=r[2]+y>>>0,r[3]=r[3]+v>>>0,r[4]=r[4]+b>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,255&r[0],r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,255&r[1],r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,255&r[2],r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,255&r[3],r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,255&r[4]]})),T="00000000-0000-0000-0000-000000000000";var I=function(e){if(!a(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}},function(e,t,r){"use strict";(function(t){!function(r){function n(e){const t=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);let r=1779033703,n=3144134277,i=1013904242,o=2773480762,s=1359893119,a=2600822924,u=528734635,c=1541459225;const l=new Uint32Array(64);function h(e){let h=0,f=e.length;for(;f>=64;){let d,p,g,m,y,v=r,b=n,w=i,_=o,E=s,A=a,P=u,O=c;for(p=0;p<16;p++)g=h+4*p,l[p]=(255&e[g])<<24|(255&e[g+1])<<16|(255&e[g+2])<<8|255&e[g+3];for(p=16;p<64;p++)d=l[p-2],m=(d>>>17|d<<15)^(d>>>19|d<<13)^d>>>10,d=l[p-15],y=(d>>>7|d<<25)^(d>>>18|d<<14)^d>>>3,l[p]=(m+l[p-7]|0)+(y+l[p-16]|0)|0;for(p=0;p<64;p++)m=(((E>>>6|E<<26)^(E>>>11|E<<21)^(E>>>25|E<<7))+(E&A^~E&P)|0)+(O+(t[p]+l[p]|0)|0)|0,y=((v>>>2|v<<30)^(v>>>13|v<<19)^(v>>>22|v<<10))+(v&b^v&w^b&w)|0,O=P,P=A,A=E,E=_+m|0,_=w,w=b,b=v,v=m+y|0;r=r+v|0,n=n+b|0,i=i+w|0,o=o+_|0,s=s+E|0,a=a+A|0,u=u+P|0,c=c+O|0,h+=64,f-=64}}h(e);let f,d=e.length%64,p=e.length/536870912|0,g=e.length<<3,m=d<56?56:120,y=e.slice(e.length-d,e.length);for(y.push(128),f=d+1;f<m;f++)y.push(0);return y.push(p>>>24&255),y.push(p>>>16&255),y.push(p>>>8&255),y.push(p>>>0&255),y.push(g>>>24&255),y.push(g>>>16&255),y.push(g>>>8&255),y.push(g>>>0&255),h(y),[r>>>24&255,r>>>16&255,r>>>8&255,r>>>0&255,n>>>24&255,n>>>16&255,n>>>8&255,n>>>0&255,i>>>24&255,i>>>16&255,i>>>8&255,i>>>0&255,o>>>24&255,o>>>16&255,o>>>8&255,o>>>0&255,s>>>24&255,s>>>16&255,s>>>8&255,s>>>0&255,a>>>24&255,a>>>16&255,a>>>8&255,a>>>0&255,u>>>24&255,u>>>16&255,u>>>8&255,u>>>0&255,c>>>24&255,c>>>16&255,c>>>8&255,c>>>0&255]}function i(e,t,r){e=e.length<=64?e:n(e);const i=64+t.length+4,o=new Array(i),s=new Array(64);let a,u=[];for(a=0;a<64;a++)o[a]=54;for(a=0;a<e.length;a++)o[a]^=e[a];for(a=0;a<t.length;a++)o[64+a]=t[a];for(a=i-4;a<i;a++)o[a]=0;for(a=0;a<64;a++)s[a]=92;for(a=0;a<e.length;a++)s[a]^=e[a];function c(){for(let e=i-1;e>=i-4;e--){if(o[e]++,o[e]<=255)return;o[e]=0}}for(;r>=32;)c(),u=u.concat(n(s.concat(n(o)))),r-=32;return r>0&&(c(),u=u.concat(n(s.concat(n(o))).slice(0,r))),u}function o(e,t,r,n,i){let o;for(c(e,16*(2*r-1),i,0,16),o=0;o<2*r;o++)u(e,16*o,i,16),a(i,n),c(i,0,e,t+16*o,16);for(o=0;o<r;o++)c(e,t+2*o*16,e,16*o,16);for(o=0;o<r;o++)c(e,t+16*(2*o+1),e,16*(o+r),16)}function s(e,t){return e<<t|e>>>32-t}function a(e,t){c(e,0,t,0,16);for(let e=8;e>0;e-=2)t[4]^=s(t[0]+t[12],7),t[8]^=s(t[4]+t[0],9),t[12]^=s(t[8]+t[4],13),t[0]^=s(t[12]+t[8],18),t[9]^=s(t[5]+t[1],7),t[13]^=s(t[9]+t[5],9),t[1]^=s(t[13]+t[9],13),t[5]^=s(t[1]+t[13],18),t[14]^=s(t[10]+t[6],7),t[2]^=s(t[14]+t[10],9),t[6]^=s(t[2]+t[14],13),t[10]^=s(t[6]+t[2],18),t[3]^=s(t[15]+t[11],7),t[7]^=s(t[3]+t[15],9),t[11]^=s(t[7]+t[3],13),t[15]^=s(t[11]+t[7],18),t[1]^=s(t[0]+t[3],7),t[2]^=s(t[1]+t[0],9),t[3]^=s(t[2]+t[1],13),t[0]^=s(t[3]+t[2],18),t[6]^=s(t[5]+t[4],7),t[7]^=s(t[6]+t[5],9),t[4]^=s(t[7]+t[6],13),t[5]^=s(t[4]+t[7],18),t[11]^=s(t[10]+t[9],7),t[8]^=s(t[11]+t[10],9),t[9]^=s(t[8]+t[11],13),t[10]^=s(t[9]+t[8],18),t[12]^=s(t[15]+t[14],7),t[13]^=s(t[12]+t[15],9),t[14]^=s(t[13]+t[12],13),t[15]^=s(t[14]+t[13],18);for(let r=0;r<16;++r)e[r]+=t[r]}function u(e,t,r,n){for(let i=0;i<n;i++)r[i]^=e[t+i]}function c(e,t,r,n,i){for(;i--;)r[n++]=e[t++]}function l(e){if(!e||"number"!=typeof e.length)return!1;for(let t=0;t<e.length;t++){const r=e[t];if("number"!=typeof r||r%1||r<0||r>=256)return!1}return!0}function h(e,t){if("number"!=typeof e||e%1)throw new Error("invalid "+t);return e}function f(e,r,n,s,a,f,d){if(n=h(n,"N"),s=h(s,"r"),a=h(a,"p"),f=h(f,"dkLen"),0===n||0!=(n&n-1))throw new Error("N must be power of 2");if(n>2147483647/128/s)throw new Error("N too large");if(s>2147483647/128/a)throw new Error("r too large");if(!l(e))throw new Error("password must be an array or buffer");if(e=Array.prototype.slice.call(e),!l(r))throw new Error("salt must be an array or buffer");r=Array.prototype.slice.call(r);let p=i(e,r,128*a*s);const g=new Uint32Array(32*a*s);for(let e=0;e<g.length;e++){const t=4*e;g[e]=(255&p[t+3])<<24|(255&p[t+2])<<16|(255&p[t+1])<<8|(255&p[t+0])<<0}const m=new Uint32Array(64*s),y=new Uint32Array(32*s*n),v=32*s,b=new Uint32Array(16),w=new Uint32Array(16),_=a*n*2;let E,A,P=0,O=null,S=!1,C=0,k=0;const N=d?parseInt(1e3/s):4294967295,T=void 0!==t?t:setTimeout,I=function(){if(S)return d(new Error("cancelled"),P/_);let t;switch(C){case 0:A=32*k*s,c(g,A,m,0,v),C=1,E=0;case 1:t=n-E,t>N&&(t=N);for(let e=0;e<t;e++)c(m,0,y,(E+e)*v,v),o(m,v,s,b,w);if(E+=t,P+=t,d){const e=parseInt(1e3*P/_);if(e!==O){if(S=d(null,P/_),S)break;O=e}}if(E<n)break;E=0,C=2;case 2:t=n-E,t>N&&(t=N);for(let e=0;e<t;e++){const e=m[16*(2*s-1)]&n-1;u(y,e*v,m,v),o(m,v,s,b,w)}if(E+=t,P+=t,d){const e=parseInt(1e3*P/_);if(e!==O){if(S=d(null,P/_),S)break;O=e}}if(E<n)break;if(c(m,0,g,A,v),k++,k<a){C=0;break}p=[];for(let e=0;e<g.length;e++)p.push(g[e]>>0&255),p.push(g[e]>>8&255),p.push(g[e]>>16&255),p.push(g[e]>>24&255);const r=i(e,p,f);return d&&d(null,1,r),r}d&&T(I)};if(!d)for(;;){const e=I();if(null!=e)return e}I()}const d={scrypt:function(e,t,r,n,i,o,s){return new Promise((function(a,u){let c=0;s&&s(0),f(e,t,r,n,i,o,(function(e,t,r){if(e)u(e);else if(r)s&&1!==c&&s(1),a(new Uint8Array(r));else if(s&&t!==c)return c=t,s(t)}))}))},syncScrypt:function(e,t,r,n,i,o){return new Uint8Array(f(e,t,r,n,i,o))}};e.exports=d}()}).call(this,r(69).setImmediate)},,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(r(13)),i=s(r(10)),o=s(r(3));function s(e){return e&&e.__esModule?e:{default:e}}class a extends o.default{constructor(e,t){super("_Role"),"string"==typeof e&&t instanceof n.default&&(this.setName(e),this.setACL(t))}getName(){const e=this.get("name");return null==e||"string"==typeof e?e:""}setName(e,t){return this.set("name",e,t)}getUsers(){return this.relation("users")}getRoles(){return this.relation("roles")}validate(e,t){const r=super.validate(e,t);if(r)return r;if("name"in e&&e.name!==this.getName()){const t=e.name;if(this.id&&this.id!==e.objectId)return new i.default(i.default.OTHER_CAUSE,"A role's name can only be set before it has been saved.");if("string"!=typeof t)return new i.default(i.default.OTHER_CAUSE,"A role's name must be a String.");if(!/^[0-9a-zA-Z\-_ ]+$/.test(t))return new i.default(i.default.OTHER_CAUSE,"A role's name can be only contain alphanumeric characters, _, -, and spaces.")}return!1}}o.default.registerSubclass("_Role",a);var u=a;t.default=u},function(e,t,r){(function(e){var n=r(110),i=r(63),o=r(121),s=r(122),a=r(50),u=t;u.request=function(t,r){t="string"==typeof t?a.parse(t):o(t);var i=-1===e.location.protocol.search(/^https?:$/)?"http:":"",s=t.protocol||i,u=t.hostname||t.host,c=t.port,l=t.path||"/";u&&-1!==u.indexOf(":")&&(u="["+u+"]"),t.url=(u?s+"//"+u:"")+(c?":"+c:"")+l,t.method=(t.method||"GET").toUpperCase(),t.headers=t.headers||{};var h=new n(t);return r&&h.on("response",r),h},u.get=function(e,t){var r=u.request(e,t);return r.end(),r},u.ClientRequest=n,u.IncomingMessage=i.IncomingMessage,u.Agent=function(){},u.Agent.defaultMaxSockets=4,u.globalAgent=new u.Agent,u.STATUS_CODES=s,u.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}).call(this,r(7))},function(e,t,r){var n=r(22),i=n.Buffer;function o(e,t){for(var r in e)t[r]=e[r]}function s(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(o(n,t),t.Buffer=s),o(i,s),s.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},s.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},s.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},s.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},function(e,t,r){"use strict";var n=r(123),i=r(124);function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=b,t.resolve=function(e,t){return b(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?b(e,!1,!0).resolveObject(t):t},t.format=function(e){i.isString(e)&&(e=b(e));return e instanceof o?e.format():o.prototype.format.call(e)},t.Url=o;var s=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,u=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,c=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),l=["'"].concat(c),h=["%","/","?",";","#"].concat(l),f=["/","?","#"],d=/^[+a-z0-9A-Z_-]{0,63}$/,p=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,g={javascript:!0,"javascript:":!0},m={javascript:!0,"javascript:":!0},y={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},v=r(125);function b(e,t,r){if(e&&i.isObject(e)&&e instanceof o)return e;var n=new o;return n.parse(e,t,r),n}o.prototype.parse=function(e,t,r){if(!i.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var o=e.indexOf("?"),a=-1!==o&&o<e.indexOf("#")?"?":"#",c=e.split(a);c[0]=c[0].replace(/\\/g,"/");var b=e=c.join(a);if(b=b.trim(),!r&&1===e.split("#").length){var w=u.exec(b);if(w)return this.path=b,this.href=b,this.pathname=w[1],w[2]?(this.search=w[2],this.query=t?v.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var _=s.exec(b);if(_){var E=(_=_[0]).toLowerCase();this.protocol=E,b=b.substr(_.length)}if(r||_||b.match(/^\/\/[^@\/]+@[^@\/]+/)){var A="//"===b.substr(0,2);!A||_&&m[_]||(b=b.substr(2),this.slashes=!0)}if(!m[_]&&(A||_&&!y[_])){for(var P,O,S=-1,C=0;C<f.length;C++){-1!==(k=b.indexOf(f[C]))&&(-1===S||k<S)&&(S=k)}-1!==(O=-1===S?b.lastIndexOf("@"):b.lastIndexOf("@",S))&&(P=b.slice(0,O),b=b.slice(O+1),this.auth=decodeURIComponent(P)),S=-1;for(C=0;C<h.length;C++){var k;-1!==(k=b.indexOf(h[C]))&&(-1===S||k<S)&&(S=k)}-1===S&&(S=b.length),this.host=b.slice(0,S),b=b.slice(S),this.parseHost(),this.hostname=this.hostname||"";var N="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!N)for(var T=this.hostname.split(/\./),I=(C=0,T.length);C<I;C++){var R=T[C];if(R&&!R.match(d)){for(var x="",M=0,j=R.length;M<j;M++)R.charCodeAt(M)>127?x+="x":x+=R[M];if(!x.match(d)){var D=T.slice(0,C),B=T.slice(C+1),L=R.match(p);L&&(D.push(L[1]),B.unshift(L[2])),B.length&&(b="/"+B.join(".")+b),this.hostname=D.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),N||(this.hostname=n.toASCII(this.hostname));var F=this.port?":"+this.port:"",U=this.hostname||"";this.host=U+F,this.href+=this.host,N&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==b[0]&&(b="/"+b))}if(!g[E])for(C=0,I=l.length;C<I;C++){var q=l[C];if(-1!==b.indexOf(q)){var W=encodeURIComponent(q);W===q&&(W=escape(q)),b=b.split(q).join(W)}}var G=b.indexOf("#");-1!==G&&(this.hash=b.substr(G),b=b.slice(0,G));var H=b.indexOf("?");if(-1!==H?(this.search=b.substr(H),this.query=b.substr(H+1),t&&(this.query=v.parse(this.query)),b=b.slice(0,H)):t&&(this.search="",this.query={}),b&&(this.pathname=b),y[E]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){F=this.pathname||"";var K=this.search||"";this.path=F+K}return this.href=this.format(),this},o.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",r=this.pathname||"",n=this.hash||"",o=!1,s="";this.host?o=e+this.host:this.hostname&&(o=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(s=v.stringify(this.query));var a=this.search||s&&"?"+s||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||y[t])&&!1!==o?(o="//"+(o||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):o||(o=""),n&&"#"!==n.charAt(0)&&(n="#"+n),a&&"?"!==a.charAt(0)&&(a="?"+a),t+o+(r=r.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(a=a.replace("#","%23"))+n},o.prototype.resolve=function(e){return this.resolveObject(b(e,!1,!0)).format()},o.prototype.resolveObject=function(e){if(i.isString(e)){var t=new o;t.parse(e,!1,!0),e=t}for(var r=new o,n=Object.keys(this),s=0;s<n.length;s++){var a=n[s];r[a]=this[a]}if(r.hash=e.hash,""===e.href)return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var u=Object.keys(e),c=0;c<u.length;c++){var l=u[c];"protocol"!==l&&(r[l]=e[l])}return y[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(e.protocol&&e.protocol!==r.protocol){if(!y[e.protocol]){for(var h=Object.keys(e),f=0;f<h.length;f++){var d=h[f];r[d]=e[d]}return r.href=r.format(),r}if(r.protocol=e.protocol,e.host||m[e.protocol])r.pathname=e.pathname;else{for(var p=(e.pathname||"").split("/");p.length&&!(e.host=p.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),r.pathname=p.join("/")}if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var g=r.pathname||"",v=r.search||"";r.path=g+v}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var b=r.pathname&&"/"===r.pathname.charAt(0),w=e.host||e.pathname&&"/"===e.pathname.charAt(0),_=w||b||r.host&&e.pathname,E=_,A=r.pathname&&r.pathname.split("/")||[],P=(p=e.pathname&&e.pathname.split("/")||[],r.protocol&&!y[r.protocol]);if(P&&(r.hostname="",r.port=null,r.host&&(""===A[0]?A[0]=r.host:A.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===p[0]?p[0]=e.host:p.unshift(e.host)),e.host=null),_=_&&(""===p[0]||""===A[0])),w)r.host=e.host||""===e.host?e.host:r.host,r.hostname=e.hostname||""===e.hostname?e.hostname:r.hostname,r.search=e.search,r.query=e.query,A=p;else if(p.length)A||(A=[]),A.pop(),A=A.concat(p),r.search=e.search,r.query=e.query;else if(!i.isNullOrUndefined(e.search)){if(P)r.hostname=r.host=A.shift(),(N=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=N.shift(),r.host=r.hostname=N.shift());return r.search=e.search,r.query=e.query,i.isNull(r.pathname)&&i.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!A.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var O=A.slice(-1)[0],S=(r.host||e.host||A.length>1)&&("."===O||".."===O)||""===O,C=0,k=A.length;k>=0;k--)"."===(O=A[k])?A.splice(k,1):".."===O?(A.splice(k,1),C++):C&&(A.splice(k,1),C--);if(!_&&!E)for(;C--;C)A.unshift("..");!_||""===A[0]||A[0]&&"/"===A[0].charAt(0)||A.unshift(""),S&&"/"!==A.join("/").substr(-1)&&A.push("");var N,T=""===A[0]||A[0]&&"/"===A[0].charAt(0);P&&(r.hostname=r.host=T?"":A.length?A.shift():"",(N=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=N.shift(),r.host=r.hostname=N.shift()));return(_=_||r.host&&A.length)&&!T&&A.unshift(""),A.length?r.pathname=A.join("/"):(r.pathname=null,r.path=null),i.isNull(r.pathname)&&i.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r},o.prototype.parseHost=function(){var e=this.host,t=a.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getJobStatus=function(e){return new a.default("_JobStatus").get(e,{useMasterKey:!0})},t.getJobsData=function(){return n.default.getCloudController().getJobsData({useMasterKey:!0})},t.run=function(e,t,r){if(r=r||{},"string"!=typeof e||0===e.length)throw new TypeError("Cloud function name must be a string.");const i={};r.useMasterKey&&(i.useMasterKey=r.useMasterKey);r.sessionToken&&(i.sessionToken=r.sessionToken);r.context&&"object"==typeof r.context&&(i.context=r.context);return n.default.getCloudController().run(e,t,i)},t.startJob=function(e,t){if("string"!=typeof e||0===e.length)throw new TypeError("Cloud job name must be a string.");return n.default.getCloudController().startJob(e,t,{useMasterKey:!0})};var n=u(r(4)),i=u(r(21)),o=u(r(24)),s=u(r(10)),a=u(r(14));u(r(3));function u(e){return e&&e.__esModule?e:{default:e}}const c={run(e,t,r){const a=n.default.getRESTController(),u=(0,o.default)(t,!0);return a.request("POST","functions/"+e,u,r).then(e=>{if("object"==typeof e&&Object.keys(e).length>0&&!e.hasOwnProperty("result"))throw new s.default(s.default.INVALID_JSON,"The server returned an invalid response.");const t=(0,i.default)(e);return t&&t.hasOwnProperty("result")?Promise.resolve(t.result):Promise.resolve(void 0)})},getJobsData:e=>n.default.getRESTController().request("GET","cloud_code/jobs/data",null,e),startJob(e,t,r){const i=n.default.getRESTController(),s=(0,o.default)(t,!0);return i.request("POST","jobs/"+e,s,r)}};n.default.setCloudController(c)},function(e,t,r){"use strict";e.exports={fromDecimalToHex:function(e){if("number"!=typeof e)throw"The input provided should be a number";return"0x"+e.toString(16)},fromHexToDecimal:function(e){if("string"!=typeof e)throw"The input provided should be a string";return parseInt(e,16)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EthereumEvents=t.ConnectorEvents=void 0;const n=Object.freeze({CONNECT:"connect",DISCONNECT:"disconnect",CHAIN_CHANGED:"chainChanged",ACCOUNTS_CHANGED:"accountsChanged"});t.EthereumEvents=n;const i=Object.freeze({CONNECT:"connect",DISCONNECT:"disconnect",CHAIN_CHANGED:"chainChanged",ACCOUNT_CHANGED:"accountChanged"});t.ConnectorEvents=i},function(e,t,r){"use strict";(function(t){var n=r(8),i=r(177),o=r(95),s=r(96),a={"Content-Type":"application/x-www-form-urlencoded"};function u(e,t){!n.isUndefined(e)&&n.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var c,l={transitional:s,adapter:(("undefined"!=typeof XMLHttpRequest||void 0!==t&&"[object process]"===Object.prototype.toString.call(t))&&(c=r(97)),c),transformRequest:[function(e,t){return i(t,"Accept"),i(t,"Content-Type"),n.isFormData(e)||n.isArrayBuffer(e)||n.isBuffer(e)||n.isStream(e)||n.isFile(e)||n.isBlob(e)?e:n.isArrayBufferView(e)?e.buffer:n.isURLSearchParams(e)?(u(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):n.isObject(e)||t&&"application/json"===t["Content-Type"]?(u(t,"application/json"),function(e,t,r){if(n.isString(e))try{return(t||JSON.parse)(e),n.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(r||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||l.transitional,r=t&&t.silentJSONParsing,i=t&&t.forcedJSONParsing,s=!r&&"json"===this.responseType;if(s||i&&n.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(s){if("SyntaxError"===e.name)throw o(e,this,"E_JSON_PARSE");throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};n.forEach(["delete","get","head"],(function(e){l.headers[e]={}})),n.forEach(["post","put","patch"],(function(e){l.headers[e]=n.merge(a)})),e.exports=l}).call(this,r(12))},function(e,t,r){"use strict";e.exports=r(23).EventEmitter},function(e,t,r){"use strict";for(var n="qpzry9x8gf2tvdw0s3jn54khce6mua7l",i={},o=0;o<n.length;o++){var s=n.charAt(o);if(void 0!==i[s])throw new TypeError(s+" is ambiguous");i[s]=o}function a(e){var t=e>>25;return(33554431&e)<<5^996825010&-(t>>0&1)^642813549&-(t>>1&1)^513874426&-(t>>2&1)^1027748829&-(t>>3&1)^705979059&-(t>>4&1)}function u(e){for(var t=1,r=0;r<e.length;++r){var n=e.charCodeAt(r);if(n<33||n>126)return"Invalid prefix ("+e+")";t=a(t)^n>>5}for(t=a(t),r=0;r<e.length;++r){var i=e.charCodeAt(r);t=a(t)^31&i}return t}function c(e,t){if(t=t||90,e.length<8)return e+" too short";if(e.length>t)return"Exceeds length limit";var r=e.toLowerCase(),n=e.toUpperCase();if(e!==r&&e!==n)return"Mixed-case string "+e;var o=(e=r).lastIndexOf("1");if(-1===o)return"No separator character for "+e;if(0===o)return"Missing prefix for "+e;var s=e.slice(0,o),c=e.slice(o+1);if(c.length<6)return"Data too short";var l=u(s);if("string"==typeof l)return l;for(var h=[],f=0;f<c.length;++f){var d=c.charAt(f),p=i[d];if(void 0===p)return"Unknown character "+d;l=a(l)^p,f+6>=c.length||h.push(p)}return 1!==l?"Invalid checksum for "+e:{prefix:s,words:h}}function l(e,t,r,n){for(var i=0,o=0,s=(1<<r)-1,a=[],u=0;u<e.length;++u)for(i=i<<t|e[u],o+=t;o>=r;)o-=r,a.push(i>>o&s);if(n)o>0&&a.push(i<<r-o&s);else{if(o>=t)return"Excess padding";if(i<<r-o&s)return"Non-zero padding"}return a}e.exports={decodeUnsafe:function(){var e=c.apply(null,arguments);if("object"==typeof e)return e},decode:function(e){var t=c.apply(null,arguments);if("object"==typeof t)return t;throw new Error(t)},encode:function(e,t,r){if(r=r||90,e.length+7+t.length>r)throw new TypeError("Exceeds length limit");var i=u(e=e.toLowerCase());if("string"==typeof i)throw new Error(i);for(var o=e+"1",s=0;s<t.length;++s){var c=t[s];if(c>>5!=0)throw new Error("Non 5-bit word");i=a(i)^c,o+=n.charAt(c)}for(s=0;s<6;++s)i=a(i);for(i^=1,s=0;s<6;++s){o+=n.charAt(i>>5*(5-s)&31)}return o},toWordsUnsafe:function(e){var t=l(e,8,5,!0);if(Array.isArray(t))return t},toWords:function(e){var t=l(e,8,5,!0);if(Array.isArray(t))return t;throw new Error(t)},fromWordsUnsafe:function(e){var t=l(e,5,8,!1);if(Array.isArray(t))return t},fromWords:function(e){var t=l(e,5,8,!1);if(Array.isArray(t))return t;throw new Error(t)}}},,function(e,t,r){"use strict";var n=d(r(21)),i=d(r(24)),o=d(r(4)),s=d(r(152)),a=d(r(161)),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=f(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(r(28)),c=d(r(89)),l=d(r(81)),h=(r(26),r(163));function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(f=function(e){return e?r:t})(e)}function d(e){return e&&e.__esModule?e:{default:e}}const{checkForSdkUpdates:p,trackEvent:g,TrackingEventName:m,getSubdomain:y}=r(164);class v extends l.default{static async start(e){const{appId:t,serverUrl:r,plugins:n,javascriptKey:i,masterKey:o,moralisSecret:s,disableVersionCheck:a}=e;let u,c;if(s){this.moralisSecret=s;const{web3ApiKey:e,speedyNodeApiKey:t}=await this.getApiKeys(s);u=e,this.speedyNodeApiKey=t}this.initialize(t,i,o),this.serverURL=r;const l={"x-moralis-platform":"JS SDK","x-moralis-platform-version":"1.12.0","x-moralis-build-target":"node"};this.Web3API.initialize({serverUrl:r,apiKey:u,Moralis:v,headers:l}),this.SolanaAPI.initialize({serverUrl:r,apiKey:u,Moralis:v,headers:l}),t&&r?(c={subdomain:y(r),sdk_type:"javascript",sdk_version:"1.12.0",sdk_enviroment:"node",appId:t},await this.initPlugins(n)):c={sdk_type:"javascript",sdk_version:"1.12.0",sdk_enviroment:"node"},p(),g(m.START_FUNCTION,r?y(r):null,c)}static async getApiKeys(e){try{const t=o.default.getRESTController();return(await t.ajax("GET","https://admin.moralis.io/api/publics/apiKeys",null,{"moralis-secret":e,Accept:"application/json","Content-Type":"application/json"})).response.result}catch(e){throw new Error("Could not fetch keys with moralisSecret")}}static initialize(e,t){v._initialize(e,t)}static _initialize(e,t,r){o.default.set("APPLICATION_ID",e),o.default.set("JAVASCRIPT_KEY",t),o.default.set("MASTER_KEY",r),o.default.set("USE_MASTER_KEY",!1)}static setAsyncStorage(e){o.default.setAsyncStorage(e)}static setLocalDatastoreController(e){o.default.setLocalDatastoreController(e)}static set applicationId(e){o.default.set("APPLICATION_ID",e)}static get applicationId(){return o.default.get("APPLICATION_ID")}static set javaScriptKey(e){o.default.set("JAVASCRIPT_KEY",e)}static get javaScriptKey(){return o.default.get("JAVASCRIPT_KEY")}static set masterKey(e){o.default.set("MASTER_KEY",e)}static get masterKey(){return o.default.get("MASTER_KEY")}static set serverURL(e){o.default.set("SERVER_URL",e)}static get serverURL(){return o.default.get("SERVER_URL")}static set serverAuthToken(e){o.default.set("SERVER_AUTH_TOKEN",e)}static get serverAuthToken(){return o.default.get("SERVER_AUTH_TOKEN")}static set serverAuthType(e){o.default.set("SERVER_AUTH_TYPE",e)}static get serverAuthType(){return o.default.get("SERVER_AUTH_TYPE")}static set liveQueryServerURL(e){o.default.set("LIVEQUERY_SERVER_URL",e)}static get liveQueryServerURL(){return o.default.get("LIVEQUERY_SERVER_URL")}static set encryptedUser(e){o.default.set("ENCRYPTED_USER",e)}static get encryptedUser(){return o.default.get("ENCRYPTED_USER")}static set secret(e){o.default.set("ENCRYPTED_KEY",e)}static get secret(){return o.default.get("ENCRYPTED_KEY")}static set idempotency(e){o.default.set("IDEMPOTENCY",e)}static get idempotency(){return o.default.get("IDEMPOTENCY")}}v.ACL=r(13).default,v.Analytics=r(165),v.AnonymousUtils=r(78).default,v.Cloud=r(51),v.CLP=r(91).default,v.CoreManager=r(4),v.Config=r(166).default,v.Error=r(10).default,v.FacebookUtils=r(167).default,v.File=r(17).default,v.GeoPoint=r(25).default,v.Polygon=r(40).default,v.Installation=r(168).default,v.LocalDatastore=r(169),v.Object=r(3).default,v.Op={Set:u.SetOp,Unset:u.UnsetOp,Increment:u.IncrementOp,Add:u.AddOp,Remove:u.RemoveOp,AddUnique:u.AddUniqueOp,Relation:u.RelationOp},v.Web3API=r(171).default,v.SolanaAPI=r(189).default,v.Push=r(190),v.Query=r(14).default,v.Relation=r(19).default,v.Role=r(47).default,v.Schema=r(191).default,v.Session=r(80).default,v.Storage=r(38),v.User=r(15).default,v.LiveQuery=r(192).default,v.LiveQueryClient=r(102).default,v.Web3=v,v.Units=r(195),v.Elrond=r(85).default,v.Erd=v.Elrond,v.Dot=r(86).default,v.UI=r(196).default,v.Chains=r(197).default,v.AbstractWeb3Connector=r(30).default,(0,h.filterConsole)(),v._request=function(...e){return o.default.getRESTController().request.apply(null,e)},v._ajax=function(...e){return o.default.getRESTController().ajax.apply(null,e)},v._decode=function(e,t){return(0,n.default)(t)},v._encode=function(e,t,r){return(0,i.default)(e,r)},v._getInstallationId=function(){return o.default.getInstallationController().currentInstallationId()},v.enableLocalDatastore=function(){v.LocalDatastore.isEnabled=!0},v.isLocalDatastoreEnabled=function(){return v.LocalDatastore.isEnabled},v.dumpLocalDatastore=function(){return v.LocalDatastore.isEnabled?v.LocalDatastore._getAllContents():(console.log("Moralis: Moralis.enableLocalDatastore() must be called first"),Promise.resolve({}))},v.enableEncryptedUser=function(){v.encryptedUser=!0},v.isEncryptedUserEnabled=function(){return v.encryptedUser},o.default.setCryptoController(s.default),o.default.setInstallationController(a.default),o.default.setRESTController(c.default),v.initialize=v._initialize,v.Cloud=v.Cloud||{},v.Cloud.useMasterKey=function(){o.default.set("USE_MASTER_KEY",!0)},v.Hooks=r(198),v.Moralis=v,e.exports=v},function(e,t,r){"use strict";function n(e){if(e<26)return String.fromCharCode(65+e);if(e<52)return String.fromCharCode(e-26+97);if(e<62)return String.fromCharCode(e-52+48);if(62===e)return"+";if(63===e)return"/";throw new TypeError(`Tried to encode large digit ${e} in base64.`)}e.exports={encodeBase64:function(e){const t=[];t.length=Math.ceil(e.length/3);for(let r=0;r<t.length;r++){const i=e[3*r],o=e[3*r+1]||0,s=e[3*r+2]||0,a=3*r+1<e.length,u=3*r+2<e.length;t[r]=[n(i>>2&63),n(i<<4&48|o>>4&15),a?n(o<<2&60|s>>6&3):"=",u?n(63&s):"="].join("")}return t.join("")},b64Digit:n}},function(e,t,r){var n=r(48),i=r(50),o=e.exports;for(var s in n)n.hasOwnProperty(s)&&(o[s]=n[s]);function a(e){if("string"==typeof e&&(e=i.parse(e)),e.protocol||(e.protocol="https:"),"https:"!==e.protocol)throw new Error('Protocol "'+e.protocol+'" not supported. Expected "https:"');return e}o.request=function(e,t){return e=a(e),n.request.call(this,e,t)},o.get=function(e,t){return e=a(e),n.get.call(this,e,t)}},function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},function(e,t,r){(function(e){t.fetch=a(e.fetch)&&a(e.ReadableStream),t.writableStream=a(e.WritableStream),t.abortController=a(e.AbortController),t.blobConstructor=!1;try{new Blob([new ArrayBuffer(1)]),t.blobConstructor=!0}catch(e){}var r;function n(){if(void 0!==r)return r;if(e.XMLHttpRequest){r=new e.XMLHttpRequest;try{r.open("GET",e.XDomainRequest?"/":"https://example.com")}catch(e){r=null}}else r=null;return r}function i(e){var t=n();if(!t)return!1;try{return t.responseType=e,t.responseType===e}catch(e){}return!1}var o=void 0!==e.ArrayBuffer,s=o&&a(e.ArrayBuffer.prototype.slice);function a(e){return"function"==typeof e}t.arraybuffer=t.fetch||o&&i("arraybuffer"),t.msstream=!t.fetch&&s&&i("ms-stream"),t.mozchunkedarraybuffer=!t.fetch&&o&&i("moz-chunked-arraybuffer"),t.overrideMimeType=t.fetch||!!n()&&a(n().overrideMimeType),t.vbArray=a(e.VBArray),r=null}).call(this,r(7))},function(e,t,r){(function(e,n,i){var o=r(62),s=r(18),a=r(64),u=t.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},c=t.IncomingMessage=function(t,r,s,u){var c=this;if(a.Readable.call(c),c._mode=s,c.headers={},c.rawHeaders=[],c.trailers={},c.rawTrailers=[],c.on("end",(function(){e.nextTick((function(){c.emit("close")}))})),"fetch"===s){if(c._fetchResponse=r,c.url=r.url,c.statusCode=r.status,c.statusMessage=r.statusText,r.headers.forEach((function(e,t){c.headers[t.toLowerCase()]=e,c.rawHeaders.push(t,e)})),o.writableStream){var l=new WritableStream({write:function(e){return new Promise((function(t,r){c._destroyed?r():c.push(new n(e))?t():c._resumeFetch=t}))},close:function(){i.clearTimeout(u),c._destroyed||c.push(null)},abort:function(e){c._destroyed||c.emit("error",e)}});try{return void r.body.pipeTo(l).catch((function(e){i.clearTimeout(u),c._destroyed||c.emit("error",e)}))}catch(e){}}var h=r.body.getReader();!function e(){h.read().then((function(t){if(!c._destroyed){if(t.done)return i.clearTimeout(u),void c.push(null);c.push(new n(t.value)),e()}})).catch((function(e){i.clearTimeout(u),c._destroyed||c.emit("error",e)}))}()}else{if(c._xhr=t,c._pos=0,c.url=t.responseURL,c.statusCode=t.status,c.statusMessage=t.statusText,t.getAllResponseHeaders().split(/\r?\n/).forEach((function(e){var t=e.match(/^([^:]+):\s*(.*)/);if(t){var r=t[1].toLowerCase();"set-cookie"===r?(void 0===c.headers[r]&&(c.headers[r]=[]),c.headers[r].push(t[2])):void 0!==c.headers[r]?c.headers[r]+=", "+t[2]:c.headers[r]=t[2],c.rawHeaders.push(t[1],t[2])}})),c._charset="x-user-defined",!o.overrideMimeType){var f=c.rawHeaders["mime-type"];if(f){var d=f.match(/;\s*charset=([^;])(;|$)/);d&&(c._charset=d[1].toLowerCase())}c._charset||(c._charset="utf-8")}}};s(c,a.Readable),c.prototype._read=function(){var e=this._resumeFetch;e&&(this._resumeFetch=null,e())},c.prototype._onXHRProgress=function(){var e=this,t=e._xhr,r=null;switch(e._mode){case"text:vbarray":if(t.readyState!==u.DONE)break;try{r=new i.VBArray(t.responseBody).toArray()}catch(e){}if(null!==r){e.push(new n(r));break}case"text":try{r=t.responseText}catch(t){e._mode="text:vbarray";break}if(r.length>e._pos){var o=r.substr(e._pos);if("x-user-defined"===e._charset){for(var s=new n(o.length),a=0;a<o.length;a++)s[a]=255&o.charCodeAt(a);e.push(s)}else e.push(o,e._charset);e._pos=r.length}break;case"arraybuffer":if(t.readyState!==u.DONE||!t.response)break;r=t.response,e.push(new n(new Uint8Array(r)));break;case"moz-chunked-arraybuffer":if(r=t.response,t.readyState!==u.LOADING||!r)break;e.push(new n(new Uint8Array(r)));break;case"ms-stream":if(r=t.response,t.readyState!==u.LOADING)break;var c=new i.MSStreamReader;c.onprogress=function(){c.result.byteLength>e._pos&&(e.push(new n(new Uint8Array(c.result.slice(e._pos)))),e._pos=c.result.byteLength)},c.onload=function(){e.push(null)},c.readAsArrayBuffer(r)}e._xhr.readyState===u.DONE&&"ms-stream"!==e._mode&&e.push(null)}}).call(this,r(12),r(22).Buffer,r(7))},function(e,t,r){(t=e.exports=r(65)).Stream=t,t.Readable=t,t.Writable=r(68),t.Duplex=r(27),t.Transform=r(71),t.PassThrough=r(119)},function(e,t,r){"use strict";(function(t,n){var i=r(39);e.exports=b;var o,s=r(61);b.ReadableState=v;r(23).EventEmitter;var a=function(e,t){return e.listeners(t).length},u=r(66),c=r(49).Buffer,l=t.Uint8Array||function(){};var h=Object.create(r(34));h.inherits=r(18);var f=r(113),d=void 0;d=f&&f.debuglog?f.debuglog("stream"):function(){};var p,g=r(114),m=r(67);h.inherits(b,u);var y=["error","close","destroy","pause","resume"];function v(e,t){e=e||{};var n=t instanceof(o=o||r(27));this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var i=e.highWaterMark,s=e.readableHighWaterMark,a=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:n&&(s||0===s)?s:a,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new g,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(p||(p=r(70).StringDecoder),this.decoder=new p(e.encoding),this.encoding=e.encoding)}function b(e){if(o=o||r(27),!(this instanceof b))return new b(e);this._readableState=new v(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),u.call(this)}function w(e,t,r,n,i){var o,s=e._readableState;null===t?(s.reading=!1,function(e,t){if(t.ended)return;if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,A(e)}(e,s)):(i||(o=function(e,t){var r;n=t,c.isBuffer(n)||n instanceof l||"string"==typeof t||void 0===t||e.objectMode||(r=new TypeError("Invalid non-string/buffer chunk"));var n;return r}(s,t)),o?e.emit("error",o):s.objectMode||t&&t.length>0?("string"==typeof t||s.objectMode||Object.getPrototypeOf(t)===c.prototype||(t=function(e){return c.from(e)}(t)),n?s.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):_(e,s,t,!0):s.ended?e.emit("error",new Error("stream.push() after EOF")):(s.reading=!1,s.decoder&&!r?(t=s.decoder.write(t),s.objectMode||0!==t.length?_(e,s,t,!1):O(e,s)):_(e,s,t,!1))):n||(s.reading=!1));return function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(s)}function _(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&A(e)),O(e,t)}Object.defineProperty(b.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),b.prototype.destroy=m.destroy,b.prototype._undestroy=m.undestroy,b.prototype._destroy=function(e,t){this.push(null),t(e)},b.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=c.from(e,t),t=""),r=!0),w(this,e,t,!1,r)},b.prototype.unshift=function(e){return w(this,e,null,!0,!1)},b.prototype.isPaused=function(){return!1===this._readableState.flowing},b.prototype.setEncoding=function(e){return p||(p=r(70).StringDecoder),this._readableState.decoder=new p(e),this._readableState.encoding=e,this};function E(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=8388608?e=8388608:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function A(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(d("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?i.nextTick(P,e):P(e))}function P(e){d("emit readable"),e.emit("readable"),N(e)}function O(e,t){t.readingMore||(t.readingMore=!0,i.nextTick(S,e,t))}function S(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(d("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}function C(e){d("readable nexttick read 0"),e.read(0)}function k(e,t){t.reading||(d("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),N(e),t.flowing&&!t.reading&&e.read(0)}function N(e){var t=e._readableState;for(d("flow",t.flowing);t.flowing&&null!==e.read(););}function T(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):r=function(e,t,r){var n;e<t.head.data.length?(n=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):n=e===t.head.data.length?t.shift():r?function(e,t){var r=t.head,n=1,i=r.data;e-=i.length;for(;r=r.next;){var o=r.data,s=e>o.length?o.length:e;if(s===o.length?i+=o:i+=o.slice(0,e),0===(e-=s)){s===o.length?(++n,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(s));break}++n}return t.length-=n,i}(e,t):function(e,t){var r=c.allocUnsafe(e),n=t.head,i=1;n.data.copy(r),e-=n.data.length;for(;n=n.next;){var o=n.data,s=e>o.length?o.length:e;if(o.copy(r,r.length-e,0,s),0===(e-=s)){s===o.length?(++i,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(s));break}++i}return t.length-=i,r}(e,t);return n}(e,t.buffer,t.decoder),r);var r}function I(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,i.nextTick(R,t,e))}function R(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function x(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}b.prototype.read=function(e){d("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return d("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?I(this):A(this),null;if(0===(e=E(e,t))&&t.ended)return 0===t.length&&I(this),null;var n,i=t.needReadable;return d("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&d("length less than watermark",i=!0),t.ended||t.reading?d("reading or ended",i=!1):i&&(d("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=E(r,t))),null===(n=e>0?T(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&I(this)),null!==n&&this.emit("data",n),n},b.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},b.prototype.pipe=function(e,t){var r=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=e;break;case 1:o.pipes=[o.pipes,e];break;default:o.pipes.push(e)}o.pipesCount+=1,d("pipe count=%d opts=%j",o.pipesCount,t);var u=(!t||!1!==t.end)&&e!==n.stdout&&e!==n.stderr?l:b;function c(t,n){d("onunpipe"),t===r&&n&&!1===n.hasUnpiped&&(n.hasUnpiped=!0,d("cleanup"),e.removeListener("close",y),e.removeListener("finish",v),e.removeListener("drain",h),e.removeListener("error",m),e.removeListener("unpipe",c),r.removeListener("end",l),r.removeListener("end",b),r.removeListener("data",g),f=!0,!o.awaitDrain||e._writableState&&!e._writableState.needDrain||h())}function l(){d("onend"),e.end()}o.endEmitted?i.nextTick(u):r.once("end",u),e.on("unpipe",c);var h=function(e){return function(){var t=e._readableState;d("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&a(e,"data")&&(t.flowing=!0,N(e))}}(r);e.on("drain",h);var f=!1;var p=!1;function g(t){d("ondata"),p=!1,!1!==e.write(t)||p||((1===o.pipesCount&&o.pipes===e||o.pipesCount>1&&-1!==x(o.pipes,e))&&!f&&(d("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,p=!0),r.pause())}function m(t){d("onerror",t),b(),e.removeListener("error",m),0===a(e,"error")&&e.emit("error",t)}function y(){e.removeListener("finish",v),b()}function v(){d("onfinish"),e.removeListener("close",y),b()}function b(){d("unpipe"),r.unpipe(e)}return r.on("data",g),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?s(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",m),e.once("close",y),e.once("finish",v),e.emit("pipe",r),o.flowing||(d("pipe resume"),r.resume()),e},b.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,r);return this}var s=x(t.pipes,e);return-1===s||(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},b.prototype.on=function(e,t){var r=u.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var n=this._readableState;n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&A(this):i.nextTick(C,this))}return r},b.prototype.addListener=b.prototype.on,b.prototype.resume=function(){var e=this._readableState;return e.flowing||(d("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,i.nextTick(k,e,t))}(this,e)),this},b.prototype.pause=function(){return d("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(d("pause"),this._readableState.flowing=!1,this.emit("pause")),this},b.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var i in e.on("end",(function(){if(d("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){(d("wrapped data"),r.decoder&&(i=r.decoder.write(i)),r.objectMode&&null==i)||(r.objectMode||i&&i.length)&&(t.push(i)||(n=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<y.length;o++)e.on(y[o],this.emit.bind(this,y[o]));return this._read=function(t){d("wrapped _read",t),n&&(n=!1,e.resume())},this},Object.defineProperty(b.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),b._fromList=T}).call(this,r(7),r(12))},function(e,t,r){e.exports=r(23).EventEmitter},function(e,t,r){"use strict";var n=r(39);function i(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var r=this,o=this._readableState&&this._readableState.destroyed,s=this._writableState&&this._writableState.destroyed;return o||s?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||n.nextTick(i,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?(n.nextTick(i,r,e),r._writableState&&(r._writableState.errorEmitted=!0)):t&&t(e)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(e,t,r){"use strict";(function(t,n,i){var o=r(39);function s(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;e.entry=null;for(;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=v;var a,u=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?n:o.nextTick;v.WritableState=y;var c=Object.create(r(34));c.inherits=r(18);var l={deprecate:r(117)},h=r(66),f=r(49).Buffer,d=i.Uint8Array||function(){};var p,g=r(67);function m(){}function y(e,t){a=a||r(27),e=e||{};var n=t instanceof a;this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var i=e.highWaterMark,c=e.writableHighWaterMark,l=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:n&&(c||0===c)?c:l,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var h=!1===e.decodeStrings;this.decodeStrings=!h,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,i){--t.pendingcb,r?(o.nextTick(i,n),o.nextTick(P,e,t),e._writableState.errorEmitted=!0,e.emit("error",n)):(i(n),e._writableState.errorEmitted=!0,e.emit("error",n),P(e,t))}(e,r,n,t,i);else{var s=E(r);s||r.corked||r.bufferProcessing||!r.bufferedRequest||_(e,r),n?u(w,e,r,s,i):w(e,r,s,i)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new s(this)}function v(e){if(a=a||r(27),!(p.call(v,this)||this instanceof a))return new v(e);this._writableState=new y(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),h.call(this)}function b(e,t,r,n,i,o,s){t.writelen=n,t.writecb=s,t.writing=!0,t.sync=!0,r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function w(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),P(e,t)}function _(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),o=t.corkedRequestsFree;o.entry=r;for(var a=0,u=!0;r;)i[a]=r,r.isBuf||(u=!1),r=r.next,a+=1;i.allBuffers=u,b(e,t,!0,t.length,i,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new s(t),t.bufferedRequestCount=0}else{for(;r;){var c=r.chunk,l=r.encoding,h=r.callback;if(b(e,t,!1,t.objectMode?1:c.length,c,l,h),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function E(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function A(e,t){e._final((function(r){t.pendingcb--,r&&e.emit("error",r),t.prefinished=!0,e.emit("prefinish"),P(e,t)}))}function P(e,t){var r=E(t);return r&&(!function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,o.nextTick(A,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),r}c.inherits(v,h),y.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(y.prototype,"buffer",{get:l.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(p=Function.prototype[Symbol.hasInstance],Object.defineProperty(v,Symbol.hasInstance,{value:function(e){return!!p.call(this,e)||this===v&&(e&&e._writableState instanceof y)}})):p=function(e){return e instanceof this},v.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},v.prototype.write=function(e,t,r){var n,i=this._writableState,s=!1,a=!i.objectMode&&(n=e,f.isBuffer(n)||n instanceof d);return a&&!f.isBuffer(e)&&(e=function(e){return f.from(e)}(e)),"function"==typeof t&&(r=t,t=null),a?t="buffer":t||(t=i.defaultEncoding),"function"!=typeof r&&(r=m),i.ended?function(e,t){var r=new Error("write after end");e.emit("error",r),o.nextTick(t,r)}(this,r):(a||function(e,t,r,n){var i=!0,s=!1;return null===r?s=new TypeError("May not write null values to stream"):"string"==typeof r||void 0===r||t.objectMode||(s=new TypeError("Invalid non-string/buffer chunk")),s&&(e.emit("error",s),o.nextTick(n,s),i=!1),i}(this,i,e,r))&&(i.pendingcb++,s=function(e,t,r,n,i,o){if(!r){var s=function(e,t,r){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=f.from(t,r));return t}(t,n,i);n!==s&&(r=!0,i="buffer",n=s)}var a=t.objectMode?1:n.length;t.length+=a;var u=t.length<t.highWaterMark;u||(t.needDrain=!0);if(t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else b(e,t,!1,a,n,i,o);return u}(this,i,a,e,t,r)),s},v.prototype.cork=function(){this._writableState.corked++},v.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||_(this,e))},v.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(v.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),v.prototype._write=function(e,t,r){r(new Error("_write() is not implemented"))},v.prototype._writev=null,v.prototype.end=function(e,t,r){var n=this._writableState;"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||n.finished||function(e,t,r){t.ending=!0,P(e,t),r&&(t.finished?o.nextTick(r):e.once("finish",r));t.ended=!0,e.writable=!1}(this,n,r)},Object.defineProperty(v.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),v.prototype.destroy=g.destroy,v.prototype._undestroy=g.undestroy,v.prototype._destroy=function(e,t){this.end(),t(e)}}).call(this,r(12),r(69).setImmediate,r(7))},function(e,t,r){(function(e){var n=void 0!==e&&e||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function o(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new o(i.call(setTimeout,n,arguments),clearTimeout)},t.setInterval=function(){return new o(i.call(setInterval,n,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(n,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},r(116),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,r(7))},function(e,t,r){"use strict";var n=r(118).Buffer,i=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(n.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=u,this.end=c,t=4;break;case"utf8":this.fillLast=a,t=4;break;case"base64":this.text=l,this.end=h,t=3;break;default:return this.write=f,void(this.end=d)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function s(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function a(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if(128!=(192&t[0]))return e.lastNeed=0,"";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,""}}(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function u(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function c(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function l(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function h(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function f(e){return e.toString(this.encoding)}function d(e){return e&&e.length?this.write(e):""}t.StringDecoder=o,o.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t},o.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var i=s(t[n]);if(i>=0)return i>0&&(e.lastNeed=i-1),i;if(--n<r||-2===i)return 0;if((i=s(t[n]))>=0)return i>0&&(e.lastNeed=i-2),i;if(--n<r||-2===i)return 0;if((i=s(t[n]))>=0)return i>0&&(2===i?i=0:e.lastNeed=i-3),i;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,t,r){"use strict";e.exports=s;var n=r(27),i=Object.create(r(34));function o(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function s(e){if(!(this instanceof s))return new s(e);n.call(this,e),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",a)}function a(){var e=this;"function"==typeof this._flush?this._flush((function(t,r){u(e,t,r)})):u(this,null,null)}function u(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}i.inherits=r(18),i.inherits(s,n),s.prototype.push=function(e,t){return this._transformState.needTransform=!1,n.prototype.push.call(this,e,t)},s.prototype._transform=function(e,t,r){throw new Error("_transform() is not implemented")},s.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},s.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},s.prototype._destroy=function(e,t){var r=this;n.prototype._destroy.call(this,e,(function(e){t(e),r.emit("close")}))}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(e.indexOf(t)>-1)return!0;for(let r=0;r<e.length;r++)if(e[r]instanceof i.default&&e[r].className===t.className&&e[r]._getId()===t._getId())return!0;return!1};var n,i=(n=r(3))&&n.__esModule?n:{default:n}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=[];return e.forEach(e=>{e instanceof i.default?(0,n.default)(t,e)||t.push(e):t.indexOf(e)<0&&t.push(e)}),t};var n=o(r(73)),i=o(r(3));function o(e){return e&&e.__esModule?e:{default:e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.replace(/[&<>/'"]/g,e=>n[e])};const n={"&":"&amp;","<":"&lt;",">":"&gt;","/":"&#x2F;","'":"&#x27;",'"':"&quot;"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.commitServerChanges=function(e,t,r){for(const a in r){const u=r[a];if(e[a]=u,u&&"object"==typeof u&&!(u instanceof o.default)&&!(u instanceof i.default)&&!(u instanceof s.default)){const e=(0,n.default)(u,!1,!0);t[a]=JSON.stringify(e)}}},t.defaultState=function(){return{serverData:{},pendingOps:[{}],objectCache:{},tasks:new a.default,existed:!1}},t.estimateAttribute=function(e,t,r,n,i){let o=e[i];for(let e=0;e<t.length;e++)t[e][i]&&(t[e][i]instanceof u.RelationOp?n&&(o=t[e][i].applyTo(o,{className:r,id:n},i)):o=t[e][i].applyTo(o));return o},t.estimateAttributes=function(e,t,r,n){const i={};for(var o in e)i[o]=e[o];for(let s=0;s<t.length;s++)for(o in t[s])if(t[s][o]instanceof u.RelationOp)n&&(i[o]=t[s][o].applyTo(i[o],{className:r,id:n},o));else if(o.includes(".")){const r=o.split("."),n=r[0],a=r[r.length-1];i[n]=h({},e[n]);let u=h({},i);for(let e=0;e<r.length-1;e++)u=u[r[e]];u[a]=t[s][o].applyTo(u[a])}else i[o]=t[s][o].applyTo(i[o]);return i},t.mergeFirstPendingState=function(e){const t=d(e),r=e[0];for(const e in t)if(r[e]&&t[e]){const n=r[e].mergeWith(t[e]);n&&(r[e]=n)}else r[e]=t[e]},t.popPendingState=d,t.pushPendingState=function(e){e.push({})},t.setPendingOp=function(e,t,r){const n=e.length-1;r?e[n][t]=r:delete e[n][t]},t.setServerData=function(e,t){for(const r in t)void 0!==t[r]?e[r]=t[r]:delete e[r]};var n=c(r(24)),i=c(r(17)),o=c(r(3)),s=c(r(19)),a=c(r(77)),u=r(28);function c(e){return e&&e.__esModule?e:{default:e}}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d(e){const t=e.shift();return e.length||(e[0]={}),t}},function(e,t,r){"use strict";var n=r(29);e.exports=class{constructor(){var e,t,r;r=void 0,(t="queue")in(e=this)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,this.queue=[]}enqueue(e){const t=new n.resolvingPromise;return this.queue.push({task:e,_completion:t}),1===this.queue.length&&e().then(()=>{this._dequeue(),t.resolve()},e=>{this._dequeue(),t.reject(e)}),t}_dequeue(){if(this.queue.shift(),this.queue.length){const e=this.queue[0];e.task().then(()=>{this._dequeue(),e._completion.resolve()},t=>{this._dequeue(),e._completion.reject(t)})}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(15))&&n.__esModule?n:{default:n};const{v4:o}=r(44);let s=!1;var a={isLinked(e){const t=this._getAuthProvider();return e._isLinked(t.getAuthType())},logIn(e){const t=this._getAuthProvider();return i.default.logInWith(t.getAuthType(),t.getAuthData(),e)},link(e,t){const r=this._getAuthProvider();return e.linkWith(r.getAuthType(),r.getAuthData(),t)},_getAuthProvider(){const e={restoreAuthentication:()=>!0,getAuthType:()=>"anonymous",getAuthData:()=>({authData:{id:o()}})};return s||(i.default._registerAuthenticationProvider(e),s=!0),e}};t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.indexOf("r:")>-1}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(r(4)),i=a(r(79)),o=a(r(3)),s=a(r(15));function a(e){return e&&e.__esModule?e:{default:e}}class u extends o.default{constructor(e){if(super("_Session"),e&&"object"==typeof e&&!this.set(e||{}))throw new Error("Can't create an invalid Session")}getSessionToken(){const e=this.get("sessionToken");return"string"==typeof e?e:""}static readOnlyAttributes(){return["createdWith","expiresAt","installationId","restricted","sessionToken","user"]}static current(e){e=e||{};const t=n.default.getSessionController(),r={};return e.hasOwnProperty("useMasterKey")&&(r.useMasterKey=e.useMasterKey),s.default.currentAsync().then(e=>e?(r.sessionToken=e.getSessionToken(),t.getSession(r)):Promise.reject("There is no current user."))}static isCurrentSessionRevocable(){const e=s.default.current();return!!e&&(0,i.default)(e.getSessionToken()||"")}}o.default.registerSubclass("_Session",u);const c={getSession(e){const t=n.default.getRESTController(),r=new u;return t.request("GET","sessions/me",{},e).then(e=>(r._finishFetch(e),r._setExisted(!0),r))}};n.default.setSessionController(c);var l=u;t.default=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(26),i=A(r(23)),o=A(r(3)),s=A(r(14)),a=A(r(15)),u=A(r(13)),c=A(r(85)),l=A(r(86)),h=A(r(142)),f=A(r(143)),d=r(51),p=A(r(42)),g=A(r(144)),m=A(r(145)),y=A(r(146)),v=(A(r(10)),function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=E(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(r(147))),b=A(r(148)),w=A(r(149)),_=r(150);function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(E=function(e){return e?r:t})(e)}function A(e){return e&&e.__esModule?e:{default:e}}function P(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const O=new i.default;class S{static addListener(e,t){return O.on(e,t),()=>O.removeListener(e,t)}static on(e,t){return O.on(e,t),()=>O.removeListener(e,t)}static once(e,t){return O.once(e,t),()=>O.removeListener(e,t)}static removeListener(e,t){return O.removeListener(e,t)}static off(e,t){return O.off(e,t)}static removeAllListeners(e,t){return O.removeAllListeners(e,t)}static isWeb3Enabled(){return this.ensureWeb3IsInstalled()}static handleWeb3AccountChanged(e){O.emit(v.InternalWeb3Events.ACCOUNT_CHANGED,e)}static handleWeb3ChainChanged(e){var t;this.web3=null===(t=this.internalWeb3Provider)||void 0===t?void 0:t.web3,O.emit(v.InternalWeb3Events.CHAIN_CHANGED,e)}static handleWeb3Connect(e){O.emit(v.InternalWeb3Events.PROVIDER_CONNECT,e)}static handleWeb3Disconnect(e){"MetaMask: Disconnected from chain. Attempting to connect."!==(null==e?void 0:e.message)&&(this.cleanup(),O.emit(v.InternalWeb3Events.PROVIDER_DISCONNECT,e))}static async enableWeb3(e={}){if(this.isEnablingWeb3)throw new Error("Cannot execute Moralis.enableWeb3(), as Moralis Moralis.enableWeb3() already has been called, but is not finished yet ");try{var t;this.isEnablingWeb3=!0,this.speedyNodeApiKey&&(e.speedyNodeApiKey=this.speedyNodeApiKey,e.provider="network");const r=new(null!==(t=null==e?void 0:e.connector)&&void 0!==t?t:S.getWeb3Connector(null==e?void 0:e.provider))(e),n=!0===(null==e?void 0:e.anyNetwork);let i,o,s,a;this.internalWeb3Provider=new v.default(r,n,e.privateKey),this.internalWeb3Provider.on(v.InternalWeb3Events.ACCOUNT_CHANGED,e=>this.handleWeb3AccountChanged(e)),this.internalWeb3Provider.on(v.InternalWeb3Events.CHAIN_CHANGED,e=>this.handleWeb3ChainChanged(e)),this.internalWeb3Provider.on(v.InternalWeb3Events.PROVIDER_CONNECT,e=>this.handleWeb3Connect(e)),this.internalWeb3Provider.on(v.InternalWeb3Events.PROVIDER_DISCONNECT,e=>this.handleWeb3Disconnect(e));try{if(({provider:i,chainId:o,account:s,web3:a}=await this.internalWeb3Provider.activate(e)),!i)throw new Error("Failed to activate, no provider returned")}catch(e){throw await this.cleanup(),e}const u=a;return this.web3=a,O.emit(v.InternalWeb3Events.WEB3_ENABLED,{chainId:o,account:s,connector:r,provider:i,web3:u}),u}catch(e){throw e}finally{this.isEnablingWeb3=!1}}static isDotAuth(e){switch(null==e?void 0:e.type){case"dot":case"polkadot":case"kusama":return!0;default:return!1}}static isElrondAuth(e){switch(null==e?void 0:e.type){case"erd":case"elrond":return!0;default:return!1}}static isSolAuth(e){switch(null==e?void 0:e.type){case"sol":return!0;default:return!1}}static getWeb3Connector(e){switch(e){case"walletconnect":case"walletConnect":case"wc":return g.default;case"network":return y.default;case"magicLink":return w.default;case"web3Auth":return _.Web3Auth;default:return m.default}}static async deactivateWeb3(){return this.cleanup()}static async cleanup(){if(this.isEnablingWeb3)return this.isEnablingWeb3=!1,this.internalWeb3Provider=null,void(this.web3=null);if(this.web3&&this.internalWeb3Provider&&O.emit(v.InternalWeb3Events.WEB3_DEACTIVATED,{connector:this.internalWeb3Provider.connector,provider:this.internalWeb3Provider.provider}),this.internalWeb3Provider){this.internalWeb3Provider.removeListener(v.InternalWeb3Events.ACCOUNT_CHANGED,this.handleWeb3AccountChanged),this.internalWeb3Provider.removeListener(v.InternalWeb3Events.CHAIN_CHANGED,this.handleWeb3ChainChanged),this.internalWeb3Provider.removeListener(v.InternalWeb3Events.PROVIDER_CONNECT,this.handleWeb3Connect),this.internalWeb3Provider.removeListener(v.InternalWeb3Events.PROVIDER_DISCONNECT,this.handleWeb3Disconnect);try{await this.internalWeb3Provider.deactivate()}catch(e){}}this.internalWeb3Provider=null,this.web3=null}static async authenticate(e){if(await a.default.currentAsync()&&await a.default.logOut(),S.isDotAuth(e))return l.default.authenticate(e);if(S.isElrondAuth(e))return c.default.authenticate(e);if(S.isSolAuth(e))return h.default.authenticate(e);await this.enableWeb3(e);const{account:t,web3:r,signer:n}=this.getInternalWeb3Provider();if(!t)throw new Error("Cannot authenticate, no account returned from provider");const i=(null==e?void 0:e.signingMessage)||S.getSigningData(),o=await(0,p.default)(i),s=t.toLowerCase();if(!s)throw new Error("Address not found");const f=await n.signMessage(o);if(!f)throw new Error("Data not signed");const d=await a.default.logInWith("moralisEth",{authData:{id:s,signature:f,data:o}});if(!d)throw new Error("Could not get user");return await d.setACL(new u.default(d)),d.addAllUnique("accounts",[s]),d.set("ethAddress",s),await d.save(null,e),d}static async link(e,t){const{signer:r}=this.getInternalWeb3Provider(),n=(null==t?void 0:t.signingMessage)||S.getSigningData(),i=await a.default.currentAsync(),u=e.toLowerCase(),c=o.default.extend("_EthAddress"),l=new s.default(c);if(!await l.get(u).catch(()=>null)){const e=await(0,p.default)(n),t=await r.signMessage(e);if(!t)throw new Error("Data not signed");await i.linkWith("moralisEth",{authData:{id:u,signature:t,data:e}})}return i.addAllUnique("accounts",[u]),i.set("ethAddress",u),await i.save(null,t),i}static async unlink(e){var t;const r=e.toLowerCase(),n=o.default.extend("_EthAddress"),i=new s.default(n),u=await i.get(r);await u.destroy();const c=await a.default.currentAsync(),l=(null!==(t=c.get("accounts"))&&void 0!==t?t:[]).filter(e=>e!==r);return c.set("accounts",l),c.set("ethAddress",l[0]),await c._unlinkFrom("moralisEth"),await c.save(),c}static async initPlugins(e){const t=e||await(0,d.run)("getPluginSpecs");if(this.Plugins||(this.Plugins={}),!t)return;const r=this.Plugins;t.forEach(e=>{r[e.name]={},e.functions.forEach(t=>{r[e.name][t]=async(r,n)=>{n||(n={});const i=await(0,d.run)(`${e.name}_${t}`,r);if(!i.data.success){const e=JSON.stringify(i.data.data,null,2);throw new Error("Something went wrong\n"+e)}if(!0!==n.disableTriggers){const e=await this.handleTriggers(i.data.result.triggers,i.data.result.data);if(e)return e}return i.data.result}})}),this.Plugins=r}static async handleTriggers(e,t){var r,i,o,s,a,u,c,l,h,f,p,g,m,y,v,b,w,_,E,A,P,O,S,C,k,N,T;if(e){for(let R=0;R<e.length;R++)switch(e[R].name){case"openUrl":e[R].newTab?window.open(e[R].url):window.open(e[R].url,"_self");break;case"web3Transaction":if(M=await this.getInternalWeb3Provider().signer.sendTransaction({from:null===(r=e[R])||void 0===r||null===(i=r.data)||void 0===i?void 0:i.from,to:null===(o=e[R])||void 0===o||null===(s=o.data)||void 0===s?void 0:s.to,value:n.ethers.BigNumber.from(null!==(a=null===(u=e[R])||void 0===u||null===(c=u.data)||void 0===c?void 0:c.value)&&void 0!==a?a:0),data:null===(l=e[R])||void 0===l||null===(h=l.data)||void 0===h?void 0:h.data}),!0===(null===(f=e[R])||void 0===f?void 0:f.shouldAwait)&&(M=await M.wait()),!0===(null===(p=e[R])||void 0===p?void 0:p.saveResponse)&&this.memoryCard.save(M),!0===(null===(g=e[R])||void 0===g?void 0:g.shouldReturnPayload))return{payload:t,response:M};if(!0===(null===(m=e[R])||void 0===m?void 0:m.shouldReturnResponse))return M;break;case"web3Sign":if(!e[R].message)throw new Error("web3Sign trigger does not have a message to sign");if(!e[R].signer)throw new Error("web3Sign trigger signer address missing or invalid");const x=JSON.parse(e[R].message);delete x.types.EIP712Domain;let M=await this.getInternalWeb3Provider().signer._signTypedData(x.domain,x.types,x.message);if(!0===(null===(y=e[R])||void 0===y?void 0:y.saveResponse)&&this.memoryCard.save(M),!0===(null===(v=e[R])||void 0===v?void 0:v.shouldReturnPayload))return{payload:t,response:M};if(!0===(null===(b=e[R])||void 0===b?void 0:b.shouldReturnResponse))return M;break;case"callPluginEndpoint":if(!e[R].pluginName)throw new Error("callPluginEndpoint trigger does not have an plugin name to call");if(!e[R].endpoint)throw new Error("callPluginEndpoint trigger does not have an endpoint to call");if(!0===(null===(w=e[R])||void 0===w?void 0:w.shouldAwait)&&(!0===e[R].useSavedResponse&&(e[R].params[e[R].savedResponseAs]=this.memoryCard.get(e[R].savedResponseAt)),M=await(0,d.run)(`${e[R].pluginName}_${e[R].endpoint}`,e[R].params)),!1===(null===(_=e[R])||void 0===_?void 0:_.shouldAwait)&&(!0===e[R].useSavedResponse&&(e[R].params[e[R].savedResponseAs]=this.memoryCard.get(e[R].savedResponseAt)),M=(0,d.run)(`${e[R].pluginName}_${e[R].endpoint}`,e[R].params)),!0===e[R].runResponseTrigger&&(M=await this.handleTriggers(M.data.result.triggers,M.data.result.data)),!0===(null===(E=e[R])||void 0===E?void 0:E.saveResponse)&&this.memoryCard.save(M),!1===(null===(A=e[R])||void 0===A?void 0:A.runResponseTrigger))continue;if(!0===(null===(P=e[R])||void 0===P?void 0:P.shouldReturnPayload))return{payload:"payload",response:M};if(!0===(null===(O=e[R])||void 0===O?void 0:O.shouldReturnResponse))return M;break;case"web3SignV4":if(!e[R].parameters)throw new Error("web3SignV4 trigger does not have `parameters` to sign");if(!e[R].from)throw new Error("web3SignV4 trigger does not have a `from` address");if(!0===(null===(S=e[R])||void 0===S?void 0:S.shouldAwait))try{var I;const{domain:t,types:r,message:n}=JSON.parse(e[R].parameters[1]);r.EIP712Domain&&delete r.EIP712Domain;const i={result:await this.getInternalWeb3Provider().signer._signTypedData(t,r,n)};!0===(null===(I=e[R])||void 0===I?void 0:I.saveResponse)&&this.memoryCard.save(i),M=i}catch(e){throw new Error(e.message||e)}if(!1===(null===(C=e[R])||void 0===C?void 0:C.shouldAwait)){const{domain:t,types:r,message:n}=JSON.parse(e[R].parameters[1]);r.EIP712Domain&&delete r.EIP712Domain,this.getInternalWeb3Provider().signer._signTypedData(t,r,n).then(t=>{var r;const n={result:t};!0===(null===(r=e[R])||void 0===r?void 0:r.saveResponse)&&this.memoryCard.save(n),M=n}).catch(e=>{throw new Error(e.message||e)})}if(!0===(null===(k=e[R])||void 0===k?void 0:k.shouldReturnPayload))return{payload:t,response:M};if(!0===(null===(N=e[R])||void 0===N?void 0:N.shouldReturnResponse))return M;break;default:throw new Error(`Unknown trigger: "${null===(T=e[R])||void 0===T?void 0:T.name}"`)}this.memoryCard.deleteSaved()}}static async getAllERC20({chain:e,address:t}={}){return await(0,d.run)("getAllERC20",{chain:e,address:t})}static async getERC20({chain:e,address:t,symbol:r,tokenAddress:n}={}){return(0,d.run)("getERC20",{chain:e,address:t,symbol:r,tokenAddress:n})}static getNFTs({chain:e="Eth",address:t=""}={}){return(0,d.run)("getNFTs_old",{chain:e,address:t})}static getNFTsCount({chain:e="Eth",address:t=""}={}){return(0,d.run)("getNFTsCount_old",{chain:e,address:t})}static getTransactions({chain:e="Eth",address:t="",order:r="desc"}={}){return(0,d.run)("getTransactions",{chain:e,address:t,order:r})}static getTransactionsCount({chain:e="Eth",address:t=""}={}){return(0,d.run)("getTransactionsCount",{chain:e,address:t})}static async transfer({type:e="native",receiver:t="",contractAddress:r="",contract_address:i,amount:o="",tokenId:s="",token_id:a,system:u="evm"}={}){const c={receiver:t,contractAddress:r=r||i,amount:o,tokenId:s=s||a,system:u};f.default.isSupportedType(e),f.default.validateInput(e,c);const{web3:l,account:h,signer:d}=this.getInternalWeb3Provider();if(!h)throw new Error("Sender address not found");let p,g;switch(s&&f.default.isUint256(s),"native"!==e&&(g=new n.ethers.Contract(r,f.default.abi[e],d)),e){case"native":p=d.sendTransaction({to:t,value:n.ethers.BigNumber.from(o)});break;case"erc20":p=g.transfer(t,o,{from:h});break;case"erc721":p=g.safeTransferFrom(h,t,""+s,{from:h});break;case"erc1155":p=g.safeTransferFrom(h,t,""+s,o,"0x",{from:h});break;default:throw new Error(`Unknown transfer type: "${e}"`)}return await p}static async executeFunction({contractAddress:e,abi:t,functionName:r,msgValue:i,params:o={},overrides:s={}}={}){var a;const{account:u,web3:c,provider:l,signerOrProvider:h}=this.getInternalWeb3Provider(),f=r.match(/^(.+)\((.*)\)$/);let d;if(f){const e=f[1],r=f[2].split(",").map(e=>e.trim()).filter(e=>!!e),n=t.filter(t=>t.name===e);if(0===n.length)throw new Error("Function does not exist in abi");if(d=n.find(e=>{var t;return(null!==(t=null==e?void 0:e.inputs.length)&&void 0!==t?t:0)===r.length&&e.inputs.every((e,t)=>e.type===r[t])}),!d){const e=n.map(e=>`${e.name}(${e.inputs.map(e=>e.type).join(",")})`);throw new Error("Function with the provided topic does not exist in abi. Possible funcationNames: "+e.join(" ,"))}}else{const e=t.filter(e=>e.name===r);if(0===e.length)throw new Error("Function does not exist in abi");if(e.length>1){const t=e.map(e=>`${e.name}(${e.inputs.map(e=>e.type).join(",")})`);throw new Error("Multiple function definitions found in the abi. Please include the topic in the functionName. Possible funcationNames: "+t.join(" ,"))}d=e[0]}const p=null===(a=d)||void 0===a?void 0:a.stateMutability;if("view"!==p&&"pure"!==p&&!o.from){const e=u;if(!e)throw new Error("From address is required")}const g=[];for(const e of d.inputs){const t=o[e.name];t||"number"==typeof t||"boolean"==typeof t||""===e.name||g.push(e.name+" is required")}if(g.length>0)throw g;const m=d.inputs.map(e=>o[e.name]),y=new n.ethers.Contract(e,t,h)[r];if(!y)throw new Error(`Cannot find function "${r}" on the contract`);return await y(...Object.values(m),i?{value:n.ethers.BigNumber.from(""+i)}:{})}static getSigningData(){return"Moralis Authentication"}static ensureWeb3IsInstalled(){return!(!this.internalWeb3Provider||!this.internalWeb3Provider.web3)}static getInternalWeb3Provider(){if(!this.ensureWeb3IsInstalled())throw new Error("Missing web3 instance, make sure to call Moralis.enableWeb3() or Moralis.authenticate()");return this.internalWeb3Provider}static getInternalWeb3(){return this.getInternalWeb3Provider().web3}static get provider(){var e,t;return null!==(e=null===(t=this.internalWeb3Provider)||void 0===t?void 0:t.provider)&&void 0!==e?e:null}static get connector(){var e,t;return null!==(e=null===(t=this.internalWeb3Provider)||void 0===t?void 0:t.connector)&&void 0!==e?e:null}static get connectorType(){var e,t;return null!==(e=null===(t=this.connector)||void 0===t?void 0:t.type)&&void 0!==e?e:null}static get network(){var e,t;return null!==(e=null===(t=this.connector)||void 0===t?void 0:t.network)&&void 0!==e?e:null}static get account(){var e,t;return null!==(e=null===(t=this.internalWeb3Provider)||void 0===t?void 0:t.account)&&void 0!==e?e:null}static get chainId(){var e,t;return null!==(e=null===(t=this.internalWeb3Provider)||void 0===t?void 0:t.chainId)&&void 0!==e?e:null}static getChainId(){return this.chainId}static get web3Library(){return n.ethers}static _forwardToConnector(e,t){const{connector:r}=this.getInternalWeb3Provider();if(!Boolean(r[e]))throw new Error(`Cannot call ${e}, as it does not exist on connector type "${r.type}"`);return r[e](...t)}static switchNetwork(...e){return this._forwardToConnector("switchNetwork",e)}static addNetwork(...e){return this._forwardToConnector("addNetwork",e)}static async isMetaMaskInstalled(){return!!await(0,b.default)()}}P(S,"speedyNodeApiKey",void 0),P(S,"web3",null),P(S,"internalWeb3Provider",null),P(S,"Plugins",{}),P(S,"isEnablingWeb3",!1),P(S,"memoryCard",{save(e){this.saved=e},get(e){if(!this.saved)throw new Error("Nothing saved to memory card");if(0===e.length)return this.getSaved();let t,r=this.saved;for(let n=0;n<e.length;n++)t=r[e[n]],r=t;return r},getSaved(){return this.saved},deleteSaved(){this.saved=void 0}}),S.onConnect=S.on.bind(S,v.InternalWeb3Events.PROVIDER_CONNECT),S.onDisconnect=S.on.bind(S,v.InternalWeb3Events.PROVIDER_DISCONNECT),S.onWeb3Enabled=S.on.bind(S,v.InternalWeb3Events.WEB3_ENABLED),S.onWeb3Deactivated=S.on.bind(S,v.InternalWeb3Events.WEB3_DEACTIVATED),S.onChainChanged=S.on.bind(S,v.InternalWeb3Events.CHAIN_CHANGED),S.onAccountChanged=S.on.bind(S,v.InternalWeb3Events.ACCOUNT_CHANGED);var C=S;t.default=C},function(e,t,r){"use strict";var n=r(16).rotr32;function i(e,t,r){return e&t^~e&r}function o(e,t,r){return e&t^e&r^t&r}function s(e,t,r){return e^t^r}t.ft_1=function(e,t,r,n){return 0===e?i(t,r,n):1===e||3===e?s(t,r,n):2===e?o(t,r,n):void 0},t.ch32=i,t.maj32=o,t.p32=s,t.s0_256=function(e){return n(e,2)^n(e,13)^n(e,22)},t.s1_256=function(e){return n(e,6)^n(e,11)^n(e,25)},t.g0_256=function(e){return n(e,7)^n(e,18)^e>>>3},t.g1_256=function(e){return n(e,17)^n(e,19)^e>>>10}},function(e,t,r){"use strict";var n=r(16),i=r(36),o=r(82),s=r(35),a=n.sum32,u=n.sum32_4,c=n.sum32_5,l=o.ch32,h=o.maj32,f=o.s0_256,d=o.s1_256,p=o.g0_256,g=o.g1_256,m=i.BlockHash,y=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function v(){if(!(this instanceof v))return new v;m.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=y,this.W=new Array(64)}n.inherits(v,m),e.exports=v,v.blockSize=512,v.outSize=256,v.hmacStrength=192,v.padLength=64,v.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=u(g(r[n-2]),r[n-7],p(r[n-15]),r[n-16]);var i=this.h[0],o=this.h[1],m=this.h[2],y=this.h[3],v=this.h[4],b=this.h[5],w=this.h[6],_=this.h[7];for(s(this.k.length===r.length),n=0;n<r.length;n++){var E=c(_,d(v),l(v,b,w),this.k[n],r[n]),A=a(f(i),h(i,o,m));_=w,w=b,b=v,v=a(y,E),y=m,m=o,o=i,i=a(E,A)}this.h[0]=a(this.h[0],i),this.h[1]=a(this.h[1],o),this.h[2]=a(this.h[2],m),this.h[3]=a(this.h[3],y),this.h[4]=a(this.h[4],v),this.h[5]=a(this.h[5],b),this.h[6]=a(this.h[6],w),this.h[7]=a(this.h[7],_)},v.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},function(e,t,r){"use strict";var n=r(16),i=r(36),o=r(35),s=n.rotr64_hi,a=n.rotr64_lo,u=n.shr64_hi,c=n.shr64_lo,l=n.sum64,h=n.sum64_hi,f=n.sum64_lo,d=n.sum64_4_hi,p=n.sum64_4_lo,g=n.sum64_5_hi,m=n.sum64_5_lo,y=i.BlockHash,v=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function b(){if(!(this instanceof b))return new b;y.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=v,this.W=new Array(160)}function w(e,t,r,n,i){var o=e&r^~e&i;return o<0&&(o+=4294967296),o}function _(e,t,r,n,i,o){var s=t&n^~t&o;return s<0&&(s+=4294967296),s}function E(e,t,r,n,i){var o=e&r^e&i^r&i;return o<0&&(o+=4294967296),o}function A(e,t,r,n,i,o){var s=t&n^t&o^n&o;return s<0&&(s+=4294967296),s}function P(e,t){var r=s(e,t,28)^s(t,e,2)^s(t,e,7);return r<0&&(r+=4294967296),r}function O(e,t){var r=a(e,t,28)^a(t,e,2)^a(t,e,7);return r<0&&(r+=4294967296),r}function S(e,t){var r=s(e,t,14)^s(e,t,18)^s(t,e,9);return r<0&&(r+=4294967296),r}function C(e,t){var r=a(e,t,14)^a(e,t,18)^a(t,e,9);return r<0&&(r+=4294967296),r}function k(e,t){var r=s(e,t,1)^s(e,t,8)^u(e,t,7);return r<0&&(r+=4294967296),r}function N(e,t){var r=a(e,t,1)^a(e,t,8)^c(e,t,7);return r<0&&(r+=4294967296),r}function T(e,t){var r=s(e,t,19)^s(t,e,29)^u(e,t,6);return r<0&&(r+=4294967296),r}function I(e,t){var r=a(e,t,19)^a(t,e,29)^c(e,t,6);return r<0&&(r+=4294967296),r}n.inherits(b,y),e.exports=b,b.blockSize=1024,b.outSize=512,b.hmacStrength=192,b.padLength=128,b.prototype._prepareBlock=function(e,t){for(var r=this.W,n=0;n<32;n++)r[n]=e[t+n];for(;n<r.length;n+=2){var i=T(r[n-4],r[n-3]),o=I(r[n-4],r[n-3]),s=r[n-14],a=r[n-13],u=k(r[n-30],r[n-29]),c=N(r[n-30],r[n-29]),l=r[n-32],h=r[n-31];r[n]=d(i,o,s,a,u,c,l,h),r[n+1]=p(i,o,s,a,u,c,l,h)}},b.prototype._update=function(e,t){this._prepareBlock(e,t);var r=this.W,n=this.h[0],i=this.h[1],s=this.h[2],a=this.h[3],u=this.h[4],c=this.h[5],d=this.h[6],p=this.h[7],y=this.h[8],v=this.h[9],b=this.h[10],k=this.h[11],N=this.h[12],T=this.h[13],I=this.h[14],R=this.h[15];o(this.k.length===r.length);for(var x=0;x<r.length;x+=2){var M=I,j=R,D=S(y,v),B=C(y,v),L=w(y,v,b,k,N),F=_(y,v,b,k,N,T),U=this.k[x],q=this.k[x+1],W=r[x],G=r[x+1],H=g(M,j,D,B,L,F,U,q,W,G),K=m(M,j,D,B,L,F,U,q,W,G);M=P(n,i),j=O(n,i),D=E(n,i,s,a,u),B=A(n,i,s,a,u,c);var z=h(M,j,D,B),V=f(M,j,D,B);I=N,R=T,N=b,T=k,b=y,k=v,y=h(d,p,H,K),v=f(p,p,H,K),d=u,p=c,u=s,c=a,s=n,a=i,n=h(H,K,z,V),i=f(H,K,z,V)}l(this.h,0,n,i),l(this.h,2,s,a),l(this.h,4,u,c),l(this.h,6,d,p),l(this.h,8,y,v),l(this.h,10,b,k),l(this.h,12,N,T),l(this.h,14,I,R)},b.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=u(r(15)),i=u(r(14)),o=u(r(3)),s=u(r(13)),a=u(r(42));function u(e){return e&&e.__esModule?e:{default:e}}function c(){return l.getErdJs()}class l{static getErdJs(){if("undefined"!=typeof window&&window.erdjs)return window.erdjs;throw new Error("Please add erdjs scripts")}static gatewayAddress(){return"https://gateway.elrond.com"}static async hwProxy(){if(l._proxy)return l._proxy;const{ProxyProvider:e}=c(),t=new e(l.gatewayAddress());return l._proxy=t,l._proxy}static hwProvider(){return l._hw}static async enable(){const{HWProvider:e}=c(),t=new e(await l.hwProxy());if(!await t.init())throw new Error("Could not initialise ledger app, make sure Elrond app is open");return l._hw=t,t}static async authenticate(){const e=await l.enable(),t=(await e.login()).toLowerCase(),r=l.getSigningData(),i=await(0,a.default)(r),o=await l.sign(i),u=await n.default.logInWith("moralisErd",{authData:{id:t,signature:o,data:i}});if(!u)throw new Error("Could not get user");return await u.setACL(new s.default(u)),u.addAllUnique("erdAccounts",[t]),u.set("erdAddress",t),await u.save(),u}static async link(e,t){const r=(null==t?void 0:t.signingMessage)||l.getSigningData(),s=await n.default.current(),u=e.toLowerCase(),c=o.default.extend("_ErdAddress"),h=new i.default(c);if(!await h.get(u).catch(()=>null)){const e=await(0,a.default)(r),t=await l.sign(e);await s.linkWith("moralisErd",{authData:{id:u,signature:t,data:e}})}return s.addAllUnique("erdAccounts",[u]),s.set("erdAddress",u),await s.save(),s}static async unlink(e){var t;const r=e.toLowerCase(),s=o.default.extend("_ErdAddress"),a=new i.default(s),u=await a.get(r);await u.destroy();const c=await n.default.current(),l=(null!==(t=c.get("erdAccounts"))&&void 0!==t?t:[]).filter(e=>e!==r);return c.set("erdAccounts",l),c.set("erdAddress",l[0]),await c._unlinkFrom("moralisErd"),await c.save(),c}static async sign(e){return e}static getSigningData(){return"Moralis Authentication"}}var h=l;t.default=h},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=u(r(15)),i=u(r(14)),o=u(r(3)),s=u(r(13)),a=u(r(42));function u(e){return e&&e.__esModule?e:{default:e}}let c=null;class l{static web3IsInjected(){return 0!==Object.keys(window.injectedWeb3).length}static async enable(e,t="polkadot-js"){var r,n;return c||(c=null===(r=window.injectedWeb3)||void 0===r||null===(n=r[t])||void 0===n?void 0:n.enable(e),c)}static async authenticate(e){var t;l.web3=await l.enable(null!==(t=null==e?void 0:e.name)&&void 0!==t?t:"Moralis");const r=(await l.web3.accounts.get())[0],i=null==r?void 0:r.address;if(!i)throw new Error("Address not found");const o=i,u=l.getSigningData(),c=await(0,a.default)(u),h=await l.sign(i,c),f=await n.default.logInWith("moralisDot",{authData:{id:o,signature:h,data:c}});if(!f)throw new Error("Could not get user");return await f.setACL(new s.default(f)),f.addAllUnique("dotAccounts",[o]),f.set("dotAddress",o),await f.save(),f}static async link(e,t){const r=(null==t?void 0:t.signingMessage)||l.getSigningData(),s=await n.default.current(),u=e,c=o.default.extend("_DotAddress"),h=new i.default(c);if(!await h.get(u).catch(()=>null)){const e=await(0,a.default)(r),t=await l.sign(u,e);await s.linkWith("moralisDot",{authData:{id:u,signature:t,data:e}})}return s.addAllUnique("dotAccounts",[u]),s.set("dotAddress",u),await s.save(),s}static async unlink(e){var t;const r=e,s=o.default.extend("_DotAddress"),a=new i.default(s),u=await a.get(r);await u.destroy();const c=await n.default.current(),l=(null!==(t=c.get("dotAccounts"))&&void 0!==t?t:[]).filter(e=>e!==r);return c.set("dotAccounts",l),c.set("dotAddress",l[0]),await c._unlinkFrom("moralisDot"),await c.save(),c}static async sign(e,t){if(!c)throw new Error("Must enable MoralisDot");const r=await c;if(!r.signer)throw new Error("No signer found");const{signature:n}=await r.signer.signRaw({address:e,data:(o=t,i=f(o),"0x"+Array.from(i,e=>("0"+(255&e).toString(16)).slice(-2)).join("")),type:"bytes"});var i,o;return n}static getSigningData(){return"Moralis Authentication"}}var h=l;function f(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}t.default=h},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMoralisRpcs=void 0;t.getMoralisRpcs=e=>({1:`https://speedy-nodes-nyc.moralis.io/${e}/eth/mainnet`,3:`https://speedy-nodes-nyc.moralis.io/${e}/eth/ropsten`,4:`https://speedy-nodes-nyc.moralis.io/${e}/eth/rinkeby`,5:`https://speedy-nodes-nyc.moralis.io/${e}/eth/goerli`,42:`https://speedy-nodes-nyc.moralis.io/${e}/eth/kovan`,137:`https://speedy-nodes-nyc.moralis.io/${e}/polygon/mainnet`,80001:`https://speedy-nodes-nyc.moralis.io/${e}/polygon/mumbai`,56:`https://speedy-nodes-nyc.moralis.io/${e}/bsc/mainnet`,97:`https://speedy-nodes-nyc.moralis.io/${e}/bsc/testnet`,43114:`https://speedy-nodes-nyc.moralis.io/${e}/avalanche/mainnet`,43113:`https://speedy-nodes-nyc.moralis.io/${e}/avalanche/testnet`,250:`https://speedy-nodes-nyc.moralis.io/${e}/fantom/mainnet`})},function(e,t,r){var n,i,o,s,a,u,c,l;e.exports=(l=r(20),r(157),r(158),i=(n=l).lib,o=i.Base,s=i.WordArray,a=n.algo,u=a.MD5,c=a.EvpKDF=o.extend({cfg:o.extend({keySize:4,hasher:u,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var r,n=this.cfg,i=n.hasher.create(),o=s.create(),a=o.words,u=n.keySize,c=n.iterations;a.length<u;){r&&i.update(r),r=i.update(e).finalize(t),i.reset();for(var l=1;l<c;l++)r=i.finalize(r),i.reset();o.concat(r)}return o.sigBytes=4*u,o}}),n.EvpKDF=function(e,t,r){return c.create(r).compute(e,t)},l.EvpKDF)},function(e,t,r){"use strict";(function(t){var n=s(r(4)),i=s(r(10)),o=r(29);function s(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const{v4:l}=r(44);let h=null;"undefined"!=typeof XMLHttpRequest&&(h=XMLHttpRequest),h=r(162).XMLHttpRequest;let f=!1;"undefined"==typeof XDomainRequest||"withCredentials"in new XMLHttpRequest||(f=!0);const d={ajax(e,r,s,a,u){if(f)return function(e,t,r,n,o){return new Promise((n,s)=>{const a=new XDomainRequest;a.onload=function(){let e;try{e=JSON.parse(a.responseText)}catch(e){s(e)}e&&n({response:e})},a.onerror=a.ontimeout=function(){const e={responseText:JSON.stringify({code:i.default.X_DOMAIN_REQUEST,error:"IE's XDomainRequest does not supply error info."})};s(e)},a.onprogress=function(){o&&"function"==typeof o.progress&&o.progress(a.responseText)},a.open(e,t),a.send(r),o&&"function"==typeof o.requestTask&&o.requestTask(a)})}(e,r,s,0,u);const c=(0,o.resolvingPromise)(),d=n.default.get("IDEMPOTENCY")&&["POST","PUT"].includes(e),p=d?l():"";let g=0;const m=function(){if(null==h)throw new Error("Cannot make a request: No definition of XMLHttpRequest was found.");let i=!1;const o=new h;o.onreadystatechange=function(){if(4===o.readyState&&!i&&!o._aborted)if(i=!0,o.status>=200&&o.status<300){let e;try{e=JSON.parse(o.responseText),"function"==typeof o.getResponseHeader&&(o.getAllResponseHeaders()||"").includes("x-parse-job-status-id: ")&&(e=o.getResponseHeader("x-parse-job-status-id"))}catch(e){c.reject(e.toString())}e&&c.resolve({response:e,status:o.status,xhr:o})}else if(o.status>=500||0===o.status)if(++g<n.default.get("REQUEST_ATTEMPT_LIMIT")){const e=Math.round(125*Math.random()*Math.pow(2,g));setTimeout(m,e)}else 0===o.status?c.reject("Unable to connect to the Parse API"):c.reject(o);else c.reject(o)},"string"!=typeof(a=a||{})["Content-Type"]&&(a["Content-Type"]="text/plain"),n.default.get("IS_NODE")&&(a["User-Agent"]=`Parse/${n.default.get("VERSION")} (NodeJS ${t.versions.node})`),d&&(a["X-Parse-Request-Id"]=p),n.default.get("SERVER_AUTH_TYPE")&&n.default.get("SERVER_AUTH_TOKEN")&&(a.Authorization=`${n.default.get("SERVER_AUTH_TYPE")} ${n.default.get("SERVER_AUTH_TOKEN")}`);const l=n.default.get("REQUEST_HEADERS");for(const e in l)a[e]=l[e];function f(e,t){u&&"function"==typeof u.progress&&(t.lengthComputable?u.progress(t.loaded/t.total,t.loaded,t.total,{type:e}):u.progress(null,null,null,{type:e}))}o.onprogress=e=>{f("download",e)},o.upload&&(o.upload.onprogress=e=>{f("upload",e)}),o.open(e,r,!0);for(const e in a)o.setRequestHeader(e,a[e]);o.onabort=function(){c.resolve({response:{results:[]},status:0,xhr:o})},o.send(s),u&&"function"==typeof u.requestTask&&u.requestTask(o)};return m(),c},request(e,t,r,i){i=i||{};let o=n.default.get("SERVER_URL");"/"!==o[o.length-1]&&(o+="/"),o+=t;const s={};if(r&&"object"==typeof r)for(const e in r)s[e]=r[e];const{context:a}=i;void 0!==a&&(s._context=a),"POST"!==e&&(s._method=e,e="POST"),s._ApplicationId=n.default.get("APPLICATION_ID");const c=n.default.get("JAVASCRIPT_KEY");c&&(s._JavaScriptKey=c),s._ClientVersion=n.default.get("VERSION");let{useMasterKey:l}=i;void 0===l&&(l=n.default.get("USE_MASTER_KEY")),l&&n.default.get("MASTER_KEY")&&(delete s._JavaScriptKey,s._MasterKey=n.default.get("MASTER_KEY")),n.default.get("FORCE_REVOCABLE_SESSION")&&(s._RevocableSession="1");const{installationId:h}=i;let f;if(h&&"string"==typeof h)f=Promise.resolve(h);else{f=n.default.getInstallationController().currentInstallationId()}return f.then(e=>{s._InstallationId=e;const t=n.default.getUserController();return i&&"string"==typeof i.sessionToken?Promise.resolve(i.sessionToken):t?t.currentUserAsync().then(e=>e?Promise.resolve(e.getSessionToken()):Promise.resolve(null)):Promise.resolve(null)}).then(t=>{t&&(s._SessionToken=t);const r=JSON.stringify(s);return d.ajax(e,o,r,{},i).then(({response:e,status:t})=>i.returnStatus?u(u({},e),{},{_status:t}):e)}).catch(d.handleError)},handleError(e){let t;if(e&&e.responseText)try{const r=JSON.parse(e.responseText);t=new i.default(r.code,r.error)}catch(r){t=new i.default(i.default.INVALID_JSON,"Received an error with invalid JSON from Parse: "+e.responseText)}else{const r=e.message?e.message:e;t=new i.default(i.default.CONNECTION_FAILED,"XMLHttpRequest failed: "+JSON.stringify(r))}return Promise.reject(t)},_setXHR(e){h=e},_getXHR:()=>h};e.exports=d}).call(this,r(12))},function(e,t){},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(r(47)),i=o(r(15));function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const c=new Map;c.set("get",{}),c.set("find",{}),c.set("count",{}),c.set("create",{}),c.set("update",{}),c.set("delete",{}),c.set("addField",{});const l=new Map;l.set("protectedFields",{});class h{constructor(e){u(this,"permissionsMap",void 0),this.permissionsMap={};for(const[e,t]of c.entries()){this.permissionsMap[e]=a({},t);const r=e.charAt(0).toUpperCase()+e.slice(1);this[`get${r}RequiresAuthentication`]=function(){return this._getAccess(e,"requiresAuthentication")},this[`set${r}RequiresAuthentication`]=function(t){this._setAccess(e,"requiresAuthentication",t)},this[`get${r}PointerFields`]=function(){return this._getAccess(e,"pointerFields",!1)},this[`set${r}PointerFields`]=function(t){this._setArrayAccess(e,"pointerFields",t)},this[`get${r}Access`]=function(t){return this._getAccess(e,t)},this[`set${r}Access`]=function(t,r){this._setAccess(e,t,r)},this[`getPublic${r}Access`]=function(){return this[`get${r}Access`]("*")},this[`setPublic${r}Access`]=function(e){this[`set${r}Access`]("*",e)},this[`getRole${r}Access`]=function(e){return this[`get${r}Access`](this._getRoleName(e))},this[`setRole${r}Access`]=function(e,t){this[`set${r}Access`](this._getRoleName(e),t)}}for(const[e,t]of l.entries())this.permissionsMap[e]=a({},t);if(e&&"object"==typeof e)if(e instanceof i.default)this.setReadAccess(e,!0),this.setWriteAccess(e,!0);else if(e instanceof n.default)this.setRoleReadAccess(e,!0),this.setRoleWriteAccess(e,!0);else for(const t in e){const r=e[t],n=!!c.get(t),i=!!l.get(t),o=["readUserFields","writeUserFields"].includes(t);if("string"!=typeof t||!(n||i||o))throw new TypeError("Tried to create an CLP with an invalid permission type.");if(o){if(r.every(e=>"string"==typeof e)){this.permissionsMap[t]=r;continue}throw new TypeError("Tried to create an CLP with an invalid permission value.")}for(const e in r){const n=r[e];if("boolean"!=typeof n&&!i&&"pointerFields"!==e)throw new TypeError("Tried to create an CLP with an invalid permission value.");this.permissionsMap[t][e]=n}}else if("function"==typeof e)throw new TypeError("ParseCLP constructed with a function. Did you forget ()?")}toJSON(){return a({},this.permissionsMap)}equals(e){if(!(e instanceof h))return!1;const t=Object.keys(this.permissionsMap),r=Object.keys(e.permissionsMap);if(t.length!==r.length)return!1;for(const t in this.permissionsMap){if(!e.permissionsMap[t])return!1;const r=Object.keys(this.permissionsMap[t]),n=Object.keys(e.permissionsMap[t]);if(r.length!==n.length)return!1;for(const r in this.permissionsMap[t]){if(!e.permissionsMap[t][r])return!1;if(this.permissionsMap[t][r]!==e.permissionsMap[t][r])return!1}}return!0}_getRoleName(e){let t=e;if(e instanceof n.default&&(t=e.getName()),"string"!=typeof t)throw new TypeError("role must be a Parse.Role or a String");return"role:"+t}_parseEntity(e){let t=e;if(t instanceof i.default){if(t=t.id,!t)throw new Error("Cannot get access for a Parse.User without an id.")}else t instanceof n.default&&(t=this._getRoleName(t));if("string"!=typeof t)throw new TypeError("userId must be a string.");return t}_setAccess(e,t,r){if(t=this._parseEntity(t),"boolean"!=typeof r)throw new TypeError("allowed must be either true or false.");if(!this.permissionsMap[e][t]){if(!r)return;this.permissionsMap[e][t]={}}r?this.permissionsMap[e][t]=!0:delete this.permissionsMap[e][t]}_getAccess(e,t,r=!0){t=this._parseEntity(t);const n=this.permissionsMap[e][t];return r?!!n&&!!this.permissionsMap[e][t]:n}_setArrayAccess(e,t,r){t=this._parseEntity(t);if(this.permissionsMap[e][t]||(this.permissionsMap[e][t]=[]),!r||Array.isArray(r)&&0===r.length)delete this.permissionsMap[e][t];else{if(!Array.isArray(r)||!r.every(e=>"string"==typeof e))throw new TypeError("fields must be an array of strings or undefined.");this.permissionsMap[e][t]=r}}_setGroupPointerPermission(e,t){if(this.permissionsMap[e]||(this.permissionsMap[e]=[]),!t||Array.isArray(t)&&0===t.length)delete this.permissionsMap[e];else{if(!Array.isArray(t)||!t.every(e=>"string"==typeof e))throw new TypeError(e+".pointerFields must be an array of strings or undefined.");this.permissionsMap[e]=t}}_getGroupPointerPermissions(e){return this.permissionsMap[e]}setReadUserFields(e){this._setGroupPointerPermission("readUserFields",e)}getReadUserFields(){return this._getGroupPointerPermissions("readUserFields")}setWriteUserFields(e){this._setGroupPointerPermission("writeUserFields",e)}getWriteUserFields(){return this._getGroupPointerPermissions("writeUserFields")}setProtectedFields(e,t){this._setArrayAccess("protectedFields",e,t)}getProtectedFields(e){return this._getAccess("protectedFields",e,!1)}setReadAccess(e,t){this._setAccess("find",e,t),this._setAccess("get",e,t),this._setAccess("count",e,t)}getReadAccess(e){return this._getAccess("find",e)&&this._getAccess("get",e)&&this._getAccess("count",e)}setWriteAccess(e,t){this._setAccess("create",e,t),this._setAccess("update",e,t),this._setAccess("delete",e,t),this._setAccess("addField",e,t)}getWriteAccess(e){return this._getAccess("create",e)&&this._getAccess("update",e)&&this._getAccess("delete",e)&&this._getAccess("addField",e)}setPublicReadAccess(e){this.setReadAccess("*",e)}getPublicReadAccess(){return this.getReadAccess("*")}setPublicWriteAccess(e){this.setWriteAccess("*",e)}getPublicWriteAccess(){return this.getWriteAccess("*")}setPublicProtectedFields(e){this.setProtectedFields("*",e)}getPublicProtectedFields(){return this.getProtectedFields("*")}getRoleReadAccess(e){return this.getReadAccess(this._getRoleName(e))}getRoleWriteAccess(e){return this.getWriteAccess(this._getRoleName(e))}setRoleReadAccess(e,t){this.setReadAccess(this._getRoleName(e),t)}setRoleWriteAccess(e,t){this.setWriteAccess(this._getRoleName(e),t)}getRoleProtectedFields(e){return this.getProtectedFields(this._getRoleName(e))}setRoleProtectedFields(e,t){this.setProtectedFields(this._getRoleName(e),t)}}var f=h;t.default=f},function(e,t,r){e.exports=r(172)},function(e,t,r){"use strict";e.exports=function(e,t){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return e.apply(t,r)}}},function(e,t,r){"use strict";var n=r(8);function i(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,r){if(!t)return e;var o;if(r)o=r(t);else if(n.isURLSearchParams(t))o=t.toString();else{var s=[];n.forEach(t,(function(e,t){null!=e&&(n.isArray(e)?t+="[]":e=[e],n.forEach(e,(function(e){n.isDate(e)?e=e.toISOString():n.isObject(e)&&(e=JSON.stringify(e)),s.push(i(t)+"="+i(e))})))})),o=s.join("&")}if(o){var a=e.indexOf("#");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}},function(e,t,r){"use strict";e.exports=function(e,t,r,n,i){return e.config=t,r&&(e.code=r),e.request=n,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e}},function(e,t,r){"use strict";e.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},function(e,t,r){"use strict";var n=r(8),i=r(178),o=r(179),s=r(94),a=r(180),u=r(183),c=r(184),l=r(98),h=r(96),f=r(43);e.exports=function(e){return new Promise((function(t,r){var d,p=e.data,g=e.headers,m=e.responseType;function y(){e.cancelToken&&e.cancelToken.unsubscribe(d),e.signal&&e.signal.removeEventListener("abort",d)}n.isFormData(p)&&delete g["Content-Type"];var v=new XMLHttpRequest;if(e.auth){var b=e.auth.username||"",w=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";g.Authorization="Basic "+btoa(b+":"+w)}var _=a(e.baseURL,e.url);function E(){if(v){var n="getAllResponseHeaders"in v?u(v.getAllResponseHeaders()):null,o={data:m&&"text"!==m&&"json"!==m?v.response:v.responseText,status:v.status,statusText:v.statusText,headers:n,config:e,request:v};i((function(e){t(e),y()}),(function(e){r(e),y()}),o),v=null}}if(v.open(e.method.toUpperCase(),s(_,e.params,e.paramsSerializer),!0),v.timeout=e.timeout,"onloadend"in v?v.onloadend=E:v.onreadystatechange=function(){v&&4===v.readyState&&(0!==v.status||v.responseURL&&0===v.responseURL.indexOf("file:"))&&setTimeout(E)},v.onabort=function(){v&&(r(l("Request aborted",e,"ECONNABORTED",v)),v=null)},v.onerror=function(){r(l("Network Error",e,null,v)),v=null},v.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",n=e.transitional||h;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),r(l(t,e,n.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",v)),v=null},n.isStandardBrowserEnv()){var A=(e.withCredentials||c(_))&&e.xsrfCookieName?o.read(e.xsrfCookieName):void 0;A&&(g[e.xsrfHeaderName]=A)}"setRequestHeader"in v&&n.forEach(g,(function(e,t){void 0===p&&"content-type"===t.toLowerCase()?delete g[t]:v.setRequestHeader(t,e)})),n.isUndefined(e.withCredentials)||(v.withCredentials=!!e.withCredentials),m&&"json"!==m&&(v.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&v.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&v.upload&&v.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(d=function(e){v&&(r(!e||e&&e.type?new f("canceled"):e),v.abort(),v=null)},e.cancelToken&&e.cancelToken.subscribe(d),e.signal&&(e.signal.aborted?d():e.signal.addEventListener("abort",d))),p||(p=null),v.send(p)}))}},function(e,t,r){"use strict";var n=r(95);e.exports=function(e,t,r,i,o){var s=new Error(e);return n(s,t,r,i,o)}},function(e,t,r){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,r){"use strict";var n=r(8);e.exports=function(e,t){t=t||{};var r={};function i(e,t){return n.isPlainObject(e)&&n.isPlainObject(t)?n.merge(e,t):n.isPlainObject(t)?n.merge({},t):n.isArray(t)?t.slice():t}function o(r){return n.isUndefined(t[r])?n.isUndefined(e[r])?void 0:i(void 0,e[r]):i(e[r],t[r])}function s(e){if(!n.isUndefined(t[e]))return i(void 0,t[e])}function a(r){return n.isUndefined(t[r])?n.isUndefined(e[r])?void 0:i(void 0,e[r]):i(void 0,t[r])}function u(r){return r in t?i(e[r],t[r]):r in e?i(void 0,e[r]):void 0}var c={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:u};return n.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=c[e]||o,i=t(e);n.isUndefined(i)&&t!==u||(r[e]=i)})),r}},function(e,t){e.exports={version:"0.26.1"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=u(r(4)),i=u(r(55)),o=u(r(3)),s=u(r(193)),a=r(29);function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const l="initialized",h="connecting",f="connected",d="closed",p="reconnecting",g="disconnected",m="connect",y="subscribe",v="unsubscribe",b="connected",w="subscribed",_="unsubscribed",E="error",A="close",P="error",O="open",S="open",C="close",k="error";class N extends i.default{constructor({applicationId:e,serverURL:t,javascriptKey:r,masterKey:n,sessionToken:i,installationId:o}){if(super(),c(this,"attempts",void 0),c(this,"id",void 0),c(this,"requestId",void 0),c(this,"applicationId",void 0),c(this,"serverURL",void 0),c(this,"javascriptKey",void 0),c(this,"masterKey",void 0),c(this,"sessionToken",void 0),c(this,"installationId",void 0),c(this,"additionalProperties",void 0),c(this,"connectPromise",void 0),c(this,"subscriptions",void 0),c(this,"socket",void 0),c(this,"state",void 0),!t||0!==t.indexOf("ws"))throw new Error("You need to set a proper Parse LiveQuery server url before using LiveQueryClient");this.reconnectHandle=null,this.attempts=1,this.id=0,this.requestId=1,this.serverURL=t,this.applicationId=e,this.javascriptKey=r||void 0,this.masterKey=n||void 0,this.sessionToken=i||void 0,this.installationId=o||void 0,this.additionalProperties=!0,this.connectPromise=(0,a.resolvingPromise)(),this.subscriptions=new Map,this.state=l,this.on("error",()=>{})}shouldOpen(){return this.state===l||this.state===g}subscribe(e,t){if(!e)return;const{className:r}=e,n=e.toJSON(),{where:i}=n,o=n.keys?n.keys.split(","):void 0,a={op:y,requestId:this.requestId,query:{className:r,where:i,fields:o}};t&&(a.sessionToken=t);const u=new s.default(this.requestId,e,t);return this.subscriptions.set(this.requestId,u),this.requestId+=1,this.connectPromise.then(()=>{this.socket.send(JSON.stringify(a))}),u}unsubscribe(e){if(!e)return;this.subscriptions.delete(e.id);const t={op:v,requestId:e.id};this.connectPromise.then(()=>{this.socket.send(JSON.stringify(t))})}open(){const e=n.default.getWebSocketController();e?(this.state!==p&&(this.state=h),this.socket=new e(this.serverURL),this.socket.onopen=()=>{this._handleWebSocketOpen()},this.socket.onmessage=e=>{this._handleWebSocketMessage(e)},this.socket.onclose=()=>{this._handleWebSocketClose()},this.socket.onerror=e=>{this._handleWebSocketError(e)}):this.emit(P,"Can not find WebSocket implementation")}resubscribe(){this.subscriptions.forEach((e,t)=>{const{query:r}=e,n=r.toJSON(),{where:i}=n,o=n.keys?n.keys.split(","):void 0,{className:s}=r,{sessionToken:a}=e,u={op:y,requestId:t,query:{className:s,where:i,fields:o}};a&&(u.sessionToken=a),this.connectPromise.then(()=>{this.socket.send(JSON.stringify(u))})})}close(){if(this.state!==l&&this.state!==g){this.state=g,this.socket.close();for(const e of this.subscriptions.values())e.subscribed=!1,e.emit(C);this._handleReset(),this.emit(A)}}_handleReset(){this.attempts=1,this.id=0,this.requestId=1,this.connectPromise=(0,a.resolvingPromise)(),this.subscriptions=new Map}_handleWebSocketOpen(){this.attempts=1;const e={op:m,applicationId:this.applicationId,javascriptKey:this.javascriptKey,masterKey:this.masterKey,sessionToken:this.sessionToken};this.additionalProperties&&(e.installationId=this.installationId),this.socket.send(JSON.stringify(e))}_handleWebSocketMessage(e){let{data:t}=e;"string"==typeof t&&(t=JSON.parse(t));let r=null;t.requestId&&(r=this.subscriptions.get(t.requestId));const i={clientId:t.clientId,installationId:t.installationId};switch(t.op){case b:this.state===p&&this.resubscribe(),this.emit(O),this.id=t.clientId,this.connectPromise.resolve(),this.state=f;break;case w:r&&(r.subscribed=!0,r.subscribePromise.resolve(),setTimeout(()=>r.emit(S,i),200));break;case E:t.requestId?r&&(r.subscribePromise.resolve(),setTimeout(()=>r.emit(k,t.error),200)):this.emit(P,t.error),"Additional properties not allowed"===t.error&&(this.additionalProperties=!1),t.reconnect&&this._handleReconnect();break;case _:break;default:{if(!r)break;let e=!1;if(t.original){e=!0,delete t.original.__type;for(const e in t.original)e in t.object||(t.object[e]=void 0);t.original=o.default.fromJSON(t.original,!1)}delete t.object.__type;const s=o.default.fromJSON(t.object,e);t.original?r.emit(t.op,s,t.original,i):r.emit(t.op,s,i);const a=n.default.getLocalDatastore();e&&a.isEnabled&&a._updateObjectIfPinned(s).then(()=>{})}}}_handleWebSocketClose(){if(this.state!==g){this.state=d,this.emit(A);for(const e of this.subscriptions.values())e.emit(C);this._handleReconnect()}}_handleWebSocketError(e){this.emit(P,e);for(const t of this.subscriptions.values())t.emit(k,e);this._handleReconnect()}_handleReconnect(){if(this.state===g)return;this.state=p;const e=(t=this.attempts,Math.random()*Math.min(30,Math.pow(2,t)-1)*1e3);var t;this.reconnectHandle&&clearTimeout(this.reconnectHandle),this.reconnectHandle=setTimeout((()=>{this.attempts++,this.connectPromise=(0,a.resolvingPromise)(),this.open()}).bind(this),e)}}n.default.setWebSocketController(r(194));var T=N;t.default=T},function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return W}));var n=r(2),i=r.n(n),o=r(6),s=r.n(o);"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==e||"undefined"!=typeof self&&self;function a(e,t,r){return e(r={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&r.path)}},r.exports),r.exports}var u=c;function c(e,t){if(!e)throw new Error(t||"Assertion failed")}c.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)};var l=a((function(e,t){var r=t;function n(e){return 1===e.length?"0"+e:e}function i(e){for(var t="",r=0;r<e.length;r++)t+=n(e[r].toString(16));return t}r.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"!=typeof e){for(var n=0;n<e.length;n++)r[n]=0|e[n];return r}if("hex"===t){(e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e);for(n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16))}else for(n=0;n<e.length;n++){var i=e.charCodeAt(n),o=i>>8,s=255&i;o?r.push(o,s):r.push(s)}return r},r.zero2=n,r.toHex=i,r.encode=function(e,t){return"hex"===t?i(e):e}})),h=a((function(e,t){var r=t;r.assert=u,r.toArray=l.toArray,r.zero2=l.zero2,r.toHex=l.toHex,r.encode=l.encode,r.getNAF=function(e,t,r){var n=new Array(Math.max(e.bitLength(),r)+1);n.fill(0);for(var i=1<<t+1,o=e.clone(),s=0;s<n.length;s++){var a,u=o.andln(i-1);o.isOdd()?(a=u>(i>>1)-1?(i>>1)-u:u,o.isubn(a)):a=0,n[s]=a,o.iushrn(1)}return n},r.getJSF=function(e,t){var r=[[],[]];e=e.clone(),t=t.clone();for(var n,i=0,o=0;e.cmpn(-i)>0||t.cmpn(-o)>0;){var s,a,u=e.andln(3)+i&3,c=t.andln(3)+o&3;3===u&&(u=-1),3===c&&(c=-1),s=0==(1&u)?0:3!==(n=e.andln(7)+i&7)&&5!==n||2!==c?u:-u,r[0].push(s),a=0==(1&c)?0:3!==(n=t.andln(7)+o&7)&&5!==n||2!==u?c:-c,r[1].push(a),2*i===s+1&&(i=1-i),2*o===a+1&&(o=1-o),e.iushrn(1),t.iushrn(1)}return r},r.cachedProperty=function(e,t,r){var n="_"+t;e.prototype[t]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}},r.parseBytes=function(e){return"string"==typeof e?r.toArray(e,"hex"):e},r.intFromLE=function(e){return new i.a(e,"hex","le")}})),f=h.getNAF,d=h.getJSF,p=h.assert;function g(e,t){this.type=e,this.p=new i.a(t.p,16),this.red=t.prime?i.a.red(t.prime):i.a.mont(this.p),this.zero=new i.a(0).toRed(this.red),this.one=new i.a(1).toRed(this.red),this.two=new i.a(2).toRed(this.red),this.n=t.n&&new i.a(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var m=g;function y(e,t){this.curve=e,this.type=t,this.precomputed=null}g.prototype.point=function(){throw new Error("Not implemented")},g.prototype.validate=function(){throw new Error("Not implemented")},g.prototype._fixedNafMul=function(e,t){p(e.precomputed);var r=e._getDoubles(),n=f(t,1,this._bitLength),i=(1<<r.step+1)-(r.step%2==0?2:1);i/=3;var o,s,a=[];for(o=0;o<n.length;o+=r.step){s=0;for(var u=o+r.step-1;u>=o;u--)s=(s<<1)+n[u];a.push(s)}for(var c=this.jpoint(null,null,null),l=this.jpoint(null,null,null),h=i;h>0;h--){for(o=0;o<a.length;o++)(s=a[o])===h?l=l.mixedAdd(r.points[o]):s===-h&&(l=l.mixedAdd(r.points[o].neg()));c=c.add(l)}return c.toP()},g.prototype._wnafMul=function(e,t){var r=4,n=e._getNAFPoints(r);r=n.wnd;for(var i=n.points,o=f(t,r,this._bitLength),s=this.jpoint(null,null,null),a=o.length-1;a>=0;a--){for(var u=0;a>=0&&0===o[a];a--)u++;if(a>=0&&u++,s=s.dblp(u),a<0)break;var c=o[a];p(0!==c),s="affine"===e.type?c>0?s.mixedAdd(i[c-1>>1]):s.mixedAdd(i[-c-1>>1].neg()):c>0?s.add(i[c-1>>1]):s.add(i[-c-1>>1].neg())}return"affine"===e.type?s.toP():s},g.prototype._wnafMulAdd=function(e,t,r,n,i){var o,s,a,u=this._wnafT1,c=this._wnafT2,l=this._wnafT3,h=0;for(o=0;o<n;o++){var p=(a=t[o])._getNAFPoints(e);u[o]=p.wnd,c[o]=p.points}for(o=n-1;o>=1;o-=2){var g=o-1,m=o;if(1===u[g]&&1===u[m]){var y=[t[g],null,null,t[m]];0===t[g].y.cmp(t[m].y)?(y[1]=t[g].add(t[m]),y[2]=t[g].toJ().mixedAdd(t[m].neg())):0===t[g].y.cmp(t[m].y.redNeg())?(y[1]=t[g].toJ().mixedAdd(t[m]),y[2]=t[g].add(t[m].neg())):(y[1]=t[g].toJ().mixedAdd(t[m]),y[2]=t[g].toJ().mixedAdd(t[m].neg()));var v=[-3,-1,-5,-7,0,7,5,1,3],b=d(r[g],r[m]);for(h=Math.max(b[0].length,h),l[g]=new Array(h),l[m]=new Array(h),s=0;s<h;s++){var w=0|b[0][s],_=0|b[1][s];l[g][s]=v[3*(w+1)+(_+1)],l[m][s]=0,c[g]=y}}else l[g]=f(r[g],u[g],this._bitLength),l[m]=f(r[m],u[m],this._bitLength),h=Math.max(l[g].length,h),h=Math.max(l[m].length,h)}var E=this.jpoint(null,null,null),A=this._wnafT4;for(o=h;o>=0;o--){for(var P=0;o>=0;){var O=!0;for(s=0;s<n;s++)A[s]=0|l[s][o],0!==A[s]&&(O=!1);if(!O)break;P++,o--}if(o>=0&&P++,E=E.dblp(P),o<0)break;for(s=0;s<n;s++){var S=A[s];0!==S&&(S>0?a=c[s][S-1>>1]:S<0&&(a=c[s][-S-1>>1].neg()),E="affine"===a.type?E.mixedAdd(a):E.add(a))}}for(o=0;o<n;o++)c[o]=null;return i?E:E.toP()},g.BasePoint=y,y.prototype.eq=function(){throw new Error("Not implemented")},y.prototype.validate=function(){return this.curve.validate(this)},g.prototype.decodePoint=function(e,t){e=h.toArray(e,t);var r=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1==2*r)return 6===e[0]?p(e[e.length-1]%2==0):7===e[0]&&p(e[e.length-1]%2==1),this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));if((2===e[0]||3===e[0])&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),3===e[0]);throw new Error("Unknown point format")},y.prototype.encodeCompressed=function(e){return this.encode(e,!0)},y.prototype._encode=function(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))},y.prototype.encode=function(e,t){return h.encode(this._encode(t),e)},y.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},y.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},y.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<t;i+=e){for(var o=0;o<e;o++)n=n.dbl();r.push(n)}return{step:e,points:r}},y.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],r=(1<<e)-1,n=1===r?null:this.dbl(),i=1;i<r;i++)t[i]=t[i-1].add(n);return{wnd:e,points:t}},y.prototype._getBeta=function(){return null},y.prototype.dblp=function(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t};var v=a((function(e){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}})),b=h.assert;function w(e){m.call(this,"short",e),this.a=new i.a(e.a,16).toRed(this.red),this.b=new i.a(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}v(w,m);var _=w;function E(e,t,r,n){m.BasePoint.call(this,e,"affine"),null===t&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new i.a(t,16),this.y=new i.a(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function A(e,t,r,n){m.BasePoint.call(this,e,"jacobian"),null===t&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new i.a(0)):(this.x=new i.a(t,16),this.y=new i.a(r,16),this.z=new i.a(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}w.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var t,r;if(e.beta)t=new i.a(e.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);t=(t=n[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red)}if(e.lambda)r=new i.a(e.lambda,16);else{var o=this._getEndoRoots(this.n);0===this.g.mul(o[0]).x.cmp(this.g.x.redMul(t))?r=o[0]:(r=o[1],b(0===this.g.mul(r).x.cmp(this.g.x.redMul(t))))}return{beta:t,lambda:r,basis:e.basis?e.basis.map((function(e){return{a:new i.a(e.a,16),b:new i.a(e.b,16)}})):this._getEndoBasis(r)}}},w.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:i.a.mont(e),r=new i.a(2).toRed(t).redInvm(),n=r.redNeg(),o=new i.a(3).toRed(t).redNeg().redSqrt().redMul(r);return[n.redAdd(o).fromRed(),n.redSub(o).fromRed()]},w.prototype._getEndoBasis=function(e){for(var t,r,n,o,s,a,u,c,l,h=this.n.ushrn(Math.floor(this.n.bitLength()/2)),f=e,d=this.n.clone(),p=new i.a(1),g=new i.a(0),m=new i.a(0),y=new i.a(1),v=0;0!==f.cmpn(0);){var b=d.div(f);c=d.sub(b.mul(f)),l=m.sub(b.mul(p));var w=y.sub(b.mul(g));if(!n&&c.cmp(h)<0)t=u.neg(),r=p,n=c.neg(),o=l;else if(n&&2==++v)break;u=c,d=f,f=c,m=p,p=l,y=g,g=w}s=c.neg(),a=l;var _=n.sqr().add(o.sqr());return s.sqr().add(a.sqr()).cmp(_)>=0&&(s=t,a=r),n.negative&&(n=n.neg(),o=o.neg()),s.negative&&(s=s.neg(),a=a.neg()),[{a:n,b:o},{a:s,b:a}]},w.prototype._endoSplit=function(e){var t=this.endo.basis,r=t[0],n=t[1],i=n.b.mul(e).divRound(this.n),o=r.b.neg().mul(e).divRound(this.n),s=i.mul(r.a),a=o.mul(n.a),u=i.mul(r.b),c=o.mul(n.b);return{k1:e.sub(s).sub(a),k2:u.add(c).neg()}},w.prototype.pointFromX=function(e,t){(e=new i.a(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(0!==n.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var o=n.fromRed().isOdd();return(t&&!o||!t&&o)&&(n=n.redNeg()),this.point(e,n)},w.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,r=e.y,n=this.a.redMul(t),i=t.redSqr().redMul(t).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(i).cmpn(0)},w.prototype._endoWnafMulAdd=function(e,t,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,o=0;o<e.length;o++){var s=this._endoSplit(t[o]),a=e[o],u=a._getBeta();s.k1.negative&&(s.k1.ineg(),a=a.neg(!0)),s.k2.negative&&(s.k2.ineg(),u=u.neg(!0)),n[2*o]=a,n[2*o+1]=u,i[2*o]=s.k1,i[2*o+1]=s.k2}for(var c=this._wnafMulAdd(1,n,i,2*o,r),l=0;l<2*o;l++)n[l]=null,i[l]=null;return c},v(E,m.BasePoint),w.prototype.point=function(e,t,r){return new E(this,e,t,r)},w.prototype.pointFromJSON=function(e,t){return E.fromJSON(this,e,t)},E.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,n=function(e){return r.point(e.x.redMul(r.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(n)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(n)}}}return t}},E.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},E.fromJSON=function(e,t,r){"string"==typeof t&&(t=JSON.parse(t));var n=e.point(t[0],t[1],r);if(!t[2])return n;function i(t){return e.point(t[0],t[1],r)}var o=t[2];return n.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[n].concat(o.doubles.points.map(i))},naf:o.naf&&{wnd:o.naf.wnd,points:[n].concat(o.naf.points.map(i))}},n},E.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},E.prototype.isInfinity=function(){return this.inf},E.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var r=t.redSqr().redISub(this.x).redISub(e.x),n=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},E.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),n=e.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(n),o=i.redSqr().redISub(this.x.redAdd(this.x)),s=i.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,s)},E.prototype.getX=function(){return this.x.fromRed()},E.prototype.getY=function(){return this.y.fromRed()},E.prototype.mul=function(e){return e=new i.a(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},E.prototype.mulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},E.prototype.jmulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},E.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},E.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,n=function(e){return e.neg()};t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return t},E.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},v(A,m.BasePoint),w.prototype.jpoint=function(e,t,r){return new A(this,e,t,r)},A.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),n=this.y.redMul(t).redMul(e);return this.curve.point(r,n)},A.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},A.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(t),i=e.x.redMul(r),o=this.y.redMul(t.redMul(e.z)),s=e.y.redMul(r.redMul(this.z)),a=n.redSub(i),u=o.redSub(s);if(0===a.cmpn(0))return 0!==u.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=a.redSqr(),l=c.redMul(a),h=n.redMul(c),f=u.redSqr().redIAdd(l).redISub(h).redISub(h),d=u.redMul(h.redISub(f)).redISub(o.redMul(l)),p=this.z.redMul(e.z).redMul(a);return this.curve.jpoint(f,d,p)},A.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,n=e.x.redMul(t),i=this.y,o=e.y.redMul(t).redMul(this.z),s=r.redSub(n),a=i.redSub(o);if(0===s.cmpn(0))return 0!==a.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=s.redSqr(),c=u.redMul(s),l=r.redMul(u),h=a.redSqr().redIAdd(c).redISub(l).redISub(l),f=a.redMul(l.redISub(h)).redISub(i.redMul(c)),d=this.z.redMul(s);return this.curve.jpoint(h,f,d)},A.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var r=this;for(t=0;t<e;t++)r=r.dbl();return r}var n=this.curve.a,i=this.curve.tinv,o=this.x,s=this.y,a=this.z,u=a.redSqr().redSqr(),c=s.redAdd(s);for(t=0;t<e;t++){var l=o.redSqr(),h=c.redSqr(),f=h.redSqr(),d=l.redAdd(l).redIAdd(l).redIAdd(n.redMul(u)),p=o.redMul(h),g=d.redSqr().redISub(p.redAdd(p)),m=p.redISub(g),y=d.redMul(m);y=y.redIAdd(y).redISub(f);var v=c.redMul(a);t+1<e&&(u=u.redMul(f)),o=g,a=v,c=y}return this.curve.jpoint(o,c.redMul(i),a)},A.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},A.prototype._zeroDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(o);s=s.redIAdd(s);var a=n.redAdd(n).redIAdd(n),u=a.redSqr().redISub(s).redISub(s),c=o.redIAdd(o);c=(c=c.redIAdd(c)).redIAdd(c),e=u,t=a.redMul(s.redISub(u)).redISub(c),r=this.y.redAdd(this.y)}else{var l=this.x.redSqr(),h=this.y.redSqr(),f=h.redSqr(),d=this.x.redAdd(h).redSqr().redISub(l).redISub(f);d=d.redIAdd(d);var p=l.redAdd(l).redIAdd(l),g=p.redSqr(),m=f.redIAdd(f);m=(m=m.redIAdd(m)).redIAdd(m),e=g.redISub(d).redISub(d),t=p.redMul(d.redISub(e)).redISub(m),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(e,t,r)},A.prototype._threeDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(o);s=s.redIAdd(s);var a=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),u=a.redSqr().redISub(s).redISub(s);e=u;var c=o.redIAdd(o);c=(c=c.redIAdd(c)).redIAdd(c),t=a.redMul(s.redISub(u)).redISub(c),r=this.y.redAdd(this.y)}else{var l=this.z.redSqr(),h=this.y.redSqr(),f=this.x.redMul(h),d=this.x.redSub(l).redMul(this.x.redAdd(l));d=d.redAdd(d).redIAdd(d);var p=f.redIAdd(f),g=(p=p.redIAdd(p)).redAdd(p);e=d.redSqr().redISub(g),r=this.y.redAdd(this.z).redSqr().redISub(h).redISub(l);var m=h.redSqr();m=(m=(m=m.redIAdd(m)).redIAdd(m)).redIAdd(m),t=d.redMul(p.redISub(e)).redISub(m)}return this.curve.jpoint(e,t,r)},A.prototype._dbl=function(){var e=this.curve.a,t=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),o=t.redSqr(),s=r.redSqr(),a=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(i)),u=t.redAdd(t),c=(u=u.redIAdd(u)).redMul(s),l=a.redSqr().redISub(c.redAdd(c)),h=c.redISub(l),f=s.redSqr();f=(f=(f=f.redIAdd(f)).redIAdd(f)).redIAdd(f);var d=a.redMul(h).redISub(f),p=r.redAdd(r).redMul(n);return this.curve.jpoint(l,d,p)},A.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),n=t.redSqr(),i=e.redAdd(e).redIAdd(e),o=i.redSqr(),s=this.x.redAdd(t).redSqr().redISub(e).redISub(n),a=(s=(s=(s=s.redIAdd(s)).redAdd(s).redIAdd(s)).redISub(o)).redSqr(),u=n.redIAdd(n);u=(u=(u=u.redIAdd(u)).redIAdd(u)).redIAdd(u);var c=i.redIAdd(s).redSqr().redISub(o).redISub(a).redISub(u),l=t.redMul(c);l=(l=l.redIAdd(l)).redIAdd(l);var h=this.x.redMul(a).redISub(l);h=(h=h.redIAdd(h)).redIAdd(h);var f=this.y.redMul(c.redMul(u.redISub(c)).redISub(s.redMul(a)));f=(f=(f=f.redIAdd(f)).redIAdd(f)).redIAdd(f);var d=this.z.redAdd(s).redSqr().redISub(r).redISub(a);return this.curve.jpoint(h,f,d)},A.prototype.mul=function(e,t){return e=new i.a(e,t),this.curve._wnafMul(this,e)},A.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(0!==this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0))return!1;var n=t.redMul(this.z),i=r.redMul(e.z);return 0===this.y.redMul(i).redISub(e.y.redMul(n)).cmpn(0)},A.prototype.eqXToP=function(e){var t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(r))return!0;for(var n=e.clone(),i=this.curve.redN.redMul(t);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),0===this.x.cmp(r))return!0}},A.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},A.prototype.isInfinity=function(){return 0===this.z.cmpn(0)};var P=a((function(e,t){var r=t;r.base=m,r.short=_,r.mont=null,r.edwards=null})),O=a((function(e,t){var r,n=t,i=h.assert;function o(e){"short"===e.type?this.curve=new P.short(e):"edwards"===e.type?this.curve=new P.edwards(e):this.curve=new P.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,i(this.g.validate(),"Invalid curve"),i(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function a(e,t){Object.defineProperty(n,e,{configurable:!0,enumerable:!0,get:function(){var r=new o(t);return Object.defineProperty(n,e,{configurable:!0,enumerable:!0,value:r}),r}})}n.PresetCurve=o,a("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:s.a.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),a("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:s.a.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),a("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:s.a.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),a("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:s.a.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),a("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:s.a.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),a("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:s.a.sha256,gRed:!1,g:["9"]}),a("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:s.a.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{r=null.crash()}catch(e){r=void 0}a("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:s.a.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",r]})}));function S(e){if(!(this instanceof S))return new S(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=l.toArray(e.entropy,e.entropyEnc||"hex"),r=l.toArray(e.nonce,e.nonceEnc||"hex"),n=l.toArray(e.pers,e.persEnc||"hex");u(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,n)}var C=S;S.prototype._init=function(e,t,r){var n=e.concat(t).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},S.prototype._hmac=function(){return new s.a.hmac(this.hash,this.K)},S.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},S.prototype.reseed=function(e,t,r,n){"string"!=typeof t&&(n=r,r=t,t=null),e=l.toArray(e,t),r=l.toArray(r,n),u(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1},S.prototype.generate=function(e,t,r,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof t&&(n=r,r=t,t=null),r&&(r=l.toArray(r,n||"hex"),this._update(r));for(var i=[];i.length<e;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var o=i.slice(0,e);return this._update(r),this._reseed++,l.encode(o,t)};var k=h.assert;function N(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}var T=N;N.fromPublic=function(e,t,r){return t instanceof N?t:new N(e,{pub:t,pubEnc:r})},N.fromPrivate=function(e,t,r){return t instanceof N?t:new N(e,{priv:t,privEnc:r})},N.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},N.prototype.getPublic=function(e,t){return"string"==typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},N.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},N.prototype._importPrivate=function(e,t){this.priv=new i.a(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},N.prototype._importPublic=function(e,t){if(e.x||e.y)return"mont"===this.ec.curve.type?k(e.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||k(e.x&&e.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(e.x,e.y));this.pub=this.ec.curve.decodePoint(e,t)},N.prototype.derive=function(e){return e.validate()||k(e.validate(),"public point not validated"),e.mul(this.priv).getX()},N.prototype.sign=function(e,t,r){return this.ec.sign(e,this,t,r)},N.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},N.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var I=h.assert;function R(e,t){if(e instanceof R)return e;this._importDER(e,t)||(I(e.r&&e.s,"Signature without r or s"),this.r=new i.a(e.r,16),this.s=new i.a(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}var x=R;function M(){this.place=0}function j(e,t){var r=e[t.place++];if(!(128&r))return r;var n=15&r;if(0===n||n>4)return!1;for(var i=0,o=0,s=t.place;o<n;o++,s++)i<<=8,i|=e[s],i>>>=0;return!(i<=127)&&(t.place=s,i)}function D(e){for(var t=0,r=e.length-1;!e[t]&&!(128&e[t+1])&&t<r;)t++;return 0===t?e:e.slice(t)}function B(e,t){if(t<128)e.push(t);else{var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|r);--r;)e.push(t>>>(r<<3)&255);e.push(t)}}R.prototype._importDER=function(e,t){e=h.toArray(e,t);var r=new M;if(48!==e[r.place++])return!1;var n=j(e,r);if(!1===n)return!1;if(n+r.place!==e.length)return!1;if(2!==e[r.place++])return!1;var o=j(e,r);if(!1===o)return!1;var s=e.slice(r.place,o+r.place);if(r.place+=o,2!==e[r.place++])return!1;var a=j(e,r);if(!1===a)return!1;if(e.length!==a+r.place)return!1;var u=e.slice(r.place,a+r.place);if(0===s[0]){if(!(128&s[1]))return!1;s=s.slice(1)}if(0===u[0]){if(!(128&u[1]))return!1;u=u.slice(1)}return this.r=new i.a(s),this.s=new i.a(u),this.recoveryParam=null,!0},R.prototype.toDER=function(e){var t=this.r.toArray(),r=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&r[0]&&(r=[0].concat(r)),t=D(t),r=D(r);!(r[0]||128&r[1]);)r=r.slice(1);var n=[2];B(n,t.length),(n=n.concat(t)).push(2),B(n,r.length);var i=n.concat(r),o=[48];return B(o,i.length),o=o.concat(i),h.encode(o,e)};var L=function(){throw new Error("unsupported")},F=h.assert;function U(e){if(!(this instanceof U))return new U(e);"string"==typeof e&&(F(Object.prototype.hasOwnProperty.call(O,e),"Unknown curve "+e),e=O[e]),e instanceof O.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}var q=U;U.prototype.keyPair=function(e){return new T(this,e)},U.prototype.keyFromPrivate=function(e,t){return T.fromPrivate(this,e,t)},U.prototype.keyFromPublic=function(e,t){return T.fromPublic(this,e,t)},U.prototype.genKeyPair=function(e){e||(e={});for(var t=new C({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||L(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),n=this.n.sub(new i.a(2));;){var o=new i.a(t.generate(r));if(!(o.cmp(n)>0))return o.iaddn(1),this.keyFromPrivate(o)}},U.prototype._truncateToN=function(e,t){var r=8*e.byteLength()-this.n.bitLength();return r>0&&(e=e.ushrn(r)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},U.prototype.sign=function(e,t,r,n){"object"==typeof r&&(n=r,r=null),n||(n={}),t=this.keyFromPrivate(t,r),e=this._truncateToN(new i.a(e,16));for(var o=this.n.byteLength(),s=t.getPrivate().toArray("be",o),a=e.toArray("be",o),u=new C({hash:this.hash,entropy:s,nonce:a,pers:n.pers,persEnc:n.persEnc||"utf8"}),c=this.n.sub(new i.a(1)),l=0;;l++){var h=n.k?n.k(l):new i.a(u.generate(this.n.byteLength()));if(!((h=this._truncateToN(h,!0)).cmpn(1)<=0||h.cmp(c)>=0)){var f=this.g.mul(h);if(!f.isInfinity()){var d=f.getX(),p=d.umod(this.n);if(0!==p.cmpn(0)){var g=h.invm(this.n).mul(p.mul(t.getPrivate()).iadd(e));if(0!==(g=g.umod(this.n)).cmpn(0)){var m=(f.getY().isOdd()?1:0)|(0!==d.cmp(p)?2:0);return n.canonical&&g.cmp(this.nh)>0&&(g=this.n.sub(g),m^=1),new x({r:p,s:g,recoveryParam:m})}}}}}},U.prototype.verify=function(e,t,r,n){e=this._truncateToN(new i.a(e,16)),r=this.keyFromPublic(r,n);var o=(t=new x(t,"hex")).r,s=t.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;if(s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;var a,u=s.invm(this.n),c=u.mul(e).umod(this.n),l=u.mul(o).umod(this.n);return this.curve._maxwellTrick?!(a=this.g.jmulAdd(c,r.getPublic(),l)).isInfinity()&&a.eqXToP(o):!(a=this.g.mulAdd(c,r.getPublic(),l)).isInfinity()&&0===a.getX().umod(this.n).cmp(o)},U.prototype.recoverPubKey=function(e,t,r,n){F((3&r)===r,"The recovery param is more than two bits"),t=new x(t,n);var o=this.n,s=new i.a(e),a=t.r,u=t.s,c=1&r,l=r>>1;if(a.cmp(this.curve.p.umod(this.curve.n))>=0&&l)throw new Error("Unable to find sencond key candinate");a=l?this.curve.pointFromX(a.add(this.curve.n),c):this.curve.pointFromX(a,c);var h=t.r.invm(o),f=o.sub(s).mul(h).umod(o),d=u.mul(h).umod(o);return this.g.mulAdd(f,a,d)},U.prototype.getKeyRecoveryParam=function(e,t,r,n){if(null!==(t=new x(t,n)).recoveryParam)return t.recoveryParam;for(var i=0;i<4;i++){var o;try{o=this.recoverPubKey(e,t,i)}catch(e){continue}if(o.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var W=a((function(e,t){var r=t;r.version="6.5.4",r.utils=h,r.rand=function(){throw new Error("unsupported")},r.curve=P,r.curves=O,r.ec=q,r.eddsa=null})).ec}).call(this,r(7))},function(e,t,r){(function(n,i){var o;
/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */!function(){"use strict";var s="input is invalid type",a="object"==typeof window,u=a?window:{};u.JS_SHA3_NO_WINDOW&&(a=!1);var c=!a&&"object"==typeof self;!u.JS_SHA3_NO_NODE_JS&&"object"==typeof n&&n.versions&&n.versions.node?u=i:c&&(u=self);var l=!u.JS_SHA3_NO_COMMON_JS&&"object"==typeof e&&e.exports,h=r(141),f=!u.JS_SHA3_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,d="0123456789abcdef".split(""),p=[4,1024,262144,67108864],g=[0,8,16,24],m=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],y=[224,256,384,512],v=[128,256],b=["hex","buffer","arrayBuffer","array","digest"],w={128:168,256:136};!u.JS_SHA3_NO_NODE_JS&&Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),!f||!u.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(e){return"object"==typeof e&&e.buffer&&e.buffer.constructor===ArrayBuffer});for(var _=function(e,t,r){return function(n){return new D(e,t,e).update(n)[r]()}},E=function(e,t,r){return function(n,i){return new D(e,t,i).update(n)[r]()}},A=function(e,t,r){return function(t,n,i,o){return k["cshake"+e].update(t,n,i,o)[r]()}},P=function(e,t,r){return function(t,n,i,o){return k["kmac"+e].update(t,n,i,o)[r]()}},O=function(e,t,r,n){for(var i=0;i<b.length;++i){var o=b[i];e[o]=t(r,n,o)}return e},S=function(e,t){var r=_(e,t,"hex");return r.create=function(){return new D(e,t,e)},r.update=function(e){return r.create().update(e)},O(r,_,e,t)},C=[{name:"keccak",padding:[1,256,65536,16777216],bits:y,createMethod:S},{name:"sha3",padding:[6,1536,393216,100663296],bits:y,createMethod:S},{name:"shake",padding:[31,7936,2031616,520093696],bits:v,createMethod:function(e,t){var r=E(e,t,"hex");return r.create=function(r){return new D(e,t,r)},r.update=function(e,t){return r.create(t).update(e)},O(r,E,e,t)}},{name:"cshake",padding:p,bits:v,createMethod:function(e,t){var r=w[e],n=A(e,0,"hex");return n.create=function(n,i,o){return i||o?new D(e,t,n).bytepad([i,o],r):k["shake"+e].create(n)},n.update=function(e,t,r,i){return n.create(t,r,i).update(e)},O(n,A,e,t)}},{name:"kmac",padding:p,bits:v,createMethod:function(e,t){var r=w[e],n=P(e,0,"hex");return n.create=function(n,i,o){return new B(e,t,i).bytepad(["KMAC",o],r).bytepad([n],r)},n.update=function(e,t,r,i){return n.create(e,r,i).update(t)},O(n,P,e,t)}}],k={},N=[],T=0;T<C.length;++T)for(var I=C[T],R=I.bits,x=0;x<R.length;++x){var M=I.name+"_"+R[x];if(N.push(M),k[M]=I.createMethod(R[x],I.padding),"sha3"!==I.name){var j=I.name+R[x];N.push(j),k[j]=k[M]}}function D(e,t,r){this.blocks=[],this.s=[],this.padding=t,this.outputBits=r,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(e<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=r>>5,this.extraBytes=(31&r)>>3;for(var n=0;n<50;++n)this.s[n]=0}function B(e,t,r){D.call(this,e,t,r)}D.prototype.update=function(e){if(this.finalized)throw new Error("finalize already called");var t,r=typeof e;if("string"!==r){if("object"!==r)throw new Error(s);if(null===e)throw new Error(s);if(f&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||f&&ArrayBuffer.isView(e)))throw new Error(s);t=!0}for(var n,i,o=this.blocks,a=this.byteCount,u=e.length,c=this.blockCount,l=0,h=this.s;l<u;){if(this.reset)for(this.reset=!1,o[0]=this.block,n=1;n<c+1;++n)o[n]=0;if(t)for(n=this.start;l<u&&n<a;++l)o[n>>2]|=e[l]<<g[3&n++];else for(n=this.start;l<u&&n<a;++l)(i=e.charCodeAt(l))<128?o[n>>2]|=i<<g[3&n++]:i<2048?(o[n>>2]|=(192|i>>6)<<g[3&n++],o[n>>2]|=(128|63&i)<<g[3&n++]):i<55296||i>=57344?(o[n>>2]|=(224|i>>12)<<g[3&n++],o[n>>2]|=(128|i>>6&63)<<g[3&n++],o[n>>2]|=(128|63&i)<<g[3&n++]):(i=65536+((1023&i)<<10|1023&e.charCodeAt(++l)),o[n>>2]|=(240|i>>18)<<g[3&n++],o[n>>2]|=(128|i>>12&63)<<g[3&n++],o[n>>2]|=(128|i>>6&63)<<g[3&n++],o[n>>2]|=(128|63&i)<<g[3&n++]);if(this.lastByteIndex=n,n>=a){for(this.start=n-a,this.block=o[c],n=0;n<c;++n)h[n]^=o[n];L(h),this.reset=!0}else this.start=n}return this},D.prototype.encode=function(e,t){var r=255&e,n=1,i=[r];for(r=255&(e>>=8);r>0;)i.unshift(r),r=255&(e>>=8),++n;return t?i.push(n):i.unshift(n),this.update(i),i.length},D.prototype.encodeString=function(e){var t,r=typeof e;if("string"!==r){if("object"!==r)throw new Error(s);if(null===e)throw new Error(s);if(f&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||f&&ArrayBuffer.isView(e)))throw new Error(s);t=!0}var n=0,i=e.length;if(t)n=i;else for(var o=0;o<e.length;++o){var a=e.charCodeAt(o);a<128?n+=1:a<2048?n+=2:a<55296||a>=57344?n+=3:(a=65536+((1023&a)<<10|1023&e.charCodeAt(++o)),n+=4)}return n+=this.encode(8*n),this.update(e),n},D.prototype.bytepad=function(e,t){for(var r=this.encode(t),n=0;n<e.length;++n)r+=this.encodeString(e[n]);var i=t-r%t,o=[];return o.length=i,this.update(o),this},D.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex,r=this.blockCount,n=this.s;if(e[t>>2]|=this.padding[3&t],this.lastByteIndex===this.byteCount)for(e[0]=e[r],t=1;t<r+1;++t)e[t]=0;for(e[r-1]|=2147483648,t=0;t<r;++t)n[t]^=e[t];L(n)}},D.prototype.toString=D.prototype.hex=function(){this.finalize();for(var e,t=this.blockCount,r=this.s,n=this.outputBlocks,i=this.extraBytes,o=0,s=0,a="";s<n;){for(o=0;o<t&&s<n;++o,++s)e=r[o],a+=d[e>>4&15]+d[15&e]+d[e>>12&15]+d[e>>8&15]+d[e>>20&15]+d[e>>16&15]+d[e>>28&15]+d[e>>24&15];s%t==0&&(L(r),o=0)}return i&&(e=r[o],a+=d[e>>4&15]+d[15&e],i>1&&(a+=d[e>>12&15]+d[e>>8&15]),i>2&&(a+=d[e>>20&15]+d[e>>16&15])),a},D.prototype.arrayBuffer=function(){this.finalize();var e,t=this.blockCount,r=this.s,n=this.outputBlocks,i=this.extraBytes,o=0,s=0,a=this.outputBits>>3;e=i?new ArrayBuffer(n+1<<2):new ArrayBuffer(a);for(var u=new Uint32Array(e);s<n;){for(o=0;o<t&&s<n;++o,++s)u[s]=r[o];s%t==0&&L(r)}return i&&(u[o]=r[o],e=e.slice(0,a)),e},D.prototype.buffer=D.prototype.arrayBuffer,D.prototype.digest=D.prototype.array=function(){this.finalize();for(var e,t,r=this.blockCount,n=this.s,i=this.outputBlocks,o=this.extraBytes,s=0,a=0,u=[];a<i;){for(s=0;s<r&&a<i;++s,++a)e=a<<2,t=n[s],u[e]=255&t,u[e+1]=t>>8&255,u[e+2]=t>>16&255,u[e+3]=t>>24&255;a%r==0&&L(n)}return o&&(e=a<<2,t=n[s],u[e]=255&t,o>1&&(u[e+1]=t>>8&255),o>2&&(u[e+2]=t>>16&255)),u},B.prototype=new D,B.prototype.finalize=function(){return this.encode(this.outputBits,!0),D.prototype.finalize.call(this)};var L=function(e){var t,r,n,i,o,s,a,u,c,l,h,f,d,p,g,y,v,b,w,_,E,A,P,O,S,C,k,N,T,I,R,x,M,j,D,B,L,F,U,q,W,G,H,K,z,V,J,$,Y,Q,X,Z,ee,te,re,ne,ie,oe,se,ae,ue,ce,le;for(n=0;n<48;n+=2)i=e[0]^e[10]^e[20]^e[30]^e[40],o=e[1]^e[11]^e[21]^e[31]^e[41],s=e[2]^e[12]^e[22]^e[32]^e[42],a=e[3]^e[13]^e[23]^e[33]^e[43],u=e[4]^e[14]^e[24]^e[34]^e[44],c=e[5]^e[15]^e[25]^e[35]^e[45],l=e[6]^e[16]^e[26]^e[36]^e[46],h=e[7]^e[17]^e[27]^e[37]^e[47],t=(f=e[8]^e[18]^e[28]^e[38]^e[48])^(s<<1|a>>>31),r=(d=e[9]^e[19]^e[29]^e[39]^e[49])^(a<<1|s>>>31),e[0]^=t,e[1]^=r,e[10]^=t,e[11]^=r,e[20]^=t,e[21]^=r,e[30]^=t,e[31]^=r,e[40]^=t,e[41]^=r,t=i^(u<<1|c>>>31),r=o^(c<<1|u>>>31),e[2]^=t,e[3]^=r,e[12]^=t,e[13]^=r,e[22]^=t,e[23]^=r,e[32]^=t,e[33]^=r,e[42]^=t,e[43]^=r,t=s^(l<<1|h>>>31),r=a^(h<<1|l>>>31),e[4]^=t,e[5]^=r,e[14]^=t,e[15]^=r,e[24]^=t,e[25]^=r,e[34]^=t,e[35]^=r,e[44]^=t,e[45]^=r,t=u^(f<<1|d>>>31),r=c^(d<<1|f>>>31),e[6]^=t,e[7]^=r,e[16]^=t,e[17]^=r,e[26]^=t,e[27]^=r,e[36]^=t,e[37]^=r,e[46]^=t,e[47]^=r,t=l^(i<<1|o>>>31),r=h^(o<<1|i>>>31),e[8]^=t,e[9]^=r,e[18]^=t,e[19]^=r,e[28]^=t,e[29]^=r,e[38]^=t,e[39]^=r,e[48]^=t,e[49]^=r,p=e[0],g=e[1],V=e[11]<<4|e[10]>>>28,J=e[10]<<4|e[11]>>>28,N=e[20]<<3|e[21]>>>29,T=e[21]<<3|e[20]>>>29,ae=e[31]<<9|e[30]>>>23,ue=e[30]<<9|e[31]>>>23,G=e[40]<<18|e[41]>>>14,H=e[41]<<18|e[40]>>>14,j=e[2]<<1|e[3]>>>31,D=e[3]<<1|e[2]>>>31,y=e[13]<<12|e[12]>>>20,v=e[12]<<12|e[13]>>>20,$=e[22]<<10|e[23]>>>22,Y=e[23]<<10|e[22]>>>22,I=e[33]<<13|e[32]>>>19,R=e[32]<<13|e[33]>>>19,ce=e[42]<<2|e[43]>>>30,le=e[43]<<2|e[42]>>>30,te=e[5]<<30|e[4]>>>2,re=e[4]<<30|e[5]>>>2,B=e[14]<<6|e[15]>>>26,L=e[15]<<6|e[14]>>>26,b=e[25]<<11|e[24]>>>21,w=e[24]<<11|e[25]>>>21,Q=e[34]<<15|e[35]>>>17,X=e[35]<<15|e[34]>>>17,x=e[45]<<29|e[44]>>>3,M=e[44]<<29|e[45]>>>3,O=e[6]<<28|e[7]>>>4,S=e[7]<<28|e[6]>>>4,ne=e[17]<<23|e[16]>>>9,ie=e[16]<<23|e[17]>>>9,F=e[26]<<25|e[27]>>>7,U=e[27]<<25|e[26]>>>7,_=e[36]<<21|e[37]>>>11,E=e[37]<<21|e[36]>>>11,Z=e[47]<<24|e[46]>>>8,ee=e[46]<<24|e[47]>>>8,K=e[8]<<27|e[9]>>>5,z=e[9]<<27|e[8]>>>5,C=e[18]<<20|e[19]>>>12,k=e[19]<<20|e[18]>>>12,oe=e[29]<<7|e[28]>>>25,se=e[28]<<7|e[29]>>>25,q=e[38]<<8|e[39]>>>24,W=e[39]<<8|e[38]>>>24,A=e[48]<<14|e[49]>>>18,P=e[49]<<14|e[48]>>>18,e[0]=p^~y&b,e[1]=g^~v&w,e[10]=O^~C&N,e[11]=S^~k&T,e[20]=j^~B&F,e[21]=D^~L&U,e[30]=K^~V&$,e[31]=z^~J&Y,e[40]=te^~ne&oe,e[41]=re^~ie&se,e[2]=y^~b&_,e[3]=v^~w&E,e[12]=C^~N&I,e[13]=k^~T&R,e[22]=B^~F&q,e[23]=L^~U&W,e[32]=V^~$&Q,e[33]=J^~Y&X,e[42]=ne^~oe&ae,e[43]=ie^~se&ue,e[4]=b^~_&A,e[5]=w^~E&P,e[14]=N^~I&x,e[15]=T^~R&M,e[24]=F^~q&G,e[25]=U^~W&H,e[34]=$^~Q&Z,e[35]=Y^~X&ee,e[44]=oe^~ae&ce,e[45]=se^~ue&le,e[6]=_^~A&p,e[7]=E^~P&g,e[16]=I^~x&O,e[17]=R^~M&S,e[26]=q^~G&j,e[27]=W^~H&D,e[36]=Q^~Z&K,e[37]=X^~ee&z,e[46]=ae^~ce&te,e[47]=ue^~le&re,e[8]=A^~p&y,e[9]=P^~g&v,e[18]=x^~O&C,e[19]=M^~S&k,e[28]=G^~j&B,e[29]=H^~D&L,e[38]=Z^~K&V,e[39]=ee^~z&J,e[48]=ce^~te&ne,e[49]=le^~re&ie,e[0]^=m[n],e[1]^=m[n+1]};if(l)e.exports=k;else{for(T=0;T<N.length;++T)u[N[T]]=k[N[T]];h&&(void 0===(o=function(){return k}.call(t,r,t,e))||(e.exports=o))}}()}).call(this,r(12),r(7))},function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));const n="random/5.6.0"},,,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!(e instanceof i.default))return!0;const{attributes:t}=e;for(const e in t){if(!a(t[e]))return!1}return!0};var n=s(r(17)),i=s(r(3)),o=s(r(19));function s(e){return e&&e.__esModule?e:{default:e}}function a(e){if("object"!=typeof e)return!0;if(e instanceof o.default)return!0;if(e instanceof i.default)return!!e.id;if(e instanceof n.default)return!!e.url();if(Array.isArray(e)){for(let t=0;t<e.length;t++)if(!a(e[t]))return!1;return!0}for(const t in e)if(!a(e[t]))return!1;return!0}},function(e,t,r){"use strict";var n,i=(n=r(4))&&n.__esModule?n:{default:n},o=r(59);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}let c=null;"undefined"!=typeof XMLHttpRequest&&(c=XMLHttpRequest);const l={saveFile:async function(e,t,r){if("file"!==t.format)throw new Error("saveFile can only be used with File-type sources.");const n=await new Promise((e,r)=>{const n=new FileReader;n.onload=()=>e(n.result),n.onerror=e=>r(e),n.readAsDataURL(t.file)}),[i,o]=n.split(","),s={format:"base64",base64:o||i,type:t.type||(t.file?t.file.type:null)};return await l.saveBase64(e,s,r)},saveBase64:function(e,t,r){if("base64"!==t.format)throw new Error("saveBase64 can only be used with Base64-type sources.");const n={base64:t.base64,fileData:{ipfs:r.ipfs,metadata:a({},r.metadata),tags:a({},r.tags)}};return delete r.metadata,delete r.tags,t.type&&(n._ContentType=t.type),i.default.getRESTController().request("POST","files/"+e,n,r)},download:function(e,t){return c?this.downloadAjax(e,t):new Promise((n,i)=>{const o=(0===e.indexOf("https")?r(60):r(48)).get(e,e=>{e.setEncoding("base64");let t="";e.on("data",e=>t+=e),e.on("end",()=>{n({base64:t,contentType:e.headers["content-type"]})})});o.on("abort",()=>{n({})}),o.on("error",i),t.requestTask(o)})},downloadAjax:function(e,t){return new Promise((r,n)=>{const i=new c;i.open("GET",e,!0),i.responseType="arraybuffer",i.onerror=function(e){n(e)},i.onreadystatechange=function(){if(i.readyState!==i.DONE)return;if(!this.response)return r({});const e=new Uint8Array(this.response);r({base64:(0,o.encodeBase64)(e),contentType:i.getResponseHeader("content-type")})},t.requestTask(i),i.send()})},deleteFile:function(e,t){const r={"X-Parse-Application-ID":i.default.get("APPLICATION_ID")};t.useMasterKey&&(r["X-Parse-Master-Key"]=i.default.get("MASTER_KEY"));let n=i.default.get("SERVER_URL");return"/"!==n[n.length-1]&&(n+="/"),n+="files/"+e,i.default.getRESTController().ajax("DELETE",n,"",r).catch(e=>e&&"SyntaxError: Unexpected end of JSON input"!==e?i.default.getRESTController().handleError(e):Promise.resolve())},_setXHR(e){c=e},_getXHR:()=>c};e.exports=l},function(e,t,r){(function(t,n,i){var o=r(62),s=r(18),a=r(63),u=r(64),c=r(120),l=a.IncomingMessage,h=a.readyStates;var f=e.exports=function(e){var r,n=this;u.Writable.call(n),n._opts=e,n._body=[],n._headers={},e.auth&&n.setHeader("Authorization","Basic "+new t(e.auth).toString("base64")),Object.keys(e.headers).forEach((function(t){n.setHeader(t,e.headers[t])}));var i=!0;if("disable-fetch"===e.mode||"requestTimeout"in e&&!o.abortController)i=!1,r=!0;else if("prefer-streaming"===e.mode)r=!1;else if("allow-wrong-content-type"===e.mode)r=!o.overrideMimeType;else{if(e.mode&&"default"!==e.mode&&"prefer-fast"!==e.mode)throw new Error("Invalid value for opts.mode");r=!0}n._mode=function(e,t){return o.fetch&&t?"fetch":o.mozchunkedarraybuffer?"moz-chunked-arraybuffer":o.msstream?"ms-stream":o.arraybuffer&&e?"arraybuffer":o.vbArray&&e?"text:vbarray":"text"}(r,i),n._fetchTimer=null,n.on("finish",(function(){n._onFinish()}))};s(f,u.Writable),f.prototype.setHeader=function(e,t){var r=e.toLowerCase();-1===d.indexOf(r)&&(this._headers[r]={name:e,value:t})},f.prototype.getHeader=function(e){var t=this._headers[e.toLowerCase()];return t?t.value:null},f.prototype.removeHeader=function(e){delete this._headers[e.toLowerCase()]},f.prototype._onFinish=function(){var e=this;if(!e._destroyed){var r=e._opts,s=e._headers,a=null;"GET"!==r.method&&"HEAD"!==r.method&&(a=o.arraybuffer?c(t.concat(e._body)):o.blobConstructor?new n.Blob(e._body.map((function(e){return c(e)})),{type:(s["content-type"]||{}).value||""}):t.concat(e._body).toString());var u=[];if(Object.keys(s).forEach((function(e){var t=s[e].name,r=s[e].value;Array.isArray(r)?r.forEach((function(e){u.push([t,e])})):u.push([t,r])})),"fetch"===e._mode){var l=null;if(o.abortController){var f=new AbortController;l=f.signal,e._fetchAbortController=f,"requestTimeout"in r&&0!==r.requestTimeout&&(e._fetchTimer=n.setTimeout((function(){e.emit("requestTimeout"),e._fetchAbortController&&e._fetchAbortController.abort()}),r.requestTimeout))}n.fetch(e._opts.url,{method:e._opts.method,headers:u,body:a||void 0,mode:"cors",credentials:r.withCredentials?"include":"same-origin",signal:l}).then((function(t){e._fetchResponse=t,e._connect()}),(function(t){n.clearTimeout(e._fetchTimer),e._destroyed||e.emit("error",t)}))}else{var d=e._xhr=new n.XMLHttpRequest;try{d.open(e._opts.method,e._opts.url,!0)}catch(t){return void i.nextTick((function(){e.emit("error",t)}))}"responseType"in d&&(d.responseType=e._mode.split(":")[0]),"withCredentials"in d&&(d.withCredentials=!!r.withCredentials),"text"===e._mode&&"overrideMimeType"in d&&d.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in r&&(d.timeout=r.requestTimeout,d.ontimeout=function(){e.emit("requestTimeout")}),u.forEach((function(e){d.setRequestHeader(e[0],e[1])})),e._response=null,d.onreadystatechange=function(){switch(d.readyState){case h.LOADING:case h.DONE:e._onXHRProgress()}},"moz-chunked-arraybuffer"===e._mode&&(d.onprogress=function(){e._onXHRProgress()}),d.onerror=function(){e._destroyed||e.emit("error",new Error("XHR error"))};try{d.send(a)}catch(t){return void i.nextTick((function(){e.emit("error",t)}))}}}},f.prototype._onXHRProgress=function(){(function(e){try{var t=e.status;return null!==t&&0!==t}catch(e){return!1}})(this._xhr)&&!this._destroyed&&(this._response||this._connect(),this._response._onXHRProgress())},f.prototype._connect=function(){var e=this;e._destroyed||(e._response=new l(e._xhr,e._fetchResponse,e._mode,e._fetchTimer),e._response.on("error",(function(t){e.emit("error",t)})),e.emit("response",e._response))},f.prototype._write=function(e,t,r){this._body.push(e),r()},f.prototype.abort=f.prototype.destroy=function(){this._destroyed=!0,n.clearTimeout(this._fetchTimer),this._response&&(this._response._destroyed=!0),this._xhr?this._xhr.abort():this._fetchAbortController&&this._fetchAbortController.abort()},f.prototype.end=function(e,t,r){"function"==typeof e&&(r=e,e=void 0),u.Writable.prototype.end.call(this,e,t,r)},f.prototype.flushHeaders=function(){},f.prototype.setTimeout=function(){},f.prototype.setNoDelay=function(){},f.prototype.setSocketKeepAlive=function(){};var d=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"]}).call(this,r(22).Buffer,r(7),r(12))},function(e,t,r){"use strict";t.byteLength=function(e){var t=c(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){var t,r,n=c(e),s=n[0],a=n[1],u=new o(function(e,t,r){return 3*(t+r)/4-r}(0,s,a)),l=0,h=a>0?s-4:s;for(r=0;r<h;r+=4)t=i[e.charCodeAt(r)]<<18|i[e.charCodeAt(r+1)]<<12|i[e.charCodeAt(r+2)]<<6|i[e.charCodeAt(r+3)],u[l++]=t>>16&255,u[l++]=t>>8&255,u[l++]=255&t;2===a&&(t=i[e.charCodeAt(r)]<<2|i[e.charCodeAt(r+1)]>>4,u[l++]=255&t);1===a&&(t=i[e.charCodeAt(r)]<<10|i[e.charCodeAt(r+1)]<<4|i[e.charCodeAt(r+2)]>>2,u[l++]=t>>8&255,u[l++]=255&t);return u},t.fromByteArray=function(e){for(var t,r=e.length,i=r%3,o=[],s=0,a=r-i;s<a;s+=16383)o.push(l(e,s,s+16383>a?a:s+16383));1===i?(t=e[r-1],o.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[r-2]<<8)+e[r-1],o.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return o.join("")};for(var n=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,u=s.length;a<u;++a)n[a]=s[a],i[s.charCodeAt(a)]=a;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function l(e,t,r){for(var i,o,s=[],a=t;a<r;a+=3)i=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),s.push(n[(o=i)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return s.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
t.read=function(e,t,r,n,i){var o,s,a=8*i-n-1,u=(1<<a)-1,c=u>>1,l=-7,h=r?i-1:0,f=r?-1:1,d=e[t+h];for(h+=f,o=d&(1<<-l)-1,d>>=-l,l+=a;l>0;o=256*o+e[t+h],h+=f,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=n;l>0;s=256*s+e[t+h],h+=f,l-=8);if(0===o)o=1-c;else{if(o===u)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,n),o-=c}return(d?-1:1)*s*Math.pow(2,o-n)},t.write=function(e,t,r,n,i,o){var s,a,u,c=8*o-i-1,l=(1<<c)-1,h=l>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:o-1,p=n?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=l):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),(t+=s+h>=1?f/u:f*Math.pow(2,1-h))*u>=2&&(s++,u/=2),s+h>=l?(a=0,s=l):s+h>=1?(a=(t*u-1)*Math.pow(2,i),s+=h):(a=t*Math.pow(2,h-1)*Math.pow(2,i),s=0));i>=8;e[r+d]=255&a,d+=p,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;e[r+d]=255&s,d+=p,s/=256,c-=8);e[r+d-p]|=128*g}},function(e,t){},function(e,t,r){"use strict";var n=r(49).Buffer,i=r(115);e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r},e.prototype.concat=function(e){if(0===this.length)return n.alloc(0);if(1===this.length)return this.head.data;for(var t,r,i,o=n.allocUnsafe(e>>>0),s=this.head,a=0;s;)t=s.data,r=o,i=a,t.copy(r,i),a+=s.data.length,s=s.next;return o},e}(),i&&i.inspect&&i.inspect.custom&&(e.exports.prototype[i.inspect.custom]=function(){var e=i.inspect({length:this.length});return this.constructor.name+" "+e})},function(e,t){},function(e,t,r){(function(e,t){!function(e,r){"use strict";if(!e.setImmediate){var n,i,o,s,a,u=1,c={},l=!1,h=e.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(e);f=f&&f.setTimeout?f:e,"[object process]"==={}.toString.call(e.process)?n=function(e){t.nextTick((function(){p(e)}))}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,r=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=r,t}}()?e.MessageChannel?((o=new MessageChannel).port1.onmessage=function(e){p(e.data)},n=function(e){o.port2.postMessage(e)}):h&&"onreadystatechange"in h.createElement("script")?(i=h.documentElement,n=function(e){var t=h.createElement("script");t.onreadystatechange=function(){p(e),t.onreadystatechange=null,i.removeChild(t),t=null},i.appendChild(t)}):n=function(e){setTimeout(p,0,e)}:(s="setImmediate$"+Math.random()+"$",a=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(s)&&p(+t.data.slice(s.length))},e.addEventListener?e.addEventListener("message",a,!1):e.attachEvent("onmessage",a),n=function(t){e.postMessage(s+t,"*")}),f.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),r=0;r<t.length;r++)t[r]=arguments[r+1];var i={callback:e,args:t};return c[u]=i,n(u),u++},f.clearImmediate=d}function d(e){delete c[e]}function p(e){if(l)setTimeout(p,0,e);else{var t=c[e];if(t){l=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(void 0,r)}}(t)}finally{d(e),l=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,r(7),r(12))},function(e,t,r){(function(t){function r(e){try{if(!t.localStorage)return!1}catch(e){return!1}var r=t.localStorage[e];return null!=r&&"true"===String(r).toLowerCase()}e.exports=function(e,t){if(r("noDeprecation"))return e;var n=!1;return function(){if(!n){if(r("throwDeprecation"))throw new Error(t);r("traceDeprecation")?console.trace(t):console.warn(t),n=!0}return e.apply(this,arguments)}}}).call(this,r(7))},function(e,t,r){var n=r(22),i=n.Buffer;function o(e,t){for(var r in e)t[r]=e[r]}function s(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(o(n,t),t.Buffer=s),o(i,s),s.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},s.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},s.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},s.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},function(e,t,r){"use strict";e.exports=o;var n=r(71),i=Object.create(r(34));function o(e){if(!(this instanceof o))return new o(e);n.call(this,e)}i.inherits=r(18),i.inherits(o,n),o.prototype._transform=function(e,t,r){r(null,e)}},function(e,t,r){var n=r(22).Buffer;e.exports=function(e){if(e instanceof Uint8Array){if(0===e.byteOffset&&e.byteLength===e.buffer.byteLength)return e.buffer;if("function"==typeof e.buffer.slice)return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}if(n.isBuffer(e)){for(var t=new Uint8Array(e.length),r=e.length,i=0;i<r;i++)t[i]=e[i];return t.buffer}throw new Error("Argument must be a Buffer")}},function(e,t){e.exports=function(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var i in n)r.call(n,i)&&(e[i]=n[i])}return e};var r=Object.prototype.hasOwnProperty},function(e,t){e.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},function(e,t,r){(function(e,n){var i;/*! https://mths.be/punycode v1.4.1 by @mathias */!function(o){t&&t.nodeType,e&&e.nodeType;var s="object"==typeof n&&n;s.global!==s&&s.window!==s&&s.self;var a,u=2147483647,c=/^xn--/,l=/[^\x20-\x7E]/,h=/[\x2E\u3002\uFF0E\uFF61]/g,f={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},d=Math.floor,p=String.fromCharCode;function g(e){throw new RangeError(f[e])}function m(e,t){for(var r=e.length,n=[];r--;)n[r]=t(e[r]);return n}function y(e,t){var r=e.split("@"),n="";return r.length>1&&(n=r[0]+"@",e=r[1]),n+m((e=e.replace(h,".")).split("."),t).join(".")}function v(e){for(var t,r,n=[],i=0,o=e.length;i<o;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<o?56320==(64512&(r=e.charCodeAt(i++)))?n.push(((1023&t)<<10)+(1023&r)+65536):(n.push(t),i--):n.push(t);return n}function b(e){return m(e,(function(e){var t="";return e>65535&&(t+=p((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=p(e)})).join("")}function w(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function _(e,t,r){var n=0;for(e=r?d(e/700):e>>1,e+=d(e/t);e>455;n+=36)e=d(e/35);return d(n+36*e/(e+38))}function E(e){var t,r,n,i,o,s,a,c,l,h,f,p=[],m=e.length,y=0,v=128,w=72;for((r=e.lastIndexOf("-"))<0&&(r=0),n=0;n<r;++n)e.charCodeAt(n)>=128&&g("not-basic"),p.push(e.charCodeAt(n));for(i=r>0?r+1:0;i<m;){for(o=y,s=1,a=36;i>=m&&g("invalid-input"),((c=(f=e.charCodeAt(i++))-48<10?f-22:f-65<26?f-65:f-97<26?f-97:36)>=36||c>d((u-y)/s))&&g("overflow"),y+=c*s,!(c<(l=a<=w?1:a>=w+26?26:a-w));a+=36)s>d(u/(h=36-l))&&g("overflow"),s*=h;w=_(y-o,t=p.length+1,0==o),d(y/t)>u-v&&g("overflow"),v+=d(y/t),y%=t,p.splice(y++,0,v)}return b(p)}function A(e){var t,r,n,i,o,s,a,c,l,h,f,m,y,b,E,A=[];for(m=(e=v(e)).length,t=128,r=0,o=72,s=0;s<m;++s)(f=e[s])<128&&A.push(p(f));for(n=i=A.length,i&&A.push("-");n<m;){for(a=u,s=0;s<m;++s)(f=e[s])>=t&&f<a&&(a=f);for(a-t>d((u-r)/(y=n+1))&&g("overflow"),r+=(a-t)*y,t=a,s=0;s<m;++s)if((f=e[s])<t&&++r>u&&g("overflow"),f==t){for(c=r,l=36;!(c<(h=l<=o?1:l>=o+26?26:l-o));l+=36)E=c-h,b=36-h,A.push(p(w(h+E%b,0))),c=d(E/b);A.push(p(w(c,0))),o=_(r,y,n==i),r=0,++n}++r,++t}return A.join("")}a={version:"1.4.1",ucs2:{decode:v,encode:b},decode:E,encode:A,toASCII:function(e){return y(e,(function(e){return l.test(e)?"xn--"+A(e):e}))},toUnicode:function(e){return y(e,(function(e){return c.test(e)?E(e.slice(4).toLowerCase()):e}))}},void 0===(i=function(){return a}.call(t,r,t,e))||(e.exports=i)}()}).call(this,r(72)(e),r(7))},function(e,t,r){"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},function(e,t,r){"use strict";t.decode=t.parse=r(126),t.encode=t.stringify=r(127)},function(e,t,r){"use strict";function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,r,o){t=t||"&",r=r||"=";var s={};if("string"!=typeof e||0===e.length)return s;var a=/\+/g;e=e.split(t);var u=1e3;o&&"number"==typeof o.maxKeys&&(u=o.maxKeys);var c=e.length;u>0&&c>u&&(c=u);for(var l=0;l<c;++l){var h,f,d,p,g=e[l].replace(a,"%20"),m=g.indexOf(r);m>=0?(h=g.substr(0,m),f=g.substr(m+1)):(h=g,f=""),d=decodeURIComponent(h),p=decodeURIComponent(f),n(s,d)?i(s[d])?s[d].push(p):s[d]=[s[d],p]:s[d]=p}return s};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,r){"use strict";var n=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,r,a){return t=t||"&",r=r||"=",null===e&&(e=void 0),"object"==typeof e?o(s(e),(function(s){var a=encodeURIComponent(n(s))+r;return i(e[s])?o(e[s],(function(e){return a+encodeURIComponent(n(e))})).join(t):a+encodeURIComponent(n(e[s]))})).join(t):a?encodeURIComponent(n(a))+r+encodeURIComponent(n(e)):""};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function o(e,t){if(e.map)return e.map(t);for(var r=[],n=0;n<e.length;n++)r.push(t(e[n],n));return r}var s=Object.keys||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t}},function(e,t,r){"use strict";const n=r(129).default,i=r(21).default,o=r(10).default,s=r(40).default,a=r(25).default;function u(e,t){if(t&&t.__type&&("Pointer"===t.__type||"Object"===t.__type)){for(const r in e){const n=e[r];if("string"==typeof n&&n===t.objectId)return!0;if(n.className===t.className&&n.objectId===t.objectId)return!0}return!1}return e.indexOf(t)>-1}function c(e){return e._toFullJSON?e._toFullJSON():e}function l(e,t,r,n){if(t.className!==e)return!1;let i=t,o=n;t.toJSON&&(i=t.toJSON()),n.toJSON&&(o=n.toJSON().where),i.className=e;for(const t in o)if(!f(e,i,r,t,o[t]))return!1;return!0}function h(e,t,r){if(Array.isArray(e)){for(let n=0;n<e.length;n++)if(r(e[n],t))return!0;return!1}return r(e,t)}function f(e,t,r,d,p){if(null===p)return!1;if(d.indexOf(".")>=0){const n=d.split("."),i=n[0],o=n.slice(1).join(".");return f(e,t[i]||{},r,o,p)}let g,m;if("$or"===d){for(g=0;g<p.length;g++)if(l(e,t,r,p[g]))return!0;return!1}if("$and"===d){for(g=0;g<p.length;g++)if(!l(e,t,r,p[g]))return!1;return!0}if("$nor"===d){for(g=0;g<p.length;g++)if(l(e,t,r,p[g]))return!1;return!0}if("$relatedTo"===d)return!1;if(!/^[A-Za-z][0-9A-Za-z_]*$/.test(d))throw new o(o.INVALID_KEY_NAME,"Invalid Key: "+d);if("object"!=typeof p)return Array.isArray(t[d])?t[d].indexOf(p)>-1:t[d]===p;if(p.__type)return"Pointer"===p.__type?h(t[d],p,(e,t)=>void 0!==e&&t.className===e.className&&t.objectId===e.objectId):h(i(t[d]),i(p),n);for(const e in p)switch(m=p[e],m.__type&&(m=i(m)),("[object Date]"===toString.call(m)||"string"==typeof m&&"Invalid Date"!==new Date(m)&&!isNaN(new Date(m)))&&(t[d]=new Date(t[d].iso?t[d].iso:t[d])),e){case"$lt":if(t[d]>=m)return!1;break;case"$lte":if(t[d]>m)return!1;break;case"$gt":if(t[d]<=m)return!1;break;case"$gte":if(t[d]<m)return!1;break;case"$ne":if(n(t[d],m))return!1;break;case"$in":if(!u(m,t[d]))return!1;break;case"$nin":if(u(m,t[d]))return!1;break;case"$all":for(g=0;g<m.length;g++)if(t[d].indexOf(m[g])<0)return!1;break;case"$exists":{const e=void 0!==t[d],r=p.$exists;if("boolean"!=typeof p.$exists)break;if(!e&&r||e&&!r)return!1;break}case"$regex":{if("object"==typeof m)return m.test(t[d]);let e="",r=-2,n=m.indexOf("\\Q");for(;n>-1;)e+=m.substring(r+2,n),r=m.indexOf("\\E",n),r>-1&&(e+=m.substring(n+2,r).replace(/\\\\\\\\E/g,"\\E").replace(/\W/g,"\\$&")),n=m.indexOf("\\Q",r);e+=m.substring(Math.max(n,r+2));let i=p.$options||"";i=i.replace("x","").replace("s","");if(!new RegExp(e,i).test(t[d]))return!1;break}case"$nearSphere":if(!m||!t[d])return!1;return m.radiansTo(t[d])<=(p.$maxDistance||1/0);case"$within":{if(!m||!t[d])return!1;const e=m.$box[0],r=m.$box[1];return!(e.latitude>r.latitude||e.longitude>r.longitude)&&(t[d].latitude>e.latitude&&t[d].latitude<r.latitude&&t[d].longitude>e.longitude&&t[d].longitude<r.longitude)}case"$options":case"$maxDistance":break;case"$select":{const e=r.filter((e,t,r)=>l(m.query.className,e,r,m.query.where));for(let r=0;r<e.length;r+=1){const i=c(e[r]);return n(t[d],i[m.key])}return!1}case"$dontSelect":{const e=r.filter((e,t,r)=>l(m.query.className,e,r,m.query.where));for(let r=0;r<e.length;r+=1){const i=c(e[r]);return!n(t[d],i[m.key])}return!1}case"$inQuery":{const e=r.filter((e,t,r)=>l(m.className,e,r,m.where));for(let r=0;r<e.length;r+=1){const n=c(e[r]);if(t[d].className===n.className&&t[d].objectId===n.objectId)return!0}return!1}case"$notInQuery":{const e=r.filter((e,t,r)=>l(m.className,e,r,m.where));for(let r=0;r<e.length;r+=1){const n=c(e[r]);if(t[d].className===n.className&&t[d].objectId===n.objectId)return!1}return!0}case"$containedBy":for(const e of t[d])if(!u(m,e))return!1;return!0;case"$geoWithin":{const e=m.$polygon.map(e=>[e.latitude,e.longitude]);return new s(e).containsPoint(t[d])}case"$geoIntersects":{const e=new s(t[d].coordinates),r=new a(m.$point);return e.containsPoint(r)}default:return!1}return!0}const d={matchesQuery:l,validateQuery:function(e){let t=e;e.toJSON&&(t=e.toJSON().where);const r=["$and","$or","$nor","_rperm","_wperm","_perishable_token","_email_verify_token","_email_verify_token_expires_at","_account_lockout_expires_at","_failed_login_count"];Object.keys(t).forEach(e=>{if(t&&t[e]&&t[e].$regex&&"string"==typeof t[e].$options&&!t[e].$options.match(/^[imxs]+$/))throw new o(o.INVALID_QUERY,"Bad $options value for query: "+t[e].$options);if(r.indexOf(e)<0&&!e.match(/^[a-zA-Z][a-zA-Z0-9_.]*$/))throw new o(o.INVALID_KEY_NAME,"Invalid key name: "+e)})}};e.exports=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t,r){const{toString:a}=Object.prototype;if("[object Date]"===a.call(t)||"[object Date]"===a.call(r)){const e=new Date(t),n=new Date(r);return+e==+n}if(typeof t!=typeof r)return!1;if(!t||"object"!=typeof t)return t===r;if(Array.isArray(t)||Array.isArray(r)){if(!Array.isArray(t)||!Array.isArray(r))return!1;if(t.length!==r.length)return!1;for(let n=t.length;n--;)if(!e(t[n],r[n]))return!1;return!0}if(t instanceof n.default||t instanceof i.default||t instanceof o.default||t instanceof s.default)return t.equals(r);if(r instanceof s.default&&("Object"===t.__type||"Pointer"===t.__type))return t.objectId===r.id&&t.className===r.className;if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(!e(t[n],r[n]))return!1;return!0};var n=a(r(13)),i=a(r(17)),o=a(r(25)),s=a(r(3));function a(e){return e&&e.__esModule?e:{default:e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=new RegExp("^([0-9]{1,4})-([0-9]{1,2})-([0-9]{1,2})T([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2})(.([0-9]+))?Z$").exec(e);if(!t)return null;const r=parseInt(t[1])||0,n=(parseInt(t[2])||1)-1,i=parseInt(t[3])||0,o=parseInt(t[4])||0,s=parseInt(t[5])||0,a=parseInt(t[6])||0,u=parseInt(t[8])||0;return new Date(Date.UTC(r,n,i,o,s,a,u))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clearAllState=function(){o={}},t.commitServerChanges=function(e,t){const r=a(e);n.commitServerChanges(r.serverData,r.objectCache,t)},t.duplicateState=function(e,t){t.id=e.id},t.enqueueTask=function(e,t){return a(e).tasks.enqueue(t)},t.estimateAttribute=function(e,t){const r=u(e),i=c(e);return n.estimateAttribute(r,i,e.className,e.id,t)},t.estimateAttributes=function(e){const t=u(e),r=c(e);return n.estimateAttributes(t,r,e.className,e.id)},t.getObjectCache=function(e){const t=s(e);if(t)return t.objectCache;return{}},t.getPendingOps=c,t.getServerData=u,t.getState=s,t.initializeState=a,t.mergeFirstPendingState=function(e){const t=c(e);n.mergeFirstPendingState(t)},t.popPendingState=function(e){const{pendingOps:t}=a(e);return n.popPendingState(t)},t.pushPendingState=function(e){const{pendingOps:t}=a(e);n.pushPendingState(t)},t.removeState=function(e){const t=s(e);if(null===t)return null;return delete o[e.className][e.id],t},t.setPendingOp=function(e,t,r){const{pendingOps:i}=a(e);n.setPendingOp(i,t,r)},t.setServerData=function(e,t){const{serverData:r}=a(e);n.setServerData(r,t)};var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=i(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var a=o?Object.getOwnPropertyDescriptor(e,s):null;a&&(a.get||a.set)?Object.defineProperty(n,s,a):n[s]=e[s]}n.default=e,r&&r.set(e,n);return n}(r(76));function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(i=function(e){return e?r:t})(e)}let o={};function s(e){const t=o[e.className];return t&&t[e.id]||null}function a(e,t){let r=s(e);return r||(o[e.className]||(o[e.className]={}),t||(t=n.defaultState()),r=o[e.className][e.id]=t,r)}function u(e){const t=s(e);return t?t.serverData:{}}function c(e){const t=s(e);return t?t.pendingOps:[{}]}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clearAllState=function(){a=new WeakMap},t.commitServerChanges=function(e,t){const r=c(e);i.commitServerChanges(r.serverData,r.objectCache,t)},t.duplicateState=function(e,t){const r=c(e),n=c(t);for(const e in r.serverData)n.serverData[e]=r.serverData[e];for(let e=0;e<r.pendingOps.length;e++)for(const t in r.pendingOps[e])n.pendingOps[e][t]=r.pendingOps[e][t];for(const e in r.objectCache)n.objectCache[e]=r.objectCache[e];n.existed=r.existed},t.enqueueTask=function(e,t){return c(e).tasks.enqueue(t)},t.estimateAttribute=function(e,t){const r=l(e),n=h(e);return i.estimateAttribute(r,n,e.className,e.id,t)},t.estimateAttributes=function(e){const t=l(e),r=h(e);return i.estimateAttributes(t,r,e.className,e.id)},t.getObjectCache=function(e){const t=u(e);if(t)return t.objectCache;return{}},t.getPendingOps=h,t.getServerData=l,t.getState=u,t.initializeState=c,t.mergeFirstPendingState=function(e){const t=h(e);i.mergeFirstPendingState(t)},t.popPendingState=function(e){const{pendingOps:t}=c(e);return i.popPendingState(t)},t.pushPendingState=function(e){const{pendingOps:t}=c(e);i.pushPendingState(t)},t.removeState=function(e){const t=u(e);if(null===t)return null;return a.delete(e),t},t.setPendingOp=function(e,t,r){const{pendingOps:n}=c(e);i.setPendingOp(n,t,r)},t.setServerData=function(e,t){const{serverData:r}=c(e);i.setServerData(r,t)};var n,i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}n.default=e,r&&r.set(e,n);return n}(r(76)),o=(n=r(77))&&n.__esModule?n:{default:n};function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}let a=new WeakMap;function u(e){return a.get(e)||null}function c(e,t){let r=u(e);return r||(t||(t={serverData:{},pendingOps:[{}],objectCache:{},tasks:new o.default,existed:!1}),r=t,a.set(e,r),r)}function l(e){const t=u(e);return t?t.serverData:{}}function h(e){const t=u(e);return t?t.pendingOps:[{}]}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){const r={objects:{},files:[]},n=`${e.className}:${e._getId()}`;r.objects[n]=!e.dirty()||e;const{attributes:i}=e;for(const e in i)"object"==typeof i[e]&&a(i[e],r,!1,!!t);const o=[];for(const e in r.objects)e!==n&&!0!==r.objects[e]&&o.push(r.objects[e]);return o.concat(r.files)};var n=s(r(17)),i=s(r(3)),o=s(r(19));function s(e){return e&&e.__esModule?e:{default:e}}function a(e,t,r,s){if(e instanceof i.default){if(!e.id&&r)throw new Error("Cannot create a pointer to an unsaved Object.");const n=`${e.className}:${e._getId()}`;if(!t.objects[n]){t.objects[n]=!e.dirty()||e;const{attributes:r}=e;for(const e in r)"object"==typeof r[e]&&a(r[e],t,!s,s)}}else if(e instanceof n.default)!e.url()&&t.files.indexOf(e)<0&&t.files.push(e);else if(!(e instanceof o.default)){Array.isArray(e)&&e.forEach(e=>{"object"==typeof e&&a(e,t,r,s)});for(const n in e)"object"==typeof e[n]&&a(e[n],t,r,s)}}},function(e,t){},function(e,t,r){"use strict";t.sha1=r(136),t.sha224=r(137),t.sha256=r(83),t.sha384=r(138),t.sha512=r(84)},function(e,t,r){"use strict";var n=r(16),i=r(36),o=r(82),s=n.rotl32,a=n.sum32,u=n.sum32_5,c=o.ft_1,l=i.BlockHash,h=[1518500249,1859775393,2400959708,3395469782];function f(){if(!(this instanceof f))return new f;l.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}n.inherits(f,l),e.exports=f,f.blockSize=512,f.outSize=160,f.hmacStrength=80,f.padLength=64,f.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=s(r[n-3]^r[n-8]^r[n-14]^r[n-16],1);var i=this.h[0],o=this.h[1],l=this.h[2],f=this.h[3],d=this.h[4];for(n=0;n<r.length;n++){var p=~~(n/20),g=u(s(i,5),c(p,o,l,f),d,r[n],h[p]);d=f,f=l,l=s(o,30),o=i,i=g}this.h[0]=a(this.h[0],i),this.h[1]=a(this.h[1],o),this.h[2]=a(this.h[2],l),this.h[3]=a(this.h[3],f),this.h[4]=a(this.h[4],d)},f.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},function(e,t,r){"use strict";var n=r(16),i=r(83);function o(){if(!(this instanceof o))return new o;i.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}n.inherits(o,i),e.exports=o,o.blockSize=512,o.outSize=224,o.hmacStrength=192,o.padLength=64,o.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h.slice(0,7),"big"):n.split32(this.h.slice(0,7),"big")}},function(e,t,r){"use strict";var n=r(16),i=r(84);function o(){if(!(this instanceof o))return new o;i.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}n.inherits(o,i),e.exports=o,o.blockSize=1024,o.outSize=384,o.hmacStrength=192,o.padLength=128,o.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h.slice(0,12),"big"):n.split32(this.h.slice(0,12),"big")}},function(e,t,r){"use strict";var n=r(16),i=r(36),o=n.rotl32,s=n.sum32,a=n.sum32_3,u=n.sum32_4,c=i.BlockHash;function l(){if(!(this instanceof l))return new l;c.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function h(e,t,r,n){return e<=15?t^r^n:e<=31?t&r|~t&n:e<=47?(t|~r)^n:e<=63?t&n|r&~n:t^(r|~n)}function f(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function d(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}n.inherits(l,c),t.ripemd160=l,l.blockSize=512,l.outSize=160,l.hmacStrength=192,l.padLength=64,l.prototype._update=function(e,t){for(var r=this.h[0],n=this.h[1],i=this.h[2],c=this.h[3],l=this.h[4],v=r,b=n,w=i,_=c,E=l,A=0;A<80;A++){var P=s(o(u(r,h(A,n,i,c),e[p[A]+t],f(A)),m[A]),l);r=l,l=c,c=o(i,10),i=n,n=P,P=s(o(u(v,h(79-A,b,w,_),e[g[A]+t],d(A)),y[A]),E),v=E,E=_,_=o(w,10),w=b,b=P}P=a(this.h[1],i,_),this.h[1]=a(this.h[2],c,E),this.h[2]=a(this.h[3],l,v),this.h[3]=a(this.h[4],r,b),this.h[4]=a(this.h[0],n,w),this.h[0]=P},l.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"little"):n.split32(this.h,"little")};var p=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],g=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],m=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],y=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},function(e,t,r){"use strict";var n=r(16),i=r(35);function o(e,t,r){if(!(this instanceof o))return new o(e,t,r);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(n.toArray(t,r))}e.exports=o,o.prototype._init=function(e){e.length>this.blockSize&&(e=(new this.Hash).update(e).digest()),i(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=(new this.Hash).update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=(new this.Hash).update(e)},o.prototype.update=function(e,t){return this.inner.update(e,t),this},o.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}},function(e,t){(function(t){e.exports=t}).call(this,{})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=u(r(42)),i=u(r(15)),o=u(r(14)),s=u(r(3)),a=u(r(13));function u(e){return e&&e.__esModule?e:{default:e}}const c=e=>btoa(String.fromCharCode(...new Uint8Array(e)));class l{static async authenticate(e){var t;const r=await l.enable();if(!r)throw new Error("Phantom wallet not available");const o=r.publicKey.toString();if(!o)throw new Error("Address not found");const s=(null==e?void 0:e.signingMessage)||l.getSigningData(),u=await(0,n.default)(s),c=await l.sign(u),h=await i.default.logInWith("moralisSol",{authData:{id:o,signature:c,data:u}});if(await h.setACL(new a.default(h)),!h)throw new Error("Could not get user");return h.set("solAccounts",p([].concat([o],null!==(t=h.get("solAccounts"))&&void 0!==t?t:[]))),h.set("solAddress",o),await h.save(),h}static async link(e,t){var r;const a=(null==t?void 0:t.signingMessage)||l.getSigningData(),u=await i.default.current(),c=e,h=s.default.extend("_SolAddress"),f=new o.default(h);if(!await f.get(c).catch(()=>null)){const e=await(0,n.default)(a),t=await l.sign(c,e);await u.linkWith("moralisSol",{authData:{id:c,signature:t,data:e}})}return u.set("SolAccounts",p([c].concat(null!==(r=u.get("SolAccounts"))&&void 0!==r?r:[]))),u.set("solAddress",c),await u.save(),u}static async unlink(e){var t;const r=e,n=s.default.extend("_SolAddress"),a=new o.default(n),u=await a.get(r);await u.destroy();const c=await i.default.current(),l=(null!==(t=c.get("solAccounts"))&&void 0!==t?t:[]).filter(e=>e!==r);return c.set("solAccounts",l),c.set("solAddress",l[0]),await c._unlinkFrom("moralisSol"),await c.save(),c}static async sign(e){const t=await l.enable(),r=(new TextEncoder).encode(e),n=await t.signMessage(r,"utf8");return c(n.signature)}static getSigningData(){return"Moralis Authentication"}}var h,f,d;function p(e){return e.filter((t,r)=>e.indexOf(t)===r)}d=async()=>{if(window&&"solana"in window){const e=window.solana;if(e.isPhantom){try{await e.connect({onlyIfTrusted:!0})}catch(t){if("User rejected the request."!==t.message)throw t;await e.connect()}return e}}throw new Error("Phantom wallet not available")},(f="enable")in(h=l)?Object.defineProperty(h,f,{value:d,enumerable:!0,configurable:!0,writable:!0}):h[f]=d;var g=l;t.default=g},function(e,t,r){"use strict";const n=["native","erc20","erc721","erc1155"],i={native:{receiver:"",amount:""},erc20:{contractAddress:"",receiver:"",amount:""},erc721:{contractAddress:"",receiver:"",tokenId:""},erc1155:{contractAddress:"",receiver:"",tokenId:"",amount:""}},o=e=>!(void 0===e||!e);e.exports={abi:{erc1155:[{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"id",type:"uint256"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],outputs:[{name:"",type:"bool"}],name:"safeTransferFrom",type:"function",constant:!1,payable:!1},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"id",type:"uint256"},{internalType:"uint256",name:"value",type:"uint256"}],outputs:[{name:"",type:"bool"}],name:"transferFrom",type:"function",constant:!1,payable:!1}],erc721:[{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"bool"}],name:"safeTransferFrom",type:"function",constant:!1,payable:!1},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"bool"}],name:"transferFrom",type:"function",constant:!1,payable:!1}],erc20:[{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}]},validateInput:(e,t)=>{const r=[],n=i[e];for(const e of Object.keys(n))o(t[e])||r.push(e+" is required");if(r.length>0)throw r},isSupportedType:e=>{if(-1===n.indexOf(e))throw"Unsupported type";return!0},isNotEmpty:o,isUint256:e=>{if(!Number.isInteger(+e)||+e<0)throw new Error("Invalid token Id");return!0}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.WalletConnectEvent=void 0;var n=s(r(37)),i=s(r(30)),o=(r(53),r(87));function s(e){return e&&e.__esModule?e:{default:e}}const a=Object.freeze({ACCOUNTS_CHANGED:"accountsChanged",CHAIN_CHANGED:"chainChanged",DISCONNECT:"disconnect"});t.WalletConnectEvent=a;class u extends i.default{constructor(...e){var t,r,n;super(...e),n="WalletConnect",(r="type")in(t=this)?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n}async activate({chainId:e,mobileLinks:t,newSession:i}={}){if(i&&this.cleanup(),!this.provider){let n;const i={rpc:(0,o.getMoralisRpcs)("WalletConnect"),chainId:e,qrcodeModalOptions:{mobileLinks:t}};try{var s;n=null===(s=r(!function(){var e=new Error("Cannot find module '@walletconnect/web3-provider'");throw e.code="MODULE_NOT_FOUND",e}()))||void 0===s?void 0:s.default}catch(e){}var a,u;if(!n)n=null===(a=window)||void 0===a||null===(u=a.WalletConnectProvider)||void 0===u?void 0:u.default;if(!n)throw new Error('Cannot enable via WalletConnect: dependency "@walletconnect/web3-provider" is missing');this.provider="function"==typeof n?new n(i):new window.WalletConnectProvider(i)}if(!this.provider)throw new Error("Could not connect via WalletConnect, error in connecting to provider");const c=(await this.provider.enable())[0].toLowerCase(),{chainId:l}=this.provider,h=(0,n.default)(l);return this.account=c,this.chainId=h,this.subscribeToEvents(this.provider),{provider:this.provider,account:c,chainId:h}}cleanup(){try{window&&window.localStorage.removeItem("walletconnect")}catch(e){}}async deactivate(){if(this.unsubscribeToEvents(this.provider),this.provider)try{await this.provider.close()}catch(e){}this.account=null,this.chainId=null,this.provider=null}}var c=u;t.default=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.InjectedEvents=void 0;var n=o(r(30)),i=(o(r(23)),o(r(37)));function o(e){return e&&e.__esModule?e:{default:e}}const s=Object.freeze({ACCOUNTS_CHANGED:"accountsChanged",CHAIN_CHANGED:"chainChanged",CONNECT:"connect",DISCONNECT:"disconnect"});t.InjectedEvents=s;class a extends Error{constructor(){super(),this.message="Non ethereum enabled browser"}}class u extends n.default{constructor(...e){var t,r,n;super(...e),n="injected",(r="type")in(t=this)?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n}verifyEthereumBrowser(){var e;if(null===(e=window)||void 0===e||!e.ethereum)throw new a}async activate(){this.verifyEthereumBrowser();const[e,t]=await Promise.all([window.ethereum.request({method:"eth_requestAccounts"}),window.ethereum.request({method:"eth_chainId"})]),r=e[0]?e[0].toLowerCase():null,n=window.ethereum;return this.chainId=t,this.account=r,this.provider=n,this.subscribeToEvents(n),{provider:n,chainId:t,account:r}}async switchNetwork(e){this.verifyEthereumBrowser(),e=(0,i.default)(e);this.chainId!==e&&await window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:e}]})}async addNetwork(e,t,r,n,o,s){this.verifyEthereumBrowser();const a=(0,i.default)(e);await window.ethereum.request({method:"wallet_addEthereumChain",params:[{chainId:a,chainName:t,nativeCurrency:{name:r,symbol:n,decimals:18},rpcUrls:[o],blockExplorerUrls:s?[s]:null}]})}}var c=u;t.default=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=c(r(4)),i=r(52),o=c(r(37)),s=c(r(30)),a=r(87),u=r(26);function c(e){return e&&e.__esModule?e:{default:e}}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class h{constructor(e,t){l(this,"request",async(e,t)=>{"string"!=typeof e&&(t=e.params,e=e.method);const r=n.default.getRESTController();try{const n=await r.ajax("POST",this.url,JSON.stringify({jsonrpc:"2.0",id:1,method:e,params:t}),{"Content-Type":"application/json"});if(!n)throw new Error("No response");if(!n.status||n.status>400)throw new Error(`Error response [${n.status}] ${n.statusText}`);const a=n.response;var i,o,s;if("error"in a)throw new Error(null==a||null===(i=a.error)||void 0===i?void 0:i.message,null==a||null===(o=a.error)||void 0===o?void 0:o.code,null==a||null===(s=a.error)||void 0===s?void 0:s.data);if(!("result"in a))throw new Error("Received unexpected JSON-RPC response");return a.result}catch(t){throw new Error(`Failed to make "${e}" request with networkConnector: "${t.message}"`)}}),this.chainId=e,this.url=t;const r=new URL(t);this.host=r.host,this.path=r.pathname}}class f extends s.default{constructor({urls:e,defaultChainId:t,chainId:r,speedyNodeApiKey:n}={}){var i;if(super(),l(this,"type","network"),!e&&n&&(e=(0,a.getMoralisRpcs)(n)),!e&&!n)throw new Error("Cannot connect to rpc: No urls or speedyNodeApiKey provided for NetworkWeb3Connector.");this.chainId=(0,o.default)(null!==(i=null!=r?r:t)&&void 0!==i?i:Number(Object.keys(e)[0])),this.providers=Object.keys(e).reduce((t,r)=>(t[Number(r)]=new h(Number(r),e[Number(r)]),t),{})}async activate({chainId:e,privateKey:t=null}={}){e&&(this.chainId=(0,o.default)(e));const r=this.providers[(0,i.fromHexToDecimal)(this.chainId)];if(!r)throw new Error("No rpc url provided for chainId "+this.chainId);return null!=t&&(this.account=await new u.ethers.Wallet(t).getAddress()),{provider:r,chainId:this.chainId,account:this.account}}}var d=f;t.default=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.InternalWeb3Events=void 0;var n,i=(n=r(23))&&n.__esModule?n:{default:n},o=r(53),s=r(26),a=r(52);const u=Object.freeze({ACCOUNT_CHANGED:"accountChanged",CHAIN_CHANGED:"chainChanged",PROVIDER_CONNECT:"provider-connect",PROVIDER_DISCONNECT:"provider-disconnect",WEB3_ENABLED:"web3Enabled",WEB3_DEACTIVATED:"web3Deactivated"});t.InternalWeb3Events=u;class c extends i.default{constructor(e,t=!1,r=null){if(super(),!e)throw new Error("Cannot initialize InternalWeb3Provider without a connector");this.connector=e,this.anyNetwork=t,this.privateKey=r,this.handleAccountChanged=this.handleAccountChanged.bind(this),this.handleChainChanged=this.handleChainChanged.bind(this),this.handleConnect=this.handleConnect.bind(this),this.handleDisconnect=this.handleDisconnect.bind(this)}async activate(e){if(!this.connector)throw new Error("Cannot activate InternalWeb3Provider without a connector");this.connector.on&&(this.connector.on(o.ConnectorEvents.ACCOUNT_CHANGED,this.handleAccountChanged),this.connector.on(o.ConnectorEvents.CHAIN_CHANGED,this.handleChainChanged),this.connector.on(o.ConnectorEvents.CONNECT,this.handleConnect),this.connector.on(o.ConnectorEvents.DISCONNECT,this.handleDisconnect));const{provider:t,chainId:r,account:n}=await this.connector.activate(e);this.provider=t,this.chainId=r,this.account=n;const i=this.anyNetwork?"any":(0,a.fromHexToDecimal)(r);return this.web3=new s.ethers.providers.Web3Provider(t,i),{provider:t,chainId:r,account:n,web3:this.web3}}get signer(){return null!=this.privateKey?new s.ethers.Wallet(this.privateKey,this.web3):this.web3.getSigner(this.account)}get signerOrProvider(){try{return this.account?null!=this.privateKey?new s.ethers.Wallet(this.privateKey,this.web3):this.web3.getSigner(this.account):this.web3}catch(e){return this.web3}}handleChainChanged(e){this.chainId=e,this.web3=new s.ethers.providers.Web3Provider(this.provider,(0,a.fromHexToDecimal)(e)),this.emit(u.CHAIN_CHANGED,e)}handleAccountChanged(e){this.account=e,this.emit(u.ACCOUNT_CHANGED,e)}handleConnect(e){this.emit(u.PROVIDER_CONNECT,e)}handleDisconnect(e){this.emit(u.PROVIDER_DISCONNECT,e)}async deactivate(){this.account=null,this.chainId=null,this.web3=null,this.provider=null,this.privateKey=null,this.connector&&(this.connector.removeListener&&(this.connector.removeListener(u.CHAIN_CHANGED,this.handleChainChanged),this.connector.removeListener(u.ACCOUNT_CHANGED,this.handleAccountChanged),this.connector.removeListener(u.PROVIDER_CONNECT,this.handleConnect),this.connector.removeListener(u.PROVIDER_DISCONNECT,this.handleDisconnect)),this.connector.deactivate&&await this.connector.deactivate()),this.connector=null}}var l=c;t.default=l},function(e,t,r){"use strict";e.exports=function({mustBeMetaMask:e=!1,silent:t=!1,timeout:r=3e3}={}){!function(){if("boolean"!=typeof e)throw new Error("@metamask/detect-provider: Expected option 'mustBeMetaMask' to be a boolean.");if("boolean"!=typeof t)throw new Error("@metamask/detect-provider: Expected option 'silent' to be a boolean.");if("number"!=typeof r)throw new Error("@metamask/detect-provider: Expected option 'timeout' to be a number.")}();let n=!1;return new Promise(i=>{function o(){if(n)return;n=!0,window.removeEventListener("ethereum#initialized",o);const{ethereum:r}=window;if(!r||e&&!r.isMetaMask){const n=e&&r?"Non-MetaMask window.ethereum detected.":"Unable to detect window.ethereum.";!t&&console.error("@metamask/detect-provider:",n),i(null)}else i(r)}window.ethereum?o():(window.addEventListener("ethereum#initialized",o,{once:!0}),setTimeout(()=>{o()},r))})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=r(26),o=(n=r(30))&&n.__esModule?n:{default:n};function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class c extends o.default{constructor(...e){super(...e),u(this,"type","MagicLink"),u(this,"deactivate",async()=>{this.unsubscribeToEvents(this.provider),this.magicUser&&await this.magicUser.user.logout(),this.account=null,this.chainId=null,this.provider=null})}async activate({apiKey:e,newSession:t,email:n,showUI:o,redirectURI:s,network:u,locale:c,extensions:l,testMode:h,endpoint:f}={}){let d,p=null,g=null;if(!n)throw new Error('"email" not provided, please provide Email');if(!e)throw new Error('"apiKey" not provided, please provide Api Key');if(!u)throw new Error('"network" not provided, please provide network');try{var m;d=null===(m=r(!function(){var e=new Error("Cannot find module 'magic-sdk'");throw e.code="MODULE_NOT_FOUND",e}()))||void 0===m?void 0:m.Magic}catch(e){}var y;d||(d=null===(y=window)||void 0===y?void 0:y.Magic);if(!d)throw new Error('Cannot enable via MagicLink: dependency "magic-sdk" is missing');try{var v;if(p=new d(e,a(a(a(a({network:u},c&&{locale:c}),l&&{extensions:l}),h&&{testMode:h}),f&&{endpoint:f})),t)if(null!==(v=p)&&void 0!==v&&v.user)try{var b,w;await(null===(b=p)||void 0===b||null===(w=b.user)||void 0===w?void 0:w.logout())}catch(e){}g=new i.ethers.providers.Web3Provider(p.rpcProvider),await p.auth.loginWithMagicLink(a(a({email:n},o&&{showUI:o}),s&&{redirectURI:s}))}catch(e){throw new Error("Error during enable via MagicLink, please double check network and apikey")}if(await p.user.isLoggedIn()){const e=g.getSigner(),{chainId:t}=await g.getNetwork(),r=(await e.getAddress()).toLowerCase();return this.account=r,this.provider=g.provider,this.chainId="0x"+t.toString(16),this.magicUser=p,this.subscribeToEvents(this.provider),{provider:this.provider,account:this.account,chainId:this.chainId}}throw new Error("Error during enable via MagicLink, login to magic failed")}}t.default=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Web3Auth=void 0;var n=r(26),i=s(r(37)),o=s(r(30));function s(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class l extends o.default{constructor(...e){super(...e),c(this,"type","web3Auth"),c(this,"connect",e=>new Promise((t,r)=>{(e=>{e.loginModal.on("MODAL_VISIBILITY",async e=>{e||r(new Error("Web3Auth: User closed login modal."))})})(e),e.connect().then(t).catch(r)})),c(this,"activate",async({chainId:e="0x1",clientId:t,theme:o,appLogo:s,loginMethodsOrder:a,rpcTarget:c,displayName:l,blockExplorer:h,ticker:f,tickerName:d}={})=>{if(!t)throw new Error('"clientId" not provided, please provide clientId');let p;try{var g;p=null===(g=r(!function(){var e=new Error("Cannot find module '@web3auth/web3auth'");throw e.code="MODULE_NOT_FOUND",e}()))||void 0===g?void 0:g.Web3Auth}catch(e){}var m,y;p||(p=null===(m=window)||void 0===m||null===(y=m.Web3auth)||void 0===y?void 0:y.Web3Auth);if(!p)throw new Error('"@web3auth/web3auth" not installed, please install');const v=u(u(u(u(u({chainNamespace:"eip155",chainId:(0,i.default)(e)},c&&{rpcTarget:c}),l&&{displayName:l}),h&&{blockExplorer:h}),f&&{ticker:f}),d&&{tickerName:d});let b;try{b=new p({chainConfig:v,uiConfig:{theme:null!=o?o:"dark",appLogo:null!=s?s:"https://moralis.io/wp-content/uploads/2021/05/moralisWhiteLogo.svg",loginMethodsOrder:a},clientId:t})}catch(e){}if(!b)throw new Error("Could not connect via Web3Auth, error during initializing Web3Auth");await b.initModal();let w=null;if(w=await this.connect(b),!w)throw new Error("Could not connect via Web3Auth, error in connecting to provider");try{var _,E,A;const e=null===(_=b)||void 0===_||!_.provider,t=new n.ethers.providers.Web3Provider(null!==(E=b)&&void 0!==E&&E.provider?b.provider:b),r=t.getSigner(),i=await Promise.all([t.getNetwork(),r.getAddress()]),o=i[0].chainId;return this.account=i[1].toLocaleLowerCase(),this.chainId="0x"+o.toString(16),this.provider=e?t:null===(A=b)||void 0===A?void 0:A.provider,this.web3Instance=b,this.subscribeToEvents(this.provider),{chainId:this.chainId,account:this.account,provider:this.provider}}catch(e){throw new Error("Could not connect via Web3Auth, error while authenticating")}}),c(this,"deactivate",async()=>{this.unsubscribeToEvents(this.provider),this.web3Instance&&await this.web3Instance.logout(),this.account=null,this.chainId=null,this.provider=null})}}t.Web3Auth=l},function(e,t,r){"use strict";const n={},i={async:0,getItem:e=>n.hasOwnProperty(e)?n[e]:null,setItem(e,t){n[e]=String(t)},removeItem(e){delete n[e]},getAllKeys:()=>Object.keys(n),clear(){for(const e in n)n.hasOwnProperty(e)&&delete n[e]}};e.exports=i},function(e,t,r){"use strict";let n,i;n=r(153),i=r(160);const o={encrypt:(e,t)=>n.encrypt(JSON.stringify(e),t).toString(),decrypt:(e,t)=>n.decrypt(e,t).toString(i)};e.exports=o},function(e,t,r){var n;e.exports=(n=r(20),r(155),r(156),r(88),r(159),function(){var e=n,t=e.lib.BlockCipher,r=e.algo,i=[],o=[],s=[],a=[],u=[],c=[],l=[],h=[],f=[],d=[];!function(){for(var e=[],t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;var r=0,n=0;for(t=0;t<256;t++){var p=n^n<<1^n<<2^n<<3^n<<4;p=p>>>8^255&p^99,i[r]=p,o[p]=r;var g=e[r],m=e[g],y=e[m],v=257*e[p]^16843008*p;s[r]=v<<24|v>>>8,a[r]=v<<16|v>>>16,u[r]=v<<8|v>>>24,c[r]=v,v=16843009*y^65537*m^257*g^16843008*r,l[p]=v<<24|v>>>8,h[p]=v<<16|v>>>16,f[p]=v<<8|v>>>24,d[p]=v,r?(r=g^e[e[e[y^g]]],n^=e[e[n]]):r=n=1}}();var p=[0,1,2,4,8,16,32,64,128,27,54],g=r.AES=t.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var e=this._keyPriorReset=this._key,t=e.words,r=e.sigBytes/4,n=4*((this._nRounds=r+6)+1),o=this._keySchedule=[],s=0;s<n;s++)s<r?o[s]=t[s]:(c=o[s-1],s%r?r>6&&s%r==4&&(c=i[c>>>24]<<24|i[c>>>16&255]<<16|i[c>>>8&255]<<8|i[255&c]):(c=i[(c=c<<8|c>>>24)>>>24]<<24|i[c>>>16&255]<<16|i[c>>>8&255]<<8|i[255&c],c^=p[s/r|0]<<24),o[s]=o[s-r]^c);for(var a=this._invKeySchedule=[],u=0;u<n;u++){if(s=n-u,u%4)var c=o[s];else c=o[s-4];a[u]=u<4||s<=4?c:l[i[c>>>24]]^h[i[c>>>16&255]]^f[i[c>>>8&255]]^d[i[255&c]]}}},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,s,a,u,c,i)},decryptBlock:function(e,t){var r=e[t+1];e[t+1]=e[t+3],e[t+3]=r,this._doCryptBlock(e,t,this._invKeySchedule,l,h,f,d,o),r=e[t+1],e[t+1]=e[t+3],e[t+3]=r},_doCryptBlock:function(e,t,r,n,i,o,s,a){for(var u=this._nRounds,c=e[t]^r[0],l=e[t+1]^r[1],h=e[t+2]^r[2],f=e[t+3]^r[3],d=4,p=1;p<u;p++){var g=n[c>>>24]^i[l>>>16&255]^o[h>>>8&255]^s[255&f]^r[d++],m=n[l>>>24]^i[h>>>16&255]^o[f>>>8&255]^s[255&c]^r[d++],y=n[h>>>24]^i[f>>>16&255]^o[c>>>8&255]^s[255&l]^r[d++],v=n[f>>>24]^i[c>>>16&255]^o[l>>>8&255]^s[255&h]^r[d++];c=g,l=m,h=y,f=v}g=(a[c>>>24]<<24|a[l>>>16&255]<<16|a[h>>>8&255]<<8|a[255&f])^r[d++],m=(a[l>>>24]<<24|a[h>>>16&255]<<16|a[f>>>8&255]<<8|a[255&c])^r[d++],y=(a[h>>>24]<<24|a[f>>>16&255]<<16|a[c>>>8&255]<<8|a[255&l])^r[d++],v=(a[f>>>24]<<24|a[c>>>16&255]<<16|a[l>>>8&255]<<8|a[255&h])^r[d++],e[t]=g,e[t+1]=m,e[t+2]=y,e[t+3]=v},keySize:8});e.AES=t._createHelper(g)}(),n.AES)},function(e,t){},function(e,t,r){var n,i,o;e.exports=(o=r(20),i=(n=o).lib.WordArray,n.enc.Base64={stringify:function(e){var t=e.words,r=e.sigBytes,n=this._map;e.clamp();for(var i=[],o=0;o<r;o+=3)for(var s=(t[o>>>2]>>>24-o%4*8&255)<<16|(t[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|t[o+2>>>2]>>>24-(o+2)%4*8&255,a=0;a<4&&o+.75*a<r;a++)i.push(n.charAt(s>>>6*(3-a)&63));var u=n.charAt(64);if(u)for(;i.length%4;)i.push(u);return i.join("")},parse:function(e){var t=e.length,r=this._map,n=this._reverseMap;if(!n){n=this._reverseMap=[];for(var o=0;o<r.length;o++)n[r.charCodeAt(o)]=o}var s=r.charAt(64);if(s){var a=e.indexOf(s);-1!==a&&(t=a)}return function(e,t,r){for(var n=[],o=0,s=0;s<t;s++)if(s%4){var a=r[e.charCodeAt(s-1)]<<s%4*2,u=r[e.charCodeAt(s)]>>>6-s%4*2,c=a|u;n[o>>>2]|=c<<24-o%4*8,o++}return i.create(n,o)}(e,t,n)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},o.enc.Base64)},function(e,t,r){var n;e.exports=(n=r(20),function(e){var t=n,r=t.lib,i=r.WordArray,o=r.Hasher,s=t.algo,a=[];!function(){for(var t=0;t<64;t++)a[t]=4294967296*e.abs(e.sin(t+1))|0}();var u=s.MD5=o.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var r=0;r<16;r++){var n=t+r,i=e[n];e[n]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var o=this._hash.words,s=e[t+0],u=e[t+1],d=e[t+2],p=e[t+3],g=e[t+4],m=e[t+5],y=e[t+6],v=e[t+7],b=e[t+8],w=e[t+9],_=e[t+10],E=e[t+11],A=e[t+12],P=e[t+13],O=e[t+14],S=e[t+15],C=o[0],k=o[1],N=o[2],T=o[3];C=c(C,k,N,T,s,7,a[0]),T=c(T,C,k,N,u,12,a[1]),N=c(N,T,C,k,d,17,a[2]),k=c(k,N,T,C,p,22,a[3]),C=c(C,k,N,T,g,7,a[4]),T=c(T,C,k,N,m,12,a[5]),N=c(N,T,C,k,y,17,a[6]),k=c(k,N,T,C,v,22,a[7]),C=c(C,k,N,T,b,7,a[8]),T=c(T,C,k,N,w,12,a[9]),N=c(N,T,C,k,_,17,a[10]),k=c(k,N,T,C,E,22,a[11]),C=c(C,k,N,T,A,7,a[12]),T=c(T,C,k,N,P,12,a[13]),N=c(N,T,C,k,O,17,a[14]),C=l(C,k=c(k,N,T,C,S,22,a[15]),N,T,u,5,a[16]),T=l(T,C,k,N,y,9,a[17]),N=l(N,T,C,k,E,14,a[18]),k=l(k,N,T,C,s,20,a[19]),C=l(C,k,N,T,m,5,a[20]),T=l(T,C,k,N,_,9,a[21]),N=l(N,T,C,k,S,14,a[22]),k=l(k,N,T,C,g,20,a[23]),C=l(C,k,N,T,w,5,a[24]),T=l(T,C,k,N,O,9,a[25]),N=l(N,T,C,k,p,14,a[26]),k=l(k,N,T,C,b,20,a[27]),C=l(C,k,N,T,P,5,a[28]),T=l(T,C,k,N,d,9,a[29]),N=l(N,T,C,k,v,14,a[30]),C=h(C,k=l(k,N,T,C,A,20,a[31]),N,T,m,4,a[32]),T=h(T,C,k,N,b,11,a[33]),N=h(N,T,C,k,E,16,a[34]),k=h(k,N,T,C,O,23,a[35]),C=h(C,k,N,T,u,4,a[36]),T=h(T,C,k,N,g,11,a[37]),N=h(N,T,C,k,v,16,a[38]),k=h(k,N,T,C,_,23,a[39]),C=h(C,k,N,T,P,4,a[40]),T=h(T,C,k,N,s,11,a[41]),N=h(N,T,C,k,p,16,a[42]),k=h(k,N,T,C,y,23,a[43]),C=h(C,k,N,T,w,4,a[44]),T=h(T,C,k,N,A,11,a[45]),N=h(N,T,C,k,S,16,a[46]),C=f(C,k=h(k,N,T,C,d,23,a[47]),N,T,s,6,a[48]),T=f(T,C,k,N,v,10,a[49]),N=f(N,T,C,k,O,15,a[50]),k=f(k,N,T,C,m,21,a[51]),C=f(C,k,N,T,A,6,a[52]),T=f(T,C,k,N,p,10,a[53]),N=f(N,T,C,k,_,15,a[54]),k=f(k,N,T,C,u,21,a[55]),C=f(C,k,N,T,b,6,a[56]),T=f(T,C,k,N,S,10,a[57]),N=f(N,T,C,k,y,15,a[58]),k=f(k,N,T,C,P,21,a[59]),C=f(C,k,N,T,g,6,a[60]),T=f(T,C,k,N,E,10,a[61]),N=f(N,T,C,k,d,15,a[62]),k=f(k,N,T,C,w,21,a[63]),o[0]=o[0]+C|0,o[1]=o[1]+k|0,o[2]=o[2]+N|0,o[3]=o[3]+T|0},_doFinalize:function(){var t=this._data,r=t.words,n=8*this._nDataBytes,i=8*t.sigBytes;r[i>>>5]|=128<<24-i%32;var o=e.floor(n/4294967296),s=n;r[15+(i+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),r[14+(i+64>>>9<<4)]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),t.sigBytes=4*(r.length+1),this._process();for(var a=this._hash,u=a.words,c=0;c<4;c++){var l=u[c];u[c]=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8)}return a},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});function c(e,t,r,n,i,o,s){var a=e+(t&r|~t&n)+i+s;return(a<<o|a>>>32-o)+t}function l(e,t,r,n,i,o,s){var a=e+(t&n|r&~n)+i+s;return(a<<o|a>>>32-o)+t}function h(e,t,r,n,i,o,s){var a=e+(t^r^n)+i+s;return(a<<o|a>>>32-o)+t}function f(e,t,r,n,i,o,s){var a=e+(r^(t|~n))+i+s;return(a<<o|a>>>32-o)+t}t.MD5=o._createHelper(u),t.HmacMD5=o._createHmacHelper(u)}(Math),n.MD5)},function(e,t,r){var n,i,o,s,a,u,c,l;e.exports=(l=r(20),i=(n=l).lib,o=i.WordArray,s=i.Hasher,a=n.algo,u=[],c=a.SHA1=s.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var r=this._hash.words,n=r[0],i=r[1],o=r[2],s=r[3],a=r[4],c=0;c<80;c++){if(c<16)u[c]=0|e[t+c];else{var l=u[c-3]^u[c-8]^u[c-14]^u[c-16];u[c]=l<<1|l>>>31}var h=(n<<5|n>>>27)+a+u[c];h+=c<20?1518500249+(i&o|~i&s):c<40?1859775393+(i^o^s):c<60?(i&o|i&s|o&s)-1894007588:(i^o^s)-899497514,a=s,s=o,o=i<<30|i>>>2,i=n,n=h}r[0]=r[0]+n|0,r[1]=r[1]+i|0,r[2]=r[2]+o|0,r[3]=r[3]+s|0,r[4]=r[4]+a|0},_doFinalize:function(){var e=this._data,t=e.words,r=8*this._nDataBytes,n=8*e.sigBytes;return t[n>>>5]|=128<<24-n%32,t[14+(n+64>>>9<<4)]=Math.floor(r/4294967296),t[15+(n+64>>>9<<4)]=r,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=s.clone.call(this);return e._hash=this._hash.clone(),e}}),n.SHA1=s._createHelper(c),n.HmacSHA1=s._createHmacHelper(c),l.SHA1)},function(e,t,r){var n,i,o,s;e.exports=(n=r(20),o=(i=n).lib.Base,s=i.enc.Utf8,void(i.algo.HMAC=o.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=s.parse(t));var r=e.blockSize,n=4*r;t.sigBytes>n&&(t=e.finalize(t)),t.clamp();for(var i=this._oKey=t.clone(),o=this._iKey=t.clone(),a=i.words,u=o.words,c=0;c<r;c++)a[c]^=1549556828,u[c]^=909522486;i.sigBytes=o.sigBytes=n,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,r=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(r))}})))},function(e,t,r){var n,i,o,s,a,u,c,l,h,f,d,p,g,m,y,v,b,w,_;e.exports=(n=r(20),r(88),void(n.lib.Cipher||(i=n,o=i.lib,s=o.Base,a=o.WordArray,u=o.BufferedBlockAlgorithm,c=i.enc,c.Utf8,l=c.Base64,h=i.algo.EvpKDF,f=o.Cipher=u.extend({cfg:s.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,r){this.cfg=this.cfg.extend(r),this._xformMode=e,this._key=t,this.reset()},reset:function(){u.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function e(e){return"string"==typeof e?_:b}return function(t){return{encrypt:function(r,n,i){return e(n).encrypt(t,r,n,i)},decrypt:function(r,n,i){return e(n).decrypt(t,r,n,i)}}}}()}),o.StreamCipher=f.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),d=i.mode={},p=o.BlockCipherMode=s.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}}),g=d.CBC=function(){var e=p.extend();function t(e,t,r){var n,i=this._iv;i?(n=i,this._iv=void 0):n=this._prevBlock;for(var o=0;o<r;o++)e[t+o]^=n[o]}return e.Encryptor=e.extend({processBlock:function(e,r){var n=this._cipher,i=n.blockSize;t.call(this,e,r,i),n.encryptBlock(e,r),this._prevBlock=e.slice(r,r+i)}}),e.Decryptor=e.extend({processBlock:function(e,r){var n=this._cipher,i=n.blockSize,o=e.slice(r,r+i);n.decryptBlock(e,r),t.call(this,e,r,i),this._prevBlock=o}}),e}(),m=(i.pad={}).Pkcs7={pad:function(e,t){for(var r=4*t,n=r-e.sigBytes%r,i=n<<24|n<<16|n<<8|n,o=[],s=0;s<n;s+=4)o.push(i);var u=a.create(o,n);e.concat(u)},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},o.BlockCipher=f.extend({cfg:f.cfg.extend({mode:g,padding:m}),reset:function(){var e;f.reset.call(this);var t=this.cfg,r=t.iv,n=t.mode;this._xformMode==this._ENC_XFORM_MODE?e=n.createEncryptor:(e=n.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==e?this._mode.init(this,r&&r.words):(this._mode=e.call(n,this,r&&r.words),this._mode.__creator=e)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e,t=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(t.pad(this._data,this.blockSize),e=this._process(!0)):(e=this._process(!0),t.unpad(e)),e},blockSize:4}),y=o.CipherParams=s.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}}),v=(i.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext,r=e.salt;return(r?a.create([1398893684,1701076831]).concat(r).concat(t):t).toString(l)},parse:function(e){var t,r=l.parse(e),n=r.words;return 1398893684==n[0]&&1701076831==n[1]&&(t=a.create(n.slice(2,4)),n.splice(0,4),r.sigBytes-=16),y.create({ciphertext:r,salt:t})}},b=o.SerializableCipher=s.extend({cfg:s.extend({format:v}),encrypt:function(e,t,r,n){n=this.cfg.extend(n);var i=e.createEncryptor(r,n),o=i.finalize(t),s=i.cfg;return y.create({ciphertext:o,key:r,iv:s.iv,algorithm:e,mode:s.mode,padding:s.padding,blockSize:e.blockSize,formatter:n.format})},decrypt:function(e,t,r,n){return n=this.cfg.extend(n),t=this._parse(t,n.format),e.createDecryptor(r,n).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),w=(i.kdf={}).OpenSSL={execute:function(e,t,r,n){n||(n=a.random(8));var i=h.create({keySize:t+r}).compute(e,n),o=a.create(i.words.slice(t),4*r);return i.sigBytes=4*t,y.create({key:i,iv:o,salt:n})}},_=o.PasswordBasedCipher=b.extend({cfg:b.cfg.extend({kdf:w}),encrypt:function(e,t,r,n){var i=(n=this.cfg.extend(n)).kdf.execute(r,e.keySize,e.ivSize);n.iv=i.iv;var o=b.encrypt.call(this,e,t,i.key,n);return o.mixIn(i),o},decrypt:function(e,t,r,n){n=this.cfg.extend(n),t=this._parse(t,n.format);var i=n.kdf.execute(r,e.keySize,e.ivSize,t.salt);return n.iv=i.iv,b.decrypt.call(this,e,t,i.key,n)}}))))},function(e,t,r){var n;e.exports=(n=r(20),n.enc.Utf8)},function(e,t,r){"use strict";var n,i=(n=r(38))&&n.__esModule?n:{default:n};const{v4:o}=r(44);let s=null;const a={currentInstallationId(){if("string"==typeof s)return Promise.resolve(s);const e=i.default.generatePath("installationId");return i.default.getItemAsync(e).then(t=>t?(s=t,t):(t=o(),i.default.setItemAsync(e,t).then(()=>(s=t,t))))},_clearCache(){s=null},_setInstallationIdCache(e){s=e}};e.exports=a},function(e,t,r){(function(e,n){
/**
 * Wrapper for built-in http.js to emulate the browser XMLHttpRequest object.
 *
 * This can be used with JS designed for browsers to improve reuse of code and
 * allow the use of existing libraries.
 *
 * Usage: include("XMLHttpRequest.js") and use XMLHttpRequest per W3C specs.
 *
 * @author Dan DeFelippi <dan@driverdan.com>
 * @contributor David Ellis <d.f.ellis@ieee.org>
 * @license MIT
 */
var i=r(50),o=r(90).spawn,s=r(90);t.XMLHttpRequest=function(){"use strict";var t,a,u=this,c=r(48),l=r(60),h={},f=!1,d={"User-Agent":"node-XMLHttpRequest",Accept:"*/*"},p={},g={},m=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","content-transfer-encoding","cookie","cookie2","date","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"],y=["TRACE","TRACK","CONNECT"],v=!1,b=!1,w={};this.UNSENT=0,this.OPENED=1,this.HEADERS_RECEIVED=2,this.LOADING=3,this.DONE=4,this.readyState=this.UNSENT,this.onreadystatechange=null,this.responseText="",this.responseXML="",this.status=null,this.statusText=null,this.withCredentials=!1;this.open=function(e,t,r,n,i){if(this.abort(),b=!1,!function(e){return e&&-1===y.indexOf(e)}(e))throw new Error("SecurityError: Request method not allowed");h={method:e,url:t.toString(),async:"boolean"!=typeof r||r,user:n||null,password:i||null},_(this.OPENED)},this.setDisableHeaderCheck=function(e){f=e},this.setRequestHeader=function(e,t){if(this.readyState!==this.OPENED)throw new Error("INVALID_STATE_ERR: setRequestHeader can only be called when state is OPEN");if(function(e){return f||e&&-1===m.indexOf(e.toLowerCase())}(e)){if(v)throw new Error("INVALID_STATE_ERR: send flag is true");e=g[e.toLowerCase()]||e,g[e.toLowerCase()]=e,p[e]=p[e]?p[e]+", "+t:t}else console.warn('Refused to set unsafe header "'+e+'"')},this.getResponseHeader=function(e){return"string"==typeof e&&this.readyState>this.OPENED&&a&&a.headers&&a.headers[e.toLowerCase()]&&!b?a.headers[e.toLowerCase()]:null},this.getAllResponseHeaders=function(){if(this.readyState<this.HEADERS_RECEIVED||b)return"";var e="";for(var t in a.headers)"set-cookie"!==t&&"set-cookie2"!==t&&(e+=t+": "+a.headers[t]+"\r\n");return e.substr(0,e.length-2)},this.getRequestHeader=function(e){return"string"==typeof e&&g[e.toLowerCase()]?p[g[e.toLowerCase()]]:""},this.send=function(r){if(this.readyState!==this.OPENED)throw new Error("INVALID_STATE_ERR: connection must be opened before send() is called");if(v)throw new Error("INVALID_STATE_ERR: send has already been called");var f,m=!1,y=!1,w=i.parse(h.url);switch(w.protocol){case"https:":m=!0;case"http:":f=w.hostname;break;case"file:":y=!0;break;case void 0:case null:case"":f="localhost";break;default:throw new Error("Protocol not supported.")}if(y){if("GET"!==h.method)throw new Error("XMLHttpRequest: Only GET method is supported");if(h.async)s.readFile(w.pathname,"utf8",(function(e,t){e?u.handleError(e):(u.status=200,u.responseText=t,_(u.DONE))}));else try{this.responseText=s.readFileSync(w.pathname,"utf8"),this.status=200,_(u.DONE)}catch(e){this.handleError(e)}}else{var E=w.port||(m?443:80),A=w.pathname+(w.search?w.search:"");for(var P in d)g[P.toLowerCase()]||(p[P]=d[P]);if(p.Host=f,m&&443===E||80===E||(p.Host+=":"+w.port),h.user){void 0===h.password&&(h.password="");var O=new e(h.user+":"+h.password);p.Authorization="Basic "+O.toString("base64")}"GET"===h.method||"HEAD"===h.method?r=null:r?(p["Content-Length"]=e.isBuffer(r)?r.length:e.byteLength(r),p["Content-Type"]||(p["Content-Type"]="text/plain;charset=UTF-8")):"POST"===h.method&&(p["Content-Length"]=0);var S={host:f,port:E,path:A,method:h.method,headers:p,agent:!1,withCredentials:u.withCredentials};if(b=!1,h.async){var C=m?l.request:c.request;v=!0,u.dispatchEvent("readystatechange");var k=function(e){u.handleError(e)};t=C(S,(function e(r){if(301!==(a=r).statusCode&&302!==a.statusCode&&303!==a.statusCode&&307!==a.statusCode)a.setEncoding("utf8"),_(u.HEADERS_RECEIVED),u.status=a.statusCode,a.on("data",(function(e){e&&(u.responseText+=e),v&&_(u.LOADING)})),a.on("end",(function(){v&&(_(u.DONE),v=!1)})),a.on("error",(function(e){u.handleError(e)}));else{h.url=a.headers.location;var n=i.parse(h.url);f=n.hostname;var o={hostname:n.hostname,port:n.port,path:n.path,method:303===a.statusCode?"GET":h.method,headers:p,withCredentials:u.withCredentials};(t=C(o,e).on("error",k)).end()}})).on("error",k),r&&t.write(r),t.end(),u.dispatchEvent("loadstart")}else{var N=".node-xmlhttprequest-content-"+n.pid,T=".node-xmlhttprequest-sync-"+n.pid;s.writeFileSync(T,"","utf8");for(var I="var http = require('http'), https = require('https'), fs = require('fs');var doRequest = http"+(m?"s":"")+".request;var options = "+JSON.stringify(S)+";var responseText = '';var req = doRequest(options, function(response) {response.setEncoding('utf8');response.on('data', function(chunk) {  responseText += chunk;});response.on('end', function() {fs.writeFileSync('"+N+"', JSON.stringify({err: null, data: {statusCode: response.statusCode, headers: response.headers, text: responseText}}), 'utf8');fs.unlinkSync('"+T+"');});response.on('error', function(error) {fs.writeFileSync('"+N+"', JSON.stringify({err: error}), 'utf8');fs.unlinkSync('"+T+"');});}).on('error', function(error) {fs.writeFileSync('"+N+"', JSON.stringify({err: error}), 'utf8');fs.unlinkSync('"+T+"');});"+(r?"req.write('"+JSON.stringify(r).slice(1,-1).replace(/'/g,"\\'")+"');":"")+"req.end();",R=o(n.argv[0],["-e",I]);s.existsSync(T););var x=JSON.parse(s.readFileSync(N,"utf8"));R.stdin.end(),s.unlinkSync(N),x.err?u.handleError(x.err):(a=x.data,u.status=x.data.statusCode,u.responseText=x.data.text,_(u.DONE))}}},this.handleError=function(e){this.status=0,this.statusText=e,this.responseText=e.stack,b=!0,_(this.DONE),this.dispatchEvent("error")},this.abort=function(){t&&(t.abort(),t=null),p=d,this.status=0,this.responseText="",this.responseXML="",b=!0,this.readyState===this.UNSENT||this.readyState===this.OPENED&&!v||this.readyState===this.DONE||(v=!1,_(this.DONE)),this.readyState=this.UNSENT,this.dispatchEvent("abort")},this.addEventListener=function(e,t){e in w||(w[e]=[]),w[e].push(t)},this.removeEventListener=function(e,t){e in w&&(w[e]=w[e].filter((function(e){return e!==t})))},this.dispatchEvent=function(e){if("function"==typeof u["on"+e]&&u["on"+e](),e in w)for(var t=0,r=w[e].length;t<r;t++)w[e][t].call(u)};var _=function(e){e!=u.LOADING&&u.readyState===e||(u.readyState=e,(h.async||u.readyState<u.OPENED||u.readyState===u.DONE)&&u.dispatchEvent("readystatechange"),u.readyState!==u.DONE||b||(u.dispatchEvent("load"),u.dispatchEvent("loadend")))}}}).call(this,r(22).Buffer,r(12))},function(e,t,r){"use strict";const n=["Module not found: Can't resolve '@walletconnect/web3-provider'","Module not found: Can't resolve 'magic-sdk'","Module not found: Can't resolve '@web3auth/web3auth'"];e.exports={filterConsole:()=>{const e=console.warn;console.warn=(...t)=>{let r=t?t[0]:null;return r&&"string"==typeof r?(r=r.replace("","'").replace("","'").replace("","'"),n.filter(e=>r.includes(e)).length>=1?void 0:e.apply(console,t)):e.apply(console,t)}}}},function(e,t,r){"use strict";var n,i=(n=r(89))&&n.__esModule?n:{default:n};function o(){o=function(e,t){return new r(e,void 0,t)};var e=RegExp.prototype,t=new WeakMap;function r(e,n,i){var o=new RegExp(e,n);return t.set(o,i||t.get(e)),a(o,r.prototype)}function n(e,r){var n=t.get(r);return Object.keys(n).reduce((function(t,r){return t[r]=e[n[r]],t}),Object.create(null))}return s(r,RegExp),r.prototype.exec=function(t){var r=e.exec.call(this,t);return r&&(r.groups=n(r,this)),r},r.prototype[Symbol.replace]=function(r,i){if("string"==typeof i){var o=t.get(this);return e[Symbol.replace].call(this,r,i.replace(/\$<([^>]+)>/g,(function(e,t){return"$"+o[t]})))}if("function"==typeof i){var s=this;return e[Symbol.replace].call(this,r,(function(){var e=arguments;return"object"!=typeof e[e.length-1]&&(e=[].slice.call(e)).push(n(e,s)),i.apply(this,e)}))}return e[Symbol.replace].call(this,r,i)},o.apply(this,arguments)}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a(e,t)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}const u=Object.freeze({START_FUNCTION:"Moralis SDK start"}),c=async()=>{const{response:e}=await i.default.ajax("GET","https://deep-index.moralis.io/api-docs/v2/swagger.json");return e},l=e=>{const t={},r={};return Object.entries(e.paths).map(([e,n])=>Object.entries(n).forEach(([n,i])=>{const{tags:o}=i;o.length>0&&(t[o[0]]||(t[o[0]]=[]),t[o[0]].push(i.operationId),r[i.operationId]={method:n,pathName:e,data:i})})),{pathByTag:t,pathDetails:r}},h=o(/^https?:\/\/([0-9A-Z_a-z]+\.[0-9A-Z_a-z]+\.[0-9A-Z_a-z]+)(:[0-9]{4})?\/server\/?$/,{subdomain:1});e.exports={fetchSwaggerJson:c,getPathByTag:l,fetchEndpoints:async()=>{const e=await c(),{pathDetails:t}=await l(e),r=[];return Object.keys(t).forEach(e=>{const n=t[e],i={method:n.method.toUpperCase(),group:n.data.tags[0],name:e,url:n.pathName.split("{").join(":").split("}").join("")};r.push(i)}),r},checkForSdkUpdates:async()=>{try{const{response:e}=await i.default.ajax("GET","https://www.unpkg.com/moralis/package.json"),t=e.version;((e,t)=>{const[r,n]=e.split("-"),i=r.split(".").map(e=>Number(e)),[o,s]=t.split("-"),a=o.split(".").map(e=>Number(e));for(let e=0;e<3;e++){const t=i[e],r=a[e];if(t>r)return!0;if(t<r)return!1;if(!Number.isNaN(t)&&Number.isNaN(r))return!0;if(Number.isNaN(t)&&!Number.isNaN(r))return!1}if(n&&s){var u,c;return(null!==(u=n.split(".")[1])&&void 0!==u?u:0)>(null!==(c=s.split(".")[1])&&void 0!==c?c:0)}return!!s})(t,"1.12.0")&&console.warn("Moralis: You are not using the latest version of the SDK. Please update it as soon as possible to enjoy the newest features. Most recent version: "+t)}catch(e){}},trackEvent:async(e,t,r)=>{try{const{response:n}=await i.default.ajax("POST","https://internal-api.moralis.io/api/functions/trackEvent",JSON.stringify({subdomain:t,event:e,options:r}),{Accept:"application/json","Content-Type":"application/json"});return n.result}catch(e){}},TrackingEventName:u,getSubdomain:e=>{var t,r;if(!(e=>h.test(e))(e))return null;const n=h.exec(e);return null!==(t=null==n||null===(r=n.groups)||void 0===r?void 0:r.subdomain)&&void 0!==t?t:null}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.track=function(e,t){if(0===(e=(e=(e=e||"").replace(/^\s*/,"")).replace(/\s*$/,"")).length)throw new TypeError("A name for the custom event must be provided");for(const e in t)if("string"!=typeof e||"string"!=typeof t[e])throw new TypeError('track() dimensions expects keys and values of type "string".');return i.default.getAnalyticsController().track(e,t)};var n,i=(n=r(4))&&n.__esModule?n:{default:n};const o={track:(e,t)=>i.default.getRESTController().request("POST","events/"+e,{dimensions:t})};i.default.setAnalyticsController(o)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=c(r(4)),i=c(r(21)),o=c(r(24)),s=c(r(75)),a=c(r(10)),u=c(r(38));function c(e){return e&&e.__esModule?e:{default:e}}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class h{constructor(){l(this,"attributes",void 0),l(this,"_escapedAttributes",void 0),this.attributes={},this._escapedAttributes={}}get(e){return this.attributes[e]}escape(e){const t=this._escapedAttributes[e];if(t)return t;const r=this.attributes[e];let n="";return null!=r&&(n=(0,s.default)(r.toString())),this._escapedAttributes[e]=n,n}static current(){return n.default.getConfigController().current()}static get(e={}){return n.default.getConfigController().get(e)}static save(e,t){const r=n.default.getConfigController();return r.save(e,t).then(()=>r.get({useMasterKey:!0}),e=>Promise.reject(e))}static _clearCache(){f=null}}let f=null;function d(e){try{const t=JSON.parse(e);if(t&&"object"==typeof t)return(0,i.default)(t)}catch(e){return null}}const p={current(){if(f)return f;const e=new h,t=u.default.generatePath("currentConfig");if(!u.default.async()){const r=u.default.getItem(t);if(r){const t=d(r);t&&(e.attributes=t,f=e)}return e}return u.default.getItemAsync(t).then(t=>{if(t){const r=d(t);r&&(e.attributes=r,f=e)}return e})},get:(e={})=>n.default.getRESTController().request("GET","config",{},e).then(e=>{if(!e||!e.params){const e=new a.default(a.default.INVALID_JSON,"Config JSON response invalid.");return Promise.reject(e)}const t=new h;t.attributes={};for(const r in e.params)t.attributes[r]=(0,i.default)(e.params[r]);return f=t,u.default.setItemAsync(u.default.generatePath("currentConfig"),JSON.stringify(e.params)).then(()=>t)}),save(e,t){const r=n.default.getRESTController(),i={};for(const t in e)i[t]=(0,o.default)(e[t]);return r.request("PUT","config",{params:i,masterKeyOnly:t},{useMasterKey:!0}).then(e=>{if(e&&e.result)return Promise.resolve();const t=new a.default(a.default.INTERNAL_SERVER_ERROR,"Error occured updating Config.");return Promise.reject(t)})}};n.default.setConfigController(p);var g=h;t.default=g},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(15))&&n.__esModule?n:{default:n};let o,s,a=!1;const u={authenticate(e){"undefined"==typeof FB&&e.error(this,"Facebook SDK not found."),FB.login(t=>{t.authResponse?e.success&&e.success(this,{id:t.authResponse.userID,access_token:t.authResponse.accessToken,expiration_date:new Date(1e3*t.authResponse.expiresIn+(new Date).getTime()).toJSON()}):e.error&&e.error(this,t)},{scope:o})},restoreAuthentication(e){if(e){const t={};if(s)for(const e in s)t[e]=s[e];t.status=!1;const r=FB.getAuthResponse();r&&r.userID!==e.id&&FB.logout(),FB.init(t)}return!0},getAuthType:()=>"facebook",deauthenticate(){this.restoreAuthentication(null)}};var c={init(e){if("undefined"==typeof FB)throw new Error("The Facebook JavaScript SDK must be loaded before calling init.");if(s={},e)for(const t in e)s[t]=e[t];if(s.status&&"undefined"!=typeof console){(console.warn||console.log||function(){}).call(console,'The "status" flag passed into FB.init, when set to true, can interfere with Parse Facebook integration, so it has been suppressed. Please call FB.getLoginStatus() explicitly if you require this behavior.')}s.status=!1,FB.init(s),i.default._registerAuthenticationProvider(u),a=!0},isLinked:e=>e._isLinked("facebook"),logIn(e,t){if(!e||"string"==typeof e){if(!a)throw new Error("You must initialize FacebookUtils before calling logIn.");return o=e,i.default.logInWith("facebook",t)}return i.default.logInWith("facebook",{authData:e},t)},link(e,t,r){if(!t||"string"==typeof t){if(!a)throw new Error("You must initialize FacebookUtils before calling link.");return o=t,e.linkWith("facebook",r)}return e.linkWith("facebook",{authData:t},r)},unlink:function(e,t){if(!a)throw new Error("You must initialize FacebookUtils before calling unlink.");return e._unlinkFrom("facebook",t)},_getAuthProvider:()=>u};t.default=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(3))&&n.__esModule?n:{default:n};class o extends i.default{constructor(e){if(super("_Installation"),e&&"object"==typeof e&&!this.set(e||{}))throw new Error("Can't create an invalid Installation")}}t.default=o,i.default.registerSubclass("_Installation",o)},function(e,t,r){"use strict";var n=s(r(4)),i=s(r(14)),o=r(41);function s(e){return e&&e.__esModule?e:{default:e}}const a={isEnabled:!1,isSyncing:!1,fromPinWithName:e=>n.default.getLocalDatastoreController().fromPinWithName(e),pinWithName:(e,t)=>n.default.getLocalDatastoreController().pinWithName(e,t),unPinWithName:e=>n.default.getLocalDatastoreController().unPinWithName(e),_getAllContents:()=>n.default.getLocalDatastoreController().getAllContents(),_getRawStorage:()=>n.default.getLocalDatastoreController().getRawStorage(),_clear:()=>n.default.getLocalDatastoreController().clear(),async _handlePinAllWithName(e,t){const r=this.getPinName(e),n=[],i=[];for(const e of t){const t=this._getChildren(e),r=this.getKeyForObject(e),o=e._toFullJSON(void 0,!0);e._localId&&(o._localId=e._localId),t[r]=o;for(const e in t)i.push(e),n.push(this.pinWithName(e,[t[e]]))}const o=this.fromPinWithName(r),[s]=await Promise.all([o,n]),a=[...new Set([...s||[],...i])];return this.pinWithName(r,a)},async _handleUnPinAllWithName(e,t){const r=await this._getAllContents(),n=this.getPinName(e),i=[];let s=[];for(const e of t){const t=this._getChildren(e),r=this.getKeyForObject(e);s.push(r,...Object.keys(t))}s=[...new Set(s)];let a=r[n]||[];a=a.filter(e=>!s.includes(e)),0===a.length?(i.push(this.unPinWithName(n)),delete r[n]):(i.push(this.pinWithName(n,a)),r[n]=a);for(const e of s){let t=!1;for(const n in r)if(n===o.DEFAULT_PIN||n.startsWith(o.PIN_PREFIX)){if((r[n]||[]).includes(e)){t=!0;break}}t||i.push(this.unPinWithName(e))}return Promise.all(i)},_getChildren(e){const t={},r=e._toFullJSON(void 0,!0);for(const e in r)r[e]&&r[e].__type&&"Object"===r[e].__type&&this._traverse(r[e],t);return t},_traverse(e,t){if(!e.objectId)return;const r=this.getKeyForObject(e);if(!t[r]){t[r]=e;for(const r in e){let n=e[r];e[r]||(n=e),n.__type&&"Object"===n.__type&&this._traverse(n,t)}}},async _serializeObjectsFromPinName(e){const t=await this._getAllContents(),r=[];for(const e in t)e.startsWith(o.OBJECT_PREFIX)&&r.push(t[e][0]);if(!e)return r;const n=t[this.getPinName(e)];if(!Array.isArray(n))return[];const i=n.map(e=>this.fromPinWithName(e));let s=await Promise.all(i);return s=[].concat(...s),s.filter(e=>null!=e)},async _serializeObject(e,t){let r=t;if(r||(r=await this._getAllContents()),!r[e]||0===r[e].length)return null;const n=r[e][0],i=[],o={};let s=0;for(o[s]=n,i.push(s);0!==i.length;){const e=o[i.shift()];for(const t in e){const n=e[t];if(n.__type&&"Object"===n.__type){const a=this.getKeyForObject(n);if(r[a]&&r[a].length>0){const n=r[a][0];s++,o[s]=n,e[t]=n,i.push(s)}}}}return n},async _updateObjectIfPinned(e){if(!this.isEnabled)return;const t=this.getKeyForObject(e),r=await this.fromPinWithName(t);return r&&0!==r.length?this.pinWithName(t,[e._toFullJSON()]):void 0},async _destroyObjectIfPinned(e){if(!this.isEnabled)return;const t=await this._getAllContents(),r=this.getKeyForObject(e);if(!t[r])return;const n=[this.unPinWithName(r)];delete t[r];for(const e in t)if(e===o.DEFAULT_PIN||e.startsWith(o.PIN_PREFIX)){let i=t[e]||[];i.includes(r)&&(i=i.filter(e=>e!==r),0===i.length?(n.push(this.unPinWithName(e)),delete t[e]):(n.push(this.pinWithName(e,i)),t[e]=i))}return Promise.all(n)},async _updateLocalIdForObject(e,t){if(!this.isEnabled)return;const r=`${o.OBJECT_PREFIX}${t.className}_${e}`,n=this.getKeyForObject(t),i=await this.fromPinWithName(r);if(!i||0===i.length)return;const s=[this.unPinWithName(r),this.pinWithName(n,i)],a=await this._getAllContents();for(const e in a)if(e===o.DEFAULT_PIN||e.startsWith(o.PIN_PREFIX)){let t=a[e]||[];t.includes(r)&&(t=t.filter(e=>e!==r),t.push(n),s.push(this.pinWithName(e,t)),a[e]=t)}return Promise.all(s)},async updateFromServer(){if(!this.checkIfEnabled()||this.isSyncing)return;const e=await this._getAllContents(),t=[];for(const r in e)r.startsWith(o.OBJECT_PREFIX)&&t.push(r);if(0===t.length)return;this.isSyncing=!0;const r={};for(const e of t){let[,,t,n]=e.split("_");5===e.split("_").length&&"User"===e.split("_")[3]&&(t="_User",n=e.split("_")[4]),n.startsWith("local")||(t in r||(r[t]=new Set),r[t].add(n))}const n=Object.keys(r).map(e=>{const t=Array.from(r[e]),n=new i.default(e);return n.limit(t.length),1===t.length?n.equalTo("objectId",t[0]):n.containedIn("objectId",t),n.find()});try{const e=await Promise.all(n),t=[].concat.apply([],e).map(e=>{const t=this.getKeyForObject(e);return this.pinWithName(t,e._toFullJSON())});await Promise.all(t),this.isSyncing=!1}catch(e){console.error("Error syncing LocalDatastore: ",e),this.isSyncing=!1}},getKeyForObject(e){const t=e.objectId||e._getId();return`${o.OBJECT_PREFIX}${e.className}_${t}`},getPinName:e=>e&&e!==o.DEFAULT_PIN?o.PIN_PREFIX+e:o.DEFAULT_PIN,checkIfEnabled(){return this.isEnabled||console.error("Parse.enableLocalDatastore() must be called first"),this.isEnabled}};e.exports=a,n.default.setLocalDatastoreController(r(170)),n.default.setLocalDatastore(a)},function(e,t,r){"use strict";var n,i=r(41),o=(n=r(38))&&n.__esModule?n:{default:n};const s={async fromPinWithName(e){const t=await o.default.getItemAsync(e);if(!t)return[];return JSON.parse(t)},pinWithName(e,t){const r=JSON.stringify(t);return o.default.setItemAsync(e,r)},unPinWithName:e=>o.default.removeItemAsync(e),getAllContents:async()=>(await o.default.getAllKeysAsync()).reduce(async(e,t)=>{const r=await e;if((0,i.isLocalDatastoreKey)(t)){const e=await o.default.getItemAsync(t);try{r[t]=JSON.parse(e)}catch(e){console.error("Error getAllContents: ",e)}}return r},Promise.resolve({})),getRawStorage:async()=>(await o.default.getAllKeysAsync()).reduce(async(e,t)=>{const r=await e,n=await o.default.getItemAsync(t);return r[t]=n,r},Promise.resolve({})),async clear(){const e=await o.default.getAllKeysAsync(),t=[];for(const r of e)(0,i.isLocalDatastoreKey)(r)&&t.push(r);const r=t.map(this.unPinWithName);return Promise.all(r)}};e.exports=s},function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const s=r(92);class a{static initialize({apiKey:e,serverUrl:t,Moralis:r=null,headers:n={}}){if(!t&&!e)throw new Error("Web3Api.initialize failed: initialize with apiKey or serverUrl");e&&(this.apiKey=e),t&&(this.serverUrl=t),this.Moralis=r,this.headers=n}static getBody(e,t){if(!e||!t||!t.length)return;let r={};return t.forEach(({key:t,type:n,required:i})=>{if(void 0===e[t]){if(i)throw new Error(`param ${t} is required!`)}else n===this.BodyParamTypes.setBody?r=e[t]:r[t]=e[t];delete e[t]}),r}static getParameterizedUrl(e,t){if(!Object.keys(t).length)return e;const r=e.split("/").filter(e=>e&&e.includes(":"));if(!r.length)return e;let n=e;return r.forEach(e=>{const r=e.substr(1),i=t[r];if(!i)throw new Error(`required param ${r} not provided`);n=n.replace(e,i),delete t[r]}),n}static getNextOptions(e,t){const r=i({},t);return e&&e.page_size&&e.total&&void 0!==e.page?(e.cursor?""!==e.cursor&&(r.cursor=e.cursor):e.total>e.page_size*(e.page+1)&&(r.offset=(e.page+1)*(r.limit||500)),r):t}static getApiRateLimitInfo(e){return{"x-rate-limit-limit":e["x-rate-limit-limit"],"x-rate-limit-remaining-ttl":e["x-rate-limit-remaining-ttl"],"x-rate-limit-used":e["x-rate-limit-used"],"x-rate-limit-remaining-ip-ttl":e["x-rate-limit-remaining-ip-ttl"],"x-rate-limit-ip-used":e["x-rate-limit-ip-used"]}}static getApiErrorMessage(e,t){var r,n;return(null==e||null===(r=e.response)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.message)||(null==e?void 0:e.message)||(null==e?void 0:e.toString())||"Web3 API error while calling "+t}static async fetch({endpoint:e,params:t}){const r=i({},t);if(this.Moralis){const{User:e,account:t}=this.Moralis,n=e.current();r.address||(n?r.address=n.get("ethAddress"):t&&(r.address=t))}return this.apiKey?this.fetchFromApi(e,r):this.fetchFromServer(e.name,r)}static async fetchFromApi(e,t){const{method:r="GET",url:n,bodyParams:o}=e;try{const a=this.getParameterizedUrl(n,t),u=this.getBody(t,o),c=(await s(this.baseURL+a,{params:t,method:r,data:u,headers:i({Accept:"application/json","Content-Type":"application/json","x-api-key":this.apiKey},this.headers)})).data,l=this.getNextOptions(c,t);return this.checkObjEqual(l,t)||(c.next=()=>this.fetchFromApi(e,l)),c}catch(e){const{status:t,headers:r,data:i}=e.response;let o;throw o=429===t?"This Moralis Server is rate-limited because of the plan restrictions. See the details about the current rate and throttle limits: "+JSON.stringify(this.getApiRateLimitInfo(r)):this.getApiErrorMessage(e,n),new Error(o)}}static async fetchFromServer(e,t){if(!this.serverUrl)throw new Error("Web3Api not initialized, run Moralis.start() first");try{const r=s.create({baseURL:this.serverUrl});t.chain||(t.chain="eth");const n=this.Moralis.User.current();n&&(t._SessionToken=n.attributes.sessionToken,t._ApplicationId=this.Moralis.applicationId);const o=await r.post("/functions/"+e,t,{headers:i({Accept:"application/json","Content-Type":"application/json"},this.headers)}),{result:a}=o.data,u=this.getNextOptions(a,t);return this.checkObjEqual(u,t)||(a.next=()=>this.fetchFromServer(e,u)),a}catch(e){var r,n;if(null!==(r=e.response)&&void 0!==r&&null!==(n=r.data)&&void 0!==n&&n.error)throw new Error(e.response.data.error);throw e}}}o(a,"baseURL","https://deep-index.moralis.io/api/v2"),o(a,"BodyParamTypes",{setBody:"set body",property:"property"}),o(a,"checkObjEqual",(...e)=>e.every(t=>JSON.stringify(t)===JSON.stringify(e[0]))),o(a,"native",{getBlock:async(e={})=>a.fetch({endpoint:{method:"GET",group:"native",name:"getBlock",url:"/block/:block_number_or_hash"},params:e}),getDateToBlock:async(e={})=>a.fetch({endpoint:{method:"GET",group:"native",name:"getDateToBlock",url:"/dateToBlock"},params:e}),getLogsByAddress:async(e={})=>a.fetch({endpoint:{method:"GET",group:"native",name:"getLogsByAddress",url:"/:address/logs"},params:e}),getNFTTransfersByBlock:async(e={})=>a.fetch({endpoint:{method:"GET",group:"native",name:"getNFTTransfersByBlock",url:"/block/:block_number_or_hash/nft/transfers"},params:e}),getTransaction:async(e={})=>a.fetch({endpoint:{method:"GET",group:"native",name:"getTransaction",url:"/transaction/:transaction_hash"},params:e}),getContractEvents:async(e={})=>a.fetch({endpoint:{method:"POST",group:"native",name:"getContractEvents",url:"/:address/events",bodyParams:[{key:"data",type:"set body",required:!1}]},params:e}),runContractFunction:async(e={})=>a.fetch({endpoint:{method:"POST",group:"native",name:"runContractFunction",url:"/:address/function",bodyParams:[{key:"abi",type:"property",required:!0},{key:"params",type:"property",required:!1}]},params:e})}),o(a,"account",{getTransactions:async(e={})=>a.fetch({endpoint:{method:"GET",group:"account",name:"getTransactions",url:"/:address"},params:e}),getNativeBalance:async(e={})=>a.fetch({endpoint:{method:"GET",group:"account",name:"getNativeBalance",url:"/:address/balance"},params:e}),getTokenBalances:async(e={})=>a.fetch({endpoint:{method:"GET",group:"account",name:"getTokenBalances",url:"/:address/erc20"},params:e}),getTokenTransfers:async(e={})=>a.fetch({endpoint:{method:"GET",group:"account",name:"getTokenTransfers",url:"/:address/erc20/transfers"},params:e}),getNFTs:async(e={})=>a.fetch({endpoint:{method:"GET",group:"account",name:"getNFTs",url:"/:address/nft"},params:e}),getNFTTransfers:async(e={})=>a.fetch({endpoint:{method:"GET",group:"account",name:"getNFTTransfers",url:"/:address/nft/transfers"},params:e}),getNFTsForContract:async(e={})=>a.fetch({endpoint:{method:"GET",group:"account",name:"getNFTsForContract",url:"/:address/nft/:token_address"},params:e})}),o(a,"token",{getTokenMetadata:async(e={})=>a.fetch({endpoint:{method:"GET",group:"token",name:"getTokenMetadata",url:"/erc20/metadata"},params:e}),getNFTTrades:async(e={})=>a.fetch({endpoint:{method:"GET",group:"token",name:"getNFTTrades",url:"/nft/:address/trades"},params:e}),getNFTLowestPrice:async(e={})=>a.fetch({endpoint:{method:"GET",group:"token",name:"getNFTLowestPrice",url:"/nft/:address/lowestprice"},params:e}),getTokenMetadataBySymbol:async(e={})=>a.fetch({endpoint:{method:"GET",group:"token",name:"getTokenMetadataBySymbol",url:"/erc20/metadata/symbols"},params:e}),getTokenPrice:async(e={})=>a.fetch({endpoint:{method:"GET",group:"token",name:"getTokenPrice",url:"/erc20/:address/price"},params:e}),getTokenAddressTransfers:async(e={})=>a.fetch({endpoint:{method:"GET",group:"token",name:"getTokenAddressTransfers",url:"/erc20/:address/transfers"},params:e}),getTokenAllowance:async(e={})=>a.fetch({endpoint:{method:"GET",group:"token",name:"getTokenAllowance",url:"/erc20/:address/allowance"},params:e}),searchNFTs:async(e={})=>a.fetch({endpoint:{method:"GET",group:"token",name:"searchNFTs",url:"/nft/search"},params:e}),getNftTransfersFromToBlock:async(e={})=>a.fetch({endpoint:{method:"GET",group:"token",name:"getNftTransfersFromToBlock",url:"/nft/transfers"},params:e}),getAllTokenIds:async(e={})=>a.fetch({endpoint:{method:"GET",group:"token",name:"getAllTokenIds",url:"/nft/:address"},params:e}),getContractNFTTransfers:async(e={})=>a.fetch({endpoint:{method:"GET",group:"token",name:"getContractNFTTransfers",url:"/nft/:address/transfers"},params:e}),getNFTOwners:async(e={})=>a.fetch({endpoint:{method:"GET",group:"token",name:"getNFTOwners",url:"/nft/:address/owners"},params:e}),getNFTMetadata:async(e={})=>a.fetch({endpoint:{method:"GET",group:"token",name:"getNFTMetadata",url:"/nft/:address/metadata"},params:e}),reSyncMetadata:async(e={})=>a.fetch({endpoint:{method:"GET",group:"token",name:"reSyncMetadata",url:"/nft/:address/:token_id/metadata/resync"},params:e}),getTokenIdMetadata:async(e={})=>a.fetch({endpoint:{method:"GET",group:"token",name:"getTokenIdMetadata",url:"/nft/:address/:token_id"},params:e}),getTokenIdOwners:async(e={})=>a.fetch({endpoint:{method:"GET",group:"token",name:"getTokenIdOwners",url:"/nft/:address/:token_id/owners"},params:e}),getWalletTokenIdTransfers:async(e={})=>a.fetch({endpoint:{method:"GET",group:"token",name:"getWalletTokenIdTransfers",url:"/nft/:address/:token_id/transfers"},params:e})}),o(a,"contract",{syncNFTContract:async(e={})=>a.fetch({endpoint:{method:"PUT",group:"contract",name:"syncNFTContract",url:"/nft/:address/sync"},params:e})}),o(a,"resolve",{resolveDomain:async(e={})=>a.fetch({endpoint:{method:"GET",group:"resolve",name:"resolveDomain",url:"/resolve/:domain"},params:e}),resolveAddress:async(e={})=>a.fetch({endpoint:{method:"GET",group:"resolve",name:"resolveAddress",url:"/resolve/:address/reverse"},params:e})}),o(a,"defi",{getPairReserves:async(e={})=>a.fetch({endpoint:{method:"GET",group:"defi",name:"getPairReserves",url:"/:pair_address/reserves"},params:e}),getPairAddress:async(e={})=>a.fetch({endpoint:{method:"GET",group:"defi",name:"getPairAddress",url:"/:token0_address/:token1_address/pairAddress"},params:e})}),o(a,"storage",{uploadFolder:async(e={})=>a.fetch({endpoint:{method:"POST",group:"storage",name:"uploadFolder",url:"/ipfs/uploadFolder",bodyParams:[{key:"data",type:"set body",required:!1}]},params:e})}),o(a,"info",{web3ApiVersion:async(e={})=>a.fetch({endpoint:{method:"GET",group:"info",name:"web3ApiVersion",url:"/web3/version"},params:e}),endpointWeights:async(e={})=>a.fetch({endpoint:{method:"GET",group:"info",name:"endpointWeights",url:"/info/endpointWeights"},params:e})});var u=a;t.default=u},function(e,t,r){"use strict";var n=r(8),i=r(93),o=r(173),s=r(100);var a=function e(t){var r=new o(t),a=i(o.prototype.request,r);return n.extend(a,o.prototype,r),n.extend(a,r),a.create=function(r){return e(s(t,r))},a}(r(54));a.Axios=o,a.Cancel=r(43),a.CancelToken=r(186),a.isCancel=r(99),a.VERSION=r(101).version,a.all=function(e){return Promise.all(e)},a.spread=r(187),a.isAxiosError=r(188),e.exports=a,e.exports.default=a},function(e,t,r){"use strict";var n=r(8),i=r(94),o=r(174),s=r(175),a=r(100),u=r(185),c=u.validators;function l(e){this.defaults=e,this.interceptors={request:new o,response:new o}}l.prototype.request=function(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},(t=a(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var r=t.transitional;void 0!==r&&u.assertOptions(r,{silentJSONParsing:c.transitional(c.boolean),forcedJSONParsing:c.transitional(c.boolean),clarifyTimeoutError:c.transitional(c.boolean)},!1);var n=[],i=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(i=i&&e.synchronous,n.unshift(e.fulfilled,e.rejected))}));var o,l=[];if(this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)})),!i){var h=[s,void 0];for(Array.prototype.unshift.apply(h,n),h=h.concat(l),o=Promise.resolve(t);h.length;)o=o.then(h.shift(),h.shift());return o}for(var f=t;n.length;){var d=n.shift(),p=n.shift();try{f=d(f)}catch(e){p(e);break}}try{o=s(f)}catch(e){return Promise.reject(e)}for(;l.length;)o=o.then(l.shift(),l.shift());return o},l.prototype.getUri=function(e){return e=a(this.defaults,e),i(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},n.forEach(["delete","get","head","options"],(function(e){l.prototype[e]=function(t,r){return this.request(a(r||{},{method:e,url:t,data:(r||{}).data}))}})),n.forEach(["post","put","patch"],(function(e){l.prototype[e]=function(t,r,n){return this.request(a(n||{},{method:e,url:t,data:r}))}})),e.exports=l},function(e,t,r){"use strict";var n=r(8);function i(){this.handlers=[]}i.prototype.use=function(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){n.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},function(e,t,r){"use strict";var n=r(8),i=r(176),o=r(99),s=r(54),a=r(43);function u(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new a("canceled")}e.exports=function(e){return u(e),e.headers=e.headers||{},e.data=i.call(e,e.data,e.headers,e.transformRequest),e.headers=n.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),n.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||s.adapter)(e).then((function(t){return u(e),t.data=i.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return o(t)||(u(e),t&&t.response&&(t.response.data=i.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},function(e,t,r){"use strict";var n=r(8),i=r(54);e.exports=function(e,t,r){var o=this||i;return n.forEach(r,(function(r){e=r.call(o,e,t)})),e}},function(e,t,r){"use strict";var n=r(8);e.exports=function(e,t){n.forEach(e,(function(r,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(e[t]=r,delete e[n])}))}},function(e,t,r){"use strict";var n=r(98);e.exports=function(e,t,r){var i=r.config.validateStatus;r.status&&i&&!i(r.status)?t(n("Request failed with status code "+r.status,r.config,null,r.request,r)):e(r)}},function(e,t,r){"use strict";var n=r(8);e.exports=n.isStandardBrowserEnv()?{write:function(e,t,r,i,o,s){var a=[];a.push(e+"="+encodeURIComponent(t)),n.isNumber(r)&&a.push("expires="+new Date(r).toGMTString()),n.isString(i)&&a.push("path="+i),n.isString(o)&&a.push("domain="+o),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,r){"use strict";var n=r(181),i=r(182);e.exports=function(e,t){return e&&!n(t)?i(e,t):t}},function(e,t,r){"use strict";e.exports=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}},function(e,t,r){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,r){"use strict";var n=r(8),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,r,o,s={};return e?(n.forEach(e.split("\n"),(function(e){if(o=e.indexOf(":"),t=n.trim(e.substr(0,o)).toLowerCase(),r=n.trim(e.substr(o+1)),t){if(s[t]&&i.indexOf(t)>=0)return;s[t]="set-cookie"===t?(s[t]?s[t]:[]).concat([r]):s[t]?s[t]+", "+r:r}})),s):s}},function(e,t,r){"use strict";var n=r(8);e.exports=n.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function i(e){var n=e;return t&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return e=i(window.location.href),function(t){var r=n.isString(t)?i(t):t;return r.protocol===e.protocol&&r.host===e.host}}():function(){return!0}},function(e,t,r){"use strict";var n=r(101).version,i={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){i[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}}));var o={};i.transitional=function(e,t,r){function i(e,t){return"[Axios v"+n+"] Transitional option '"+e+"'"+t+(r?". "+r:"")}return function(r,n,s){if(!1===e)throw new Error(i(n," has been removed"+(t?" in "+t:"")));return t&&!o[n]&&(o[n]=!0,console.warn(i(n," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(r,n,s)}},e.exports={assertOptions:function(e,t,r){if("object"!=typeof e)throw new TypeError("options must be an object");for(var n=Object.keys(e),i=n.length;i-- >0;){var o=n[i],s=t[o];if(s){var a=e[o],u=void 0===a||s(a,o,e);if(!0!==u)throw new TypeError("option "+o+" must be "+u)}else if(!0!==r)throw Error("Unknown option "+o)}},validators:i}},function(e,t,r){"use strict";var n=r(43);function i(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var r=this;this.promise.then((function(e){if(r._listeners){var t,n=r._listeners.length;for(t=0;t<n;t++)r._listeners[t](e);r._listeners=null}})),this.promise.then=function(e){var t,n=new Promise((function(e){r.subscribe(e),t=e})).then(e);return n.cancel=function(){r.unsubscribe(t)},n},e((function(e){r.reason||(r.reason=new n(e),t(r.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},i.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},i.source=function(){var e;return{token:new i((function(t){e=t})),cancel:e}},e.exports=i},function(e,t,r){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,r){"use strict";var n=r(8);e.exports=function(e){return n.isObject(e)&&!0===e.isAxiosError}},function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const s=r(92);class a{static initialize({apiKey:e,serverUrl:t,Moralis:r=null,headers:n={}}){if(!t&&!e)throw new Error("SolanaApi.initialize failed: initialize with apiKey or serverUrl");e&&(this.apiKey=e),t&&(this.serverUrl=t),this.Moralis=r,this.headers=n}static getBody(e,t){if(!e||!t||!t.length)return;let r={};return t.forEach(({key:t,type:n,required:i})=>{if(void 0===e[t]){if(i)throw new Error(`param ${t} is required!`)}else n===this.BodyParamTypes.setBody?r=e[t]:r[t]=e[t];delete e[t]}),r}static getParameterizedUrl(e,t){if(!Object.keys(t).length)return e;const r=e.split("/").filter(e=>e&&e.includes(":"));if(!r.length)return e;let n=e;return r.forEach(e=>{const r=e.substr(1),i=t[r];if(!i)throw new Error(`required param ${r} not provided`);n=n.replace(e,i),delete t[r]}),n}static getApiRateLimitInfo(e){return{"x-rate-limit-limit":e["x-rate-limit-limit"],"x-rate-limit-remaining-ttl":e["x-rate-limit-remaining-ttl"],"x-rate-limit-used":e["x-rate-limit-used"],"x-rate-limit-remaining-ip-ttl":e["x-rate-limit-remaining-ip-ttl"],"x-rate-limit-ip-used":e["x-rate-limit-ip-used"]}}static getErrorMessage(e,t){var r,n;return(null==e||null===(r=e.response)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.message)||(null==e?void 0:e.message)||(null==e?void 0:e.toString())||"Solana API error while calling "+t}static async fetch({endpoint:e,params:t}){const r=i({},t);if(this.Moralis){const{User:e}=this.Moralis,t=e.current();r.address||t&&(r.address=t.get("solAddress"))}return r.network||(r.network="mainnet"),r.responseType||(r.responseType="native"),this.apiKey?this.fetchFromApi(e,r):this.fetchFromServer(e.name,r)}static async fetchFromApi(e,t){const{method:r="GET",url:n,bodyParams:o}=e;try{const e=this.getParameterizedUrl(n,t),a=this.getBody(t,o);return(await s(this.baseURL+e,{params:t,method:r,data:a,headers:i({Accept:"application/json","Content-Type":"application/json","x-api-key":this.apiKey},this.headers)})).data}catch(e){const{status:t,headers:r,data:i}=e.response;let o;throw o=429===t?"This Moralis Server is rate-limited because of the plan restrictions. See the details about the current rate and throttle limits: "+JSON.stringify(this.getApiRateLimitInfo(r)):this.getApiErrorMessage(e,n),new Error(o)}}static async fetchFromServer(e,t){if(!this.serverUrl)throw new Error("SolanaAPI not initialized, run Moralis.start() first");try{const r=s.create({baseURL:this.serverUrl}),n=this.Moralis.User.current();n&&(t._SessionToken=n.attributes.sessionToken,t._ApplicationId=this.Moralis.applicationId);return(await r.post("/functions/sol-"+e,t,{headers:i({Accept:"application/json","Content-Type":"application/json"},this.headers)})).data.result}catch(e){var r,n;if(null!==(r=e.response)&&void 0!==r&&null!==(n=r.data)&&void 0!==n&&n.error)throw new Error(e.response.data.error);throw e}}}o(a,"baseURL","https://solana-gateway.moralis.io"),o(a,"BodyParamTypes",{setBody:"set body",property:"property"}),o(a,"account",{balance:async(e={})=>a.fetch({endpoint:{method:"GET",group:"account",name:"balance",url:"/account/:network/:address/balance"},params:e}),getSPL:async(e={})=>a.fetch({endpoint:{method:"GET",group:"account",name:"getSPL",url:"/account/:network/:address/tokens"},params:e}),getNFTs:async(e={})=>a.fetch({endpoint:{method:"GET",group:"account",name:"getNFTs",url:"/account/:network/:address/nft"},params:e}),getPortfolio:async(e={})=>a.fetch({endpoint:{method:"GET",group:"account",name:"getPortfolio",url:"/account/:network/:address/portfolio"},params:e})}),o(a,"nft",{getNFTMetadata:async(e={})=>a.fetch({endpoint:{method:"GET",group:"nft",name:"getNFTMetadata",url:"/nft/:network/:address/metadata"},params:e})}),o(a,"token",{getTokenPrice:async(e={})=>a.fetch({endpoint:{method:"GET",group:"token",name:"getTokenPrice",url:"/token/:network/:address/price"},params:e})});var u=a;t.default=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.send=function(e){e.where&&e.where instanceof i.default&&(e.where=e.where.toJSON().where);e.push_time&&"object"==typeof e.push_time&&(e.push_time=e.push_time.toJSON());e.expiration_time&&"object"==typeof e.expiration_time&&(e.expiration_time=e.expiration_time.toJSON());if(e.expiration_time&&e.expiration_interval)throw new Error("expiration_time and expiration_interval cannot both be set.");return n.default.getPushController().send(e)};var n=o(r(4)),i=o(r(14));function o(e){return e&&e.__esModule?e:{default:e}}const s={send:e=>n.default.getRESTController().request("POST","push",e,{useMasterKey:!0})};n.default.setPushController(s)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(r(4)),i=s(r(3)),o=s(r(91));function s(e){return e&&e.__esModule?e:{default:e}}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const u=["String","Number","Boolean","Date","File","GeoPoint","Polygon","Array","Object","Pointer","Relation"];const c={send:(e,t,r={})=>n.default.getRESTController().request(t,"schemas/"+e,r,{useMasterKey:!0}),get(e){return this.send(e,"GET")},create(e,t){return this.send(e,"POST",t)},update(e,t){return this.send(e,"PUT",t)},delete(e){return this.send(e,"DELETE")},purge:e=>n.default.getRESTController().request("DELETE","purge/"+e,{},{useMasterKey:!0})};n.default.setSchemaController(c);var l=class{constructor(e){a(this,"className",void 0),a(this,"_fields",void 0),a(this,"_indexes",void 0),a(this,"_clp",void 0),"string"==typeof e&&("User"===e&&n.default.get("PERFORM_USER_REWRITE")?this.className="_User":this.className=e),this._fields={},this._indexes={}}static all(){return n.default.getSchemaController().get("").then(e=>{if(0===e.results.length)throw new Error("Schema not found.");return e.results})}get(){this.assertClassName();return n.default.getSchemaController().get(this.className).then(e=>{if(!e)throw new Error("Schema not found.");return e})}save(){this.assertClassName();const e=n.default.getSchemaController(),t={className:this.className,fields:this._fields,indexes:this._indexes,classLevelPermissions:this._clp};return e.create(this.className,t)}update(){this.assertClassName();const e=n.default.getSchemaController(),t={className:this.className,fields:this._fields,indexes:this._indexes,classLevelPermissions:this._clp};return this._fields={},this._indexes={},e.update(this.className,t)}delete(){this.assertClassName();return n.default.getSchemaController().delete(this.className)}purge(){this.assertClassName();return n.default.getSchemaController().purge(this.className)}assertClassName(){if(!this.className)throw new Error("You must set a Class Name before making any request.")}setCLP(e){return e instanceof o.default?this._clp=e.toJSON():this._clp=e,this}addField(e,t,r={}){if(t=t||"String",!e)throw new Error("field name may not be null.");if(-1===u.indexOf(t))throw new Error(t+" is not a valid type.");const n={type:t};return"boolean"==typeof r.required&&(n.required=r.required),void 0!==r.defaultValue&&(n.defaultValue=r.defaultValue),this._fields[e]=n,this}addIndex(e,t){if(!e)throw new Error("index name may not be null.");if(!t)throw new Error("index may not be null.");return this._indexes[e]=t,this}addString(e,t){return this.addField(e,"String",t)}addNumber(e,t){return this.addField(e,"Number",t)}addBoolean(e,t){return this.addField(e,"Boolean",t)}addDate(e,t){return t&&t.defaultValue&&(t.defaultValue={__type:"Date",iso:new Date(t.defaultValue)}),this.addField(e,"Date",t)}addFile(e,t){return this.addField(e,"File",t)}addGeoPoint(e,t){return this.addField(e,"GeoPoint",t)}addPolygon(e,t){return this.addField(e,"Polygon",t)}addArray(e,t){return this.addField(e,"Array",t)}addObject(e,t){return this.addField(e,"Object",t)}addPointer(e,t,r={}){if(!e)throw new Error("field name may not be null.");if(!t)throw new Error("You need to set the targetClass of the Pointer.");const n={type:"Pointer",targetClass:t};return"boolean"==typeof r.required&&(n.required=r.required),void 0!==r.defaultValue&&(n.defaultValue=r.defaultValue,r.defaultValue instanceof i.default&&(n.defaultValue=r.defaultValue.toPointer())),this._fields[e]=n,this}addRelation(e,t){if(!e)throw new Error("field name may not be null.");if(!t)throw new Error("You need to set the targetClass of the Relation.");return this._fields[e]={type:"Relation",targetClass:t},this}deleteField(e){return this._fields[e]={__op:"Delete"},this}deleteIndex(e){return this._indexes[e]={__op:"Delete"},this}};t.default=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(r(55)),i=s(r(102)),o=s(r(4));function s(e){return e&&e.__esModule?e:{default:e}}function a(){return o.default.getLiveQueryController().getDefaultLiveQueryClient()}const u=new n.default;u.open=async()=>{(await a()).open()},u.close=async()=>{(await a()).close()},u.on("error",()=>{});var c=u;let l;t.default=c;const h={setDefaultLiveQueryClient(e){l=e},async getDefaultLiveQueryClient(){if(l)return l;const[e,t]=await Promise.all([o.default.getUserController().currentUserAsync(),o.default.getInstallationController().currentInstallationId()]),r=e?e.getSessionToken():void 0;let n=o.default.get("LIVEQUERY_SERVER_URL");if(n&&0!==n.indexOf("ws"))throw new Error("You need to set a proper Parse LiveQuery server url before using LiveQueryClient");if(!n){const e=o.default.get("SERVER_URL");n=(0===e.indexOf("https")?"wss://":"ws://")+e.replace(/^https?:\/\//,""),o.default.set("LIVEQUERY_SERVER_URL",n)}const s=o.default.get("APPLICATION_ID"),a=o.default.get("JAVASCRIPT_KEY"),c=o.default.get("MASTER_KEY");return l=new i.default({applicationId:s,serverURL:n,javascriptKey:a,masterKey:c,sessionToken:r,installationId:t}),l.on("error",e=>{u.emit("error",e)}),l.on("open",()=>{u.emit("open")}),l.on("close",()=>{u.emit("close")}),l},_clearCachedDefaultClient(){l=null}};o.default.setLiveQueryController(h)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(r(55)),i=s(r(4)),o=r(29);function s(e){return e&&e.__esModule?e:{default:e}}class a extends n.default{constructor(e,t,r){super(),this.id=e,this.query=t,this.sessionToken=r,this.subscribePromise=(0,o.resolvingPromise)(),this.subscribed=!1,this.on("error",()=>{})}unsubscribe(){return i.default.getLiveQueryController().getDefaultLiveQueryClient().then(e=>{e.unsubscribe(this),this.emit("close")})}}var u=a;t.default=u},function(e,t,r){"use strict";e.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}},function(e,t,r){"use strict";var n=r(26);e.exports=class{static ETH(e){return n.ethers.utils.parseEther(""+e).toString()}static Token(e,t=18){return n.ethers.utils.parseUnits(""+e,+t).toString()}static FromWei(e,t=18){const r=n.ethers.utils.formatUnits(e,t),i=r.split(".");return"0"===i[1]?i[0]:r}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={async openPrompt(){console.warn("Moralis: No prompt supplied")}};t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={ETH_MAINNET:"0x1",ETH_ROPSTEN:"0x3",ETH_GOERLI:"0x5",ETH_KOVAN:"0x2a",ETH_RINKEBY:"0x4",ETH_LOCALDEVCHAIN:"0x539",POLYGON_MAINNET:"0x89",POLYGON_MUMBAI:"0x13881",BSC_MAINNET:"0x38",BSC_TESTNET:"0x61",AVAX_MAINNET:"0xa86a",AVAX_TESTNET:"0xa869",FANTOM_MAINNET:"0xfa",CRONOS_MAINNET:"0x19",CRONOS_TESTNET:"0x152"};t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=a,t.createFunction=function(e,t){return a({functionName:e,url:t})},t.createTrigger=function(e,t,r){return a({className:e,triggerName:t,url:r})},t.getFunction=function(e){return n.default.getHooksController().get("functions",e)},t.getFunctions=function(){return n.default.getHooksController().get("functions")},t.getTrigger=function(e,t){return n.default.getHooksController().get("triggers",e,t)},t.getTriggers=function(){return n.default.getHooksController().get("triggers")},t.remove=c,t.removeFunction=function(e){return c({functionName:e})},t.removeTrigger=function(e,t){return c({className:e,triggerName:t})},t.update=u,t.updateFunction=function(e,t){return u({functionName:e,url:t})},t.updateTrigger=function(e,t,r){return u({className:e,triggerName:t,url:r})};var n=s(r(4)),i=s(r(21)),o=s(r(10));function s(e){return e&&e.__esModule?e:{default:e}}function a(e){return n.default.getHooksController().create(e)}function u(e){return n.default.getHooksController().update(e)}function c(e){return n.default.getHooksController().remove(e)}const l={get(e,t,r){let n="/hooks/"+e;return t&&(n+="/"+t,r&&(n+="/"+r)),this.sendRequest("GET",n)},create(e){let t;if(e.functionName&&e.url)t="/hooks/functions";else{if(!(e.className&&e.triggerName&&e.url))return Promise.reject({error:"invalid hook declaration",code:143});t="/hooks/triggers"}return this.sendRequest("POST",t,e)},remove(e){let t;if(e.functionName)t="/hooks/functions/"+e.functionName,delete e.functionName;else{if(!e.className||!e.triggerName)return Promise.reject({error:"invalid hook declaration",code:143});t=`/hooks/triggers/${e.className}/${e.triggerName}`,delete e.className,delete e.triggerName}return this.sendRequest("PUT",t,{__op:"Delete"})},update(e){let t;if(e.functionName&&e.url)t="/hooks/functions/"+e.functionName,delete e.functionName;else{if(!(e.className&&e.triggerName&&e.url))return Promise.reject({error:"invalid hook declaration",code:143});t=`/hooks/triggers/${e.className}/${e.triggerName}`,delete e.className,delete e.triggerName}return this.sendRequest("PUT",t,e)},sendRequest:(e,t,r)=>n.default.getRESTController().request(e,t,r,{useMasterKey:!0}).then(e=>{const t=(0,i.default)(e);return t?Promise.resolve(t):Promise.reject(new o.default(o.default.INVALID_JSON,"The server returned an invalid response."))})};n.default.setHooksController(l)},function(e,t,r){"use strict";r.r(t),r.d(t,"Game",(function(){return z})),r.d(t,"moves",(function(){return V})),r.d(t,"status",(function(){return J})),r.d(t,"move",(function(){return $})),r.d(t,"fetchAiLevel",(function(){return Y})),r.d(t,"aiMove",(function(){return Q})),r.d(t,"saveScore",(function(){return X}));const n={KING_W:"K",QUEEN_W:"Q",ROOK_W:"R",BISHOP_W:"B",KNIGHT_W:"N",PAWN_W:"P",KING_B:"k",QUEEN_B:"q",ROOK_B:"r",BISHOP_B:"b",KNIGHT_B:"n",PAWN_B:"p"},i="black",o="white",s=[0,1,2,3,4],a={0:1,1:2,2:2,3:3,4:3,5:4},u={0:2,1:2,2:4,3:4,4:5,5:5},c={fullMove:1,halfMove:0,enPassant:null,points:0,playerWon:!1,isFinished:!1,checkMate:!1,check:!1,currentAiLevel:null,turn:o},l=Object.assign({pieces:{E1:"K",D1:"Q",A1:"R",H1:"R",C1:"B",F1:"B",B1:"N",G1:"N",A2:"P",B2:"P",C2:"P",D2:"P",E2:"P",F2:"P",G2:"P",H2:"P",E8:"k",D8:"q",A8:"r",H8:"r",C8:"b",F8:"b",B8:"n",G8:"n",A7:"p",B7:"p",C7:"p",D7:"p",E7:"p",F7:"p",G7:"p",H7:"p"},castling:{whiteShort:!0,blackShort:!0,whiteLong:!0,blackLong:!0}},c),h={UP:{A1:"A2",A2:"A3",A3:"A4",A4:"A5",A5:"A6",A6:"A7",A7:"A8",A8:null,B1:"B2",B2:"B3",B3:"B4",B4:"B5",B5:"B6",B6:"B7",B7:"B8",B8:null,C1:"C2",C2:"C3",C3:"C4",C4:"C5",C5:"C6",C6:"C7",C7:"C8",C8:null,D1:"D2",D2:"D3",D3:"D4",D4:"D5",D5:"D6",D6:"D7",D7:"D8",D8:null,E1:"E2",E2:"E3",E3:"E4",E4:"E5",E5:"E6",E6:"E7",E7:"E8",E8:null,F1:"F2",F2:"F3",F3:"F4",F4:"F5",F5:"F6",F6:"F7",F7:"F8",F8:null,G1:"G2",G2:"G3",G3:"G4",G4:"G5",G5:"G6",G6:"G7",G7:"G8",G8:null,H1:"H2",H2:"H3",H3:"H4",H4:"H5",H5:"H6",H6:"H7",H7:"H8",H8:null},DOWN:{A1:null,A2:"A1",A3:"A2",A4:"A3",A5:"A4",A6:"A5",A7:"A6",A8:"A7",B1:null,B2:"B1",B3:"B2",B4:"B3",B5:"B4",B6:"B5",B7:"B6",B8:"B7",C1:null,C2:"C1",C3:"C2",C4:"C3",C5:"C4",C6:"C5",C7:"C6",C8:"C7",D1:null,D2:"D1",D3:"D2",D4:"D3",D5:"D4",D6:"D5",D7:"D6",D8:"D7",E1:null,E2:"E1",E3:"E2",E4:"E3",E5:"E4",E6:"E5",E7:"E6",E8:"E7",F1:null,F2:"F1",F3:"F2",F4:"F3",F5:"F4",F6:"F5",F7:"F6",F8:"F7",G1:null,G2:"G1",G3:"G2",G4:"G3",G5:"G4",G6:"G5",G7:"G6",G8:"G7",H1:null,H2:"H1",H3:"H2",H4:"H3",H5:"H4",H6:"H5",H7:"H6",H8:"H7"},LEFT:{A1:null,A2:null,A3:null,A4:null,A5:null,A6:null,A7:null,A8:null,B1:"A1",B2:"A2",B3:"A3",B4:"A4",B5:"A5",B6:"A6",B7:"A7",B8:"A8",C1:"B1",C2:"B2",C3:"B3",C4:"B4",C5:"B5",C6:"B6",C7:"B7",C8:"B8",D1:"C1",D2:"C2",D3:"C3",D4:"C4",D5:"C5",D6:"C6",D7:"C7",D8:"C8",E1:"D1",E2:"D2",E3:"D3",E4:"D4",E5:"D5",E6:"D6",E7:"D7",E8:"D8",F1:"E1",F2:"E2",F3:"E3",F4:"E4",F5:"E5",F6:"E6",F7:"E7",F8:"E8",G1:"F1",G2:"F2",G3:"F3",G4:"F4",G5:"F5",G6:"F6",G7:"F7",G8:"F8",H1:"G1",H2:"G2",H3:"G3",H4:"G4",H5:"G5",H6:"G6",H7:"G7",H8:"G8"},RIGHT:{A1:"B1",A2:"B2",A3:"B3",A4:"B4",A5:"B5",A6:"B6",A7:"B7",A8:"B8",B1:"C1",B2:"C2",B3:"C3",B4:"C4",B5:"C5",B6:"C6",B7:"C7",B8:"C8",C1:"D1",C2:"D2",C3:"D3",C4:"D4",C5:"D5",C6:"D6",C7:"D7",C8:"D8",D1:"E1",D2:"E2",D3:"E3",D4:"E4",D5:"E5",D6:"E6",D7:"E7",D8:"E8",E1:"F1",E2:"F2",E3:"F3",E4:"F4",E5:"F5",E6:"F6",E7:"F7",E8:"F8",F1:"G1",F2:"G2",F3:"G3",F4:"G4",F5:"G5",F6:"G6",F7:"G7",F8:"G8",G1:"H1",G2:"H2",G3:"H3",G4:"H4",G5:"H5",G6:"H6",G7:"H7",G8:"H8",H1:null,H2:null,H3:null,H4:null,H5:null,H6:null,H7:null,H8:null},UP_LEFT:{A1:null,A2:null,A3:null,A4:null,A5:null,A6:null,A7:null,A8:null,B1:"A2",B2:"A3",B3:"A4",B4:"A5",B5:"A6",B6:"A7",B7:"A8",B8:null,C1:"B2",C2:"B3",C3:"B4",C4:"B5",C5:"B6",C6:"B7",C7:"B8",C8:null,D1:"C2",D2:"C3",D3:"C4",D4:"C5",D5:"C6",D6:"C7",D7:"C8",D8:null,E1:"D2",E2:"D3",E3:"D4",E4:"D5",E5:"D6",E6:"D7",E7:"D8",E8:null,F1:"E2",F2:"E3",F3:"E4",F4:"E5",F5:"E6",F6:"E7",F7:"E8",F8:null,G1:"F2",G2:"F3",G3:"F4",G4:"F5",G5:"F6",G6:"F7",G7:"F8",G8:null,H1:"G2",H2:"G3",H3:"G4",H4:"G5",H5:"G6",H6:"G7",H7:"G8",H8:null},DOWN_RIGHT:{A1:null,A2:"B1",A3:"B2",A4:"B3",A5:"B4",A6:"B5",A7:"B6",A8:"B7",B1:null,B2:"C1",B3:"C2",B4:"C3",B5:"C4",B6:"C5",B7:"C6",B8:"C7",C1:null,C2:"D1",C3:"D2",C4:"D3",C5:"D4",C6:"D5",C7:"D6",C8:"D7",D1:null,D2:"E1",D3:"E2",D4:"E3",D5:"E4",D6:"E5",D7:"E6",D8:"E7",E1:null,E2:"F1",E3:"F2",E4:"F3",E5:"F4",E6:"F5",E7:"F6",E8:"F7",F1:null,F2:"G1",F3:"G2",F4:"G3",F5:"G4",F6:"G5",F7:"G6",F8:"G7",G1:null,G2:"H1",G3:"H2",G4:"H3",G5:"H4",G6:"H5",G7:"H6",G8:"H7",H1:null,H2:null,H3:null,H4:null,H5:null,H6:null,H7:null,H8:null},UP_RIGHT:{A1:"B2",A2:"B3",A3:"B4",A4:"B5",A5:"B6",A6:"B7",A7:"B8",A8:null,B1:"C2",B2:"C3",B3:"C4",B4:"C5",B5:"C6",B6:"C7",B7:"C8",B8:null,C1:"D2",C2:"D3",C3:"D4",C4:"D5",C5:"D6",C6:"D7",C7:"D8",C8:null,D1:"E2",D2:"E3",D3:"E4",D4:"E5",D5:"E6",D6:"E7",D7:"E8",D8:null,E1:"F2",E2:"F3",E3:"F4",E4:"F5",E5:"F6",E6:"F7",E7:"F8",E8:null,F1:"G2",F2:"G3",F3:"G4",F4:"G5",F5:"G6",F6:"G7",F7:"G8",F8:null,G1:"H2",G2:"H3",G3:"H4",G4:"H5",G5:"H6",G6:"H7",G7:"H8",G8:null,H1:null,H2:null,H3:null,H4:null,H5:null,H6:null,H7:null,H8:null},DOWN_LEFT:{A1:null,A2:null,A3:null,A4:null,A5:null,A6:null,A7:null,A8:null,B1:null,B2:"A1",B3:"A2",B4:"A3",B5:"A4",B6:"A5",B7:"A6",B8:"A7",C1:null,C2:"B1",C3:"B2",C4:"B3",C5:"B4",C6:"B5",C7:"B6",C8:"B7",D1:null,D2:"C1",D3:"C2",D4:"C3",D5:"C4",D6:"C5",D7:"C6",D8:"C7",E1:null,E2:"D1",E3:"D2",E4:"D3",E5:"D4",E6:"D5",E7:"D6",E8:"D7",F1:null,F2:"E1",F3:"E2",F4:"E3",F5:"E4",F6:"E5",F7:"E6",F8:"E7",G1:null,G2:"F1",G3:"F2",G4:"F3",G5:"F4",G6:"F5",G7:"F6",G8:"F7",H1:null,H2:"G1",H3:"G2",H4:"G3",H5:"G4",H6:"G5",H7:"G6",H8:"G7"}},f=[[0,0,0,0,0,0,0,0],[5,5,5,5,5,5,5,5],[1,1,2,3,3,2,1,1],[.5,.5,1,2.5,2.5,1,.5,.5],[0,0,0,2,2,0,0,0],[.5,0,1,0,0,1,0,.5],[.5,0,0,-2,-2,0,0,.5],[0,0,0,0,0,0,0,0]],d=[[-4,-3,-2,-2,-2,-2,-3,-4],[-3,-2,0,0,0,0,-2,-3],[-2,0,1,1.5,1.5,1,0,-2],[-2,.5,1.5,2,2,1.5,.5,-2],[-2,0,1.5,2,2,1.5,0,-2],[-2,.5,1,1.5,1.5,1,.5,-2],[-3,-2,0,.5,.5,0,-2,-3],[-4,-3,-2,-2,-2,-2,-3,-4]],p=[[-2,-1,-1,-1,-1,-1,-1,-2],[-1,0,0,0,0,0,0,-1],[-1,0,.5,1,1,.5,0,-1],[-1,.5,.5,1,1,.5,.5,-1],[-1,0,1,1,1,1,0,-1],[-1,1,1,1,1,1,1,-1],[-1,.5,0,0,0,0,.5,-1],[-2,-1,-1,-1,-1,-1,-1,-2]],g=[[0,0,0,0,0,0,0,0],[.5,1,1,1,1,1,1,.5],[-.5,0,0,0,0,0,0,-.5],[-.5,0,0,0,0,0,0,-.5],[-.5,0,0,0,0,0,0,-.5],[-.5,0,0,0,0,0,0,-.5],[-.5,0,0,0,0,0,0,-.5],[0,0,0,.5,.5,0,0,0]],m=[[-3,-4,-4,-5,-5,-4,-4,-3],[-3,-4,-4,-5,-5,-4,-4,-3],[-3,-4,-4,-5,-5,-4,-4,-3],[-3,-4,-4,-5,-5,-4,-4,-3],[-2,-3,-3,-4,-4,-3,-3,-2],[-1,-2,-2,-2,-2,-2,-2,-1],[2,2,0,0,0,0,2,2],[2,3,1,0,0,1,3,2]],y=[[-2,-1,-1,-.5,-.5,-1,-1,-2],[-1,0,0,0,0,0,0,-1],[-1,0,.5,.5,.5,.5,0,-1],[-.5,0,.5,.5,.5,.5,0,-.5],[0,0,.5,.5,.5,.5,0,-.5],[-1,.5,.5,.5,.5,.5,0,-1],[-1,0,.5,0,0,0,0,-1],[-2,-1,-1,-.5,-.5,-1,-1,-2]],v={P:f.slice().reverse(),p:f,N:d.slice().reverse(),n:d,B:p.slice().reverse(),b:p,R:g.slice().reverse(),r:g,K:m.slice().reverse(),k:m,Q:y.slice().reverse(),q:y};function b(e){return h.UP[e]}function w(e){return h.DOWN[e]}function _(e){return h.LEFT[e]}function E(e){return h.RIGHT[e]}function A(e){return h.UP_LEFT[e]}function P(e){return h.UP_RIGHT[e]}function O(e){return h.DOWN_LEFT[e]}function S(e){return h.DOWN_RIGHT[e]}function C(e){const t=A(e);return t?b(t):null}function k(e){const t=A(e);return t?_(t):null}function N(e){const t=P(e);return t?b(t):null}function T(e){const t=P(e);return t?E(t):null}function I(e){const t=O(e);return t?w(t):null}function R(e){const t=O(e);return t?_(t):null}function x(e){const t=S(e);return t?w(t):null}function M(e){const t=S(e);return t?E(t):null}function j(e,t){return t===o?h.UP[e]:h.DOWN[e]}function D(e,t){return t===o?h.UP_LEFT[e]:h.DOWN_RIGHT[e]}function B(e,t){return t===o?h.UP_RIGHT[e]:h.DOWN_LEFT[e]}function L(e,t){return t===o?h.DOWN_LEFT[e]:h.UP_RIGHT[e]}function F(e,t){return t===o?h.DOWN_RIGHT[e]:h.UP_LEFT[e]}function U(e){return{k:10,q:9,r:5,b:3,n:3,p:1}[e.toLowerCase()]||0}function q(e){return"string"==typeof e&&e.match("^[a-hA-H]{1}[1-8]{1}$")}const W=-1e3,G=1e3;class H{constructor(e=JSON.parse(JSON.stringify(l))){if("object"!=typeof e)throw new Error(`Unknown configuration type ${typeof config}.`);this.configuration=Object.assign({},c,e),this.configuration.castling||(this.configuration.castling={whiteShort:!0,blackShort:!0,whiteLong:!0,blackLong:!0}),this.history=[]}getAttackingFields(e=this.getPlayingColor()){let t=[];for(const r in this.configuration.pieces){const n=this.getPiece(r);this.getPieceColor(n)===e&&(t=[...t,...this.getPieceMoves(n,r)])}return t}isAttackingKing(e=this.getPlayingColor()){let t=null;for(const r in this.configuration.pieces){const n=this.getPiece(r);if(this.isKing(n)&&this.getPieceColor(n)!==e){t=r;break}}return this.isPieceUnderAttack(t)}isPieceUnderAttack(e){const t=this.getPieceOnLocationColor(e),r=this.getEnemyColor(t);let n=!1,i=e,o=0;for(;b(i)&&!n;){i=b(i),o++;const e=this.getPiece(i);if(e&&this.getPieceColor(e)===r&&(this.isRook(e)||this.isQueen(e)||this.isKing(e)&&1===o)&&(n=!0),e)break}for(i=e,o=0;w(i)&&!n;){i=w(i),o++;const e=this.getPiece(i);if(e&&this.getPieceColor(e)===r&&(this.isRook(e)||this.isQueen(e)||this.isKing(e)&&1===o)&&(n=!0),e)break}for(i=e,o=0;_(i)&&!n;){i=_(i),o++;const e=this.getPiece(i);if(e&&this.getPieceColor(e)===r&&(this.isRook(e)||this.isQueen(e)||this.isKing(e)&&1===o)&&(n=!0),e)break}for(i=e,o=0;E(i)&&!n;){i=E(i),o++;const e=this.getPiece(i);if(e&&this.getPieceColor(e)===r&&(this.isRook(e)||this.isQueen(e)||this.isKing(e)&&1===o)&&(n=!0),e)break}for(i=e,o=0;B(i,t)&&!n;){i=B(i,t),o++;const e=this.getPiece(i);if(e&&this.getPieceColor(e)===r&&(this.isBishop(e)||this.isQueen(e)||1===o&&(this.isKing(e)||this.isPawn(e)))&&(n=!0),e)break}for(i=e,o=0;D(i,t)&&!n;){i=D(i,t),o++;const e=this.getPiece(i);if(e&&this.getPieceColor(e)===r&&(this.isBishop(e)||this.isQueen(e)||1===o&&(this.isKing(e)||this.isPawn(e)))&&(n=!0),e)break}for(i=e,o=0;F(i,t)&&!n;){i=F(i,t),o++;const e=this.getPiece(i);if(e&&this.getPieceColor(e)===r&&(this.isBishop(e)||this.isQueen(e)||this.isKing(e)&&1===o)&&(n=!0),e)break}for(i=e,o=0;L(i,t)&&!n;){i=L(i,t),o++;const e=this.getPiece(i);if(e&&this.getPieceColor(e)===r&&(this.isBishop(e)||this.isQueen(e)||this.isKing(e)&&1===o)&&(n=!0),e)break}i=N(e);let s=this.getPiece(i);return s&&this.getPieceColor(s)===r&&this.isKnight(s)&&(n=!0),i=T(e),s=this.getPiece(i),s&&this.getPieceColor(s)===r&&this.isKnight(s)&&(n=!0),i=k(e),s=this.getPiece(i),s&&this.getPieceColor(s)===r&&this.isKnight(s)&&(n=!0),i=C(e),s=this.getPiece(i),s&&this.getPieceColor(s)===r&&this.isKnight(s)&&(n=!0),i=I(e),s=this.getPiece(i),s&&this.getPieceColor(s)===r&&this.isKnight(s)&&(n=!0),i=R(e),s=this.getPiece(i),s&&this.getPieceColor(s)===r&&this.isKnight(s)&&(n=!0),i=x(e),s=this.getPiece(i),s&&this.getPieceColor(s)===r&&this.isKnight(s)&&(n=!0),i=M(e),s=this.getPiece(i),s&&this.getPieceColor(s)===r&&this.isKnight(s)&&(n=!0),n}hasPlayingPlayerCheck(){return this.isAttackingKing(this.getNonPlayingColor())}hasNonPlayingPlayerCheck(){return this.isAttackingKing(this.getPlayingColor())}getLowestValuePieceAttackingLocation(e,t=this.getPlayingColor()){let r=null;for(const n in this.configuration.pieces){const i=this.getPiece(n);this.getPieceColor(i)===t&&this.getPieceMoves(i,n).map(t=>{t===e&&(null===r||U(i)<r)&&(r=U(i))})}return r}getMoves(e=this.getPlayingColor(),t=null){const r={};let n=0;for(const t in this.configuration.pieces){const i=this.getPiece(t);if(this.getPieceColor(i)===e){const e=this.getPieceMoves(i,t);e.length&&n++,Object.assign(r,{[t]:e})}}const s=this.getAttackingFields(this.getNonPlayingColor());if(this.isLeftCastlingPossible(s)&&(this.isPlayingWhite()&&r.E1.push("C1"),this.isPlayingBlack()&&r.E8.push("C8")),this.isRightCastlingPossible(s)&&(this.isPlayingWhite()&&r.E1.push("G1"),this.isPlayingBlack()&&r.E8.push("G8")),t&&n>t)return r;const a={};for(const e in r)r[e].map(t=>{const r={pieces:Object.assign({},this.configuration.pieces),castling:Object.assign({},this.configuration.castling)},n=new H(r);n.move(e,t),(this.isPlayingWhite()&&!n.isAttackingKing(i)||this.isPlayingBlack()&&!n.isAttackingKing(o))&&(a[e]||(a[e]=[]),a[e].push(t))});return Object.keys(a).length||(this.configuration.isFinished=!0,this.hasPlayingPlayerCheck()&&(this.configuration.checkMate=!0),this.getNonPlayingColor()===i&&(this.configuration.points=0),this.getNonPlayingColor()===o&&(this.configuration.playerWon=!0)),a}isLeftCastlingPossible(e){if(this.isPlayingWhite()&&!this.configuration.castling.whiteLong)return!1;if(this.isPlayingBlack()&&!this.configuration.castling.blackLong)return!1;let t=null;if(this.isPlayingWhite()&&"K"===this.getPiece("E1")&&"R"===this.getPiece("A1")&&!e.includes("E1")?t="E1":this.isPlayingBlack()&&"k"===this.getPiece("E8")&&"r"===this.getPiece("A8")&&!e.includes("E8")&&(t="E8"),!t)return!1;let r=_(t);return!this.getPiece(r)&&!e.includes(r)&&(r=_(r),!this.getPiece(r)&&!e.includes(r)&&(r=_(r),!this.getPiece(r)))}isRightCastlingPossible(e){if(this.isPlayingWhite()&&!this.configuration.castling.whiteShort)return!1;if(this.isPlayingBlack()&&!this.configuration.castling.blackShort)return!1;let t=null;if(this.isPlayingWhite()&&"K"===this.getPiece("E1")&&"R"===this.getPiece("H1")&&!e.includes("E1")?t="E1":this.isPlayingBlack()&&"k"===this.getPiece("E8")&&"r"===this.getPiece("H8")&&!e.includes("E8")&&(t="E8"),!t)return!1;let r=E(t);return!this.getPiece(r)&&!e.includes(r)&&(r=E(r),!this.getPiece(r)&&!e.includes(r))}getPieceMoves(e,t){return this.isPawn(e)?this.getPawnMoves(e,t):this.isKnight(e)?this.getKnightMoves(e,t):this.isRook(e)?this.getRookMoves(e,t):this.isBishop(e)?this.getBishopMoves(e,t):this.isQueen(e)?this.getQueenMoves(e,t):this.isKing(e)?this.getKingMoves(e,t):[]}isPawn(e){return"P"===e.toUpperCase()}isKnight(e){return"N"===e.toUpperCase()}isRook(e){return"R"===e.toUpperCase()}isBishop(e){return"B"===e.toUpperCase()}isQueen(e){return"Q"===e.toUpperCase()}isKing(e){return"K"===e.toUpperCase()}getPawnMoves(e,t){const r=[],n=this.getPieceColor(e);let s=j(t,n);return s&&!this.getPiece(s)&&(r.push(s),s=j(s,n),function(e,t){if(e===o&&"2"===t[1])return!0;if(e===i&&"7"===t[1])return!0;return!1}(n,t)&&s&&!this.getPiece(s)&&r.push(s)),s=D(t,n),s&&(this.getPiece(s)&&this.getPieceOnLocationColor(s)!==n||s===this.configuration.enPassant)&&r.push(s),s=B(t,n),s&&(this.getPiece(s)&&this.getPieceOnLocationColor(s)!==n||s===this.configuration.enPassant)&&r.push(s),r}getKnightMoves(e,t){const r=[],n=this.getPieceColor(e);let i=N(t);return i&&this.getPieceOnLocationColor(i)!==n&&r.push(i),i=T(t),i&&this.getPieceOnLocationColor(i)!==n&&r.push(i),i=C(t),i&&this.getPieceOnLocationColor(i)!==n&&r.push(i),i=k(t),i&&this.getPieceOnLocationColor(i)!==n&&r.push(i),i=R(t),i&&this.getPieceOnLocationColor(i)!==n&&r.push(i),i=I(t),i&&this.getPieceOnLocationColor(i)!==n&&r.push(i),i=M(t),i&&this.getPieceOnLocationColor(i)!==n&&r.push(i),i=x(t),i&&this.getPieceOnLocationColor(i)!==n&&r.push(i),r}getRookMoves(e,t){const r=[],n=this.getPieceColor(e);let i=t;for(;b(i);){i=b(i);const e=this.getPieceOnLocationColor(i);if(this.getPieceOnLocationColor(i)!==n&&r.push(i),e)break}for(i=t;w(i);){i=w(i);const e=this.getPieceOnLocationColor(i);if(this.getPieceOnLocationColor(i)!==n&&r.push(i),e)break}for(i=t;E(i);){i=E(i);const e=this.getPieceOnLocationColor(i);if(this.getPieceOnLocationColor(i)!==n&&r.push(i),e)break}for(i=t;_(i);){i=_(i);const e=this.getPieceOnLocationColor(i);if(this.getPieceOnLocationColor(i)!==n&&r.push(i),e)break}return r}getBishopMoves(e,t){const r=[],n=this.getPieceColor(e);let i=t;for(;A(i);){i=A(i);const e=this.getPieceOnLocationColor(i);if(this.getPieceOnLocationColor(i)!==n&&r.push(i),e)break}for(i=t;P(i);){i=P(i);const e=this.getPieceOnLocationColor(i);if(this.getPieceOnLocationColor(i)!==n&&r.push(i),e)break}for(i=t;O(i);){i=O(i);const e=this.getPieceOnLocationColor(i);if(this.getPieceOnLocationColor(i)!==n&&r.push(i),e)break}for(i=t;S(i);){i=S(i);const e=this.getPieceOnLocationColor(i);if(this.getPieceOnLocationColor(i)!==n&&r.push(i),e)break}return r}getQueenMoves(e,t){return[...this.getRookMoves(e,t),...this.getBishopMoves(e,t)]}getKingMoves(e,t){const r=[],n=this.getPieceColor(e);let i=t;return i=b(i),i&&this.getPieceOnLocationColor(i)!==n&&r.push(i),i=t,i=E(i),i&&this.getPieceOnLocationColor(i)!==n&&r.push(i),i=t,i=w(i),i&&this.getPieceOnLocationColor(i)!==n&&r.push(i),i=t,i=_(i),i&&this.getPieceOnLocationColor(i)!==n&&r.push(i),i=t,i=A(i),i&&this.getPieceOnLocationColor(i)!==n&&r.push(i),i=t,i=P(i),i&&this.getPieceOnLocationColor(i)!==n&&r.push(i),i=t,i=O(i),i&&this.getPieceOnLocationColor(i)!==n&&r.push(i),i=t,i=S(i),i&&this.getPieceOnLocationColor(i)!==n&&r.push(i),r}getPieceColor(e){return e.toUpperCase()===e?o:i}getPieceOnLocationColor(e){const t=this.getPiece(e);return t?t.toUpperCase()===t?o:i:null}getPiece(e){return this.configuration.pieces[e]}setPiece(e,t){if(!function(e){return Object.values(n).includes(e)}(t))throw new Error("Invalid piece "+t);if(!q(e))throw new Error("Invalid location "+e);this.configuration.pieces[e.toUpperCase()]=t}removePiece(e){if(!q(e))throw new Error("Invalid location "+e);delete this.configuration.pieces[e.toUpperCase()]}isEmpty(e){if(!q(e))throw new Error("Invalid location "+e);return!this.configuration.pieces[e.toUpperCase()]}getEnemyColor(e){return e===o?i:o}getPlayingColor(){return this.configuration.turn}getNonPlayingColor(){return this.isPlayingWhite()?i:o}isPlayingWhite(){return this.configuration.turn===o}isPlayingBlack(){return this.configuration.turn===i}addMoveToHistory(e,t){this.history.push({from:e,to:t,configuration:JSON.parse(JSON.stringify(this.configuration))})}move(e,t){const r=this.getPiece(e),n=this.getPiece(t);if(!r)throw new Error("There is no piece at "+e);var s,a;if(Object.assign(this.configuration.pieces,{[t]:r}),delete this.configuration.pieces[e],this.isPlayingWhite()&&this.isPawn(r)&&"8"===t[1]&&Object.assign(this.configuration.pieces,{[t]:"Q"}),this.isPlayingBlack()&&this.isPawn(r)&&"1"===t[1]&&Object.assign(this.configuration.pieces,{[t]:"q"}),this.isPawn(r)&&t===this.configuration.enPassant&&delete this.configuration.pieces[(s=t,a=this.getPlayingColor(),a===o?h.DOWN[s]:h.UP[s])],this.isPawn(r)&&this.isPlayingWhite()&&"2"===e[1]&&"4"===t[1]?this.configuration.enPassant=e[0]+"3":this.isPawn(r)&&this.isPlayingBlack()&&"7"===e[1]&&"5"===t[1]?this.configuration.enPassant=e[0]+"6":this.configuration.enPassant=null,"E1"===e&&Object.assign(this.configuration.castling,{whiteLong:!1,whiteShort:!1}),"E8"===e&&Object.assign(this.configuration.castling,{blackLong:!1,blackShort:!1}),"A1"===e&&Object.assign(this.configuration.castling,{whiteLong:!1}),"H1"===e&&Object.assign(this.configuration.castling,{whiteShort:!1}),"A8"===e&&Object.assign(this.configuration.castling,{blackLong:!1}),"H8"===e&&Object.assign(this.configuration.castling,{blackShort:!1}),this.isKing(r)){if("E1"===e&&"C1"===t)return this.move("A1","D1");if("E8"===e&&"C8"===t)return this.move("A8","D8");if("E1"===e&&"G1"===t)return this.move("H1","F1");if("E8"===e&&"G8"===t)return this.move("H8","F8")}this.configuration.turn=this.isPlayingWhite()?i:o,this.isPlayingWhite()&&this.configuration.fullMove++,this.configuration.halfMove++,(n||this.isPawn(r))&&(this.configuration.halfMove=0)}exportJson(){return{moves:this.getMoves(),pieces:this.configuration.pieces,turn:this.configuration.turn,playerWon:this.configuration.playerWon,isFinished:this.configuration.isFinished,check:this.hasPlayingPlayerCheck(),checkMate:this.configuration.checkMate,castling:this.configuration.castling,enPassant:this.configuration.enPassant,halfMove:this.configuration.halfMove,fullMove:this.configuration.fullMove}}calculatePoints(e){let t=0;const r=["Q","R","R","B","B","N","N","P","P","P","P","P","P"];for(const e in this.configuration.pieces){switch(this.getPiece(e)){case"Q":r.includes("Q")&&(t+=9,r.splice(r.indexOf("Q"),1));break;case"R":r.includes("R")&&(t+=5,r.splice(r.indexOf("R"),1));break;case"B":r.includes("B")&&(t+=3,r.splice(r.indexOf("B"),1));break;case"N":r.includes("N")&&(t+=3,r.splice(r.indexOf("N"),1));break;case"P":r.includes("P")&&(t+=1,r.splice(r.indexOf("P"),1))}}switch(e){case 0:t+=50;break;case 1:t+=75;break;case 2:t+=110;break;case 3:t+=160;break;case 4:t+=225}return t}calculateAiMove(e){return this.calculateAiMoves(e)[0]}calculateAiMoves(e){if(e=parseInt(e),!s.includes(e))throw new Error(`Invalid level ${e}. You can choose ${s.join(",")}`);this.shouldIncreaseLevel()&&e++;const t=[],r=this.calculateScore(this.getPlayingColor()),n=this.getMoves();for(const i in n)n[i].map(n=>{const o=this.getTestBoard(),s=Boolean(o.getPiece(n));o.move(i,n),t.push({from:i,to:n,score:o.testMoveScores(this.getPlayingColor(),e,s,s?o.calculateScore(this.getPlayingColor()):r,n).score+o.calculateScoreByPiecesLocation(this.getPlayingColor())+Math.floor(Math.random()*(this.configuration.halfMove>10?this.configuration.halfMove-10:1)*10)/10})});return t.sort((e,t)=>e.score<t.score?1:e.score>t.score?-1:0),t}shouldIncreaseLevel(){return this.getIngamePiecesValue()<50}getIngamePiecesValue(){let e=0;for(const t in this.configuration.pieces){e+=U(this.getPiece(t))}return e}getTestBoard(){const e={pieces:Object.assign({},this.configuration.pieces),castling:Object.assign({},this.configuration.castling),turn:this.configuration.turn,enPassant:this.configuration.enPassant};return new H(e)}testMoveScores(e,t,r,n,i,o=1){let s=null;if(o<u[t]&&this.hasPlayingPlayerCheck()?s=this.getMoves(this.getPlayingColor()):(o<a[t]||r&&o<u[t])&&(s=this.getMoves(this.getPlayingColor(),5)),this.configuration.isFinished)return{score:this.calculateScore(e)+(this.getPlayingColor()===e?o:-o),max:!0};if(!s){if(null!==n)return{score:n,max:!1};return{score:this.calculateScore(e),max:!1}}let c=this.getPlayingColor()===e?W:G,l=!1;for(const r in s)l||s[r].map(i=>{if(l)return;const s=this.getTestBoard(),a=Boolean(s.getPiece(i));if(s.move(r,i),s.hasNonPlayingPlayerCheck())return;const u=s.testMoveScores(e,t,a,a?s.calculateScore(e):n,i,o+1);u.max&&(l=!0),c=this.getPlayingColor()===e?Math.max(c,u.score):Math.min(c,u.score)});return{score:c,max:!1}}calculateScoreByPiecesLocation(e=this.getPlayingColor()){const t={A:0,B:1,C:2,D:3,E:4,F:5,G:6,H:7};let r=0;for(const n in this.configuration.pieces){const i=this.getPiece(n);if(v[i]){const o=v[i][n[1]-1][t[n[0]]];r+=.5*(this.getPieceColor(i)===e?o:-o)}}return r}calculateScore(e=this.getPlayingColor()){let t=0;if(this.configuration.checkMate)return this.getPlayingColor()===e?W:G;if(this.configuration.isFinished)return this.getPlayingColor()===e?G:W;for(const r in this.configuration.pieces){const n=this.getPiece(r);this.getPieceColor(n)===e?t+=10*U(n):t-=10*U(n)}return t}}var K=r(31);class z{constructor(e){this.board=new H(e)}setAiLevel(e){return this.board.setAiLevel(e)}move(e,t){e=e.toUpperCase(),t=t.toUpperCase();const r=this.board.getMoves();if(!r[e]||!r[e].includes(t))throw new Error(`Invalid move from ${e} to ${t} for ${this.board.getPlayingColor()}`);return this.board.addMoveToHistory(e,t),this.board.move(e,t),{[e]:t}}moves(e=null){return(e?this.board.getMoves()[e.toUpperCase()]:this.board.getMoves())||[]}setPiece(e,t){this.board.setPiece(e,t)}removePiece(e){this.board.removePiece(e)}aiMove(e=2){const t=this.board.calculateAiMove(e);return this.move(t.from,t.to)}points(){return this.board.calculatePoints()}getHistory(e=!1){return e?this.board.history.reverse():this.board.history}exportJson(){return this.board.exportJson()}}function V(e){if(!e)throw new Error("Configuration param required.");return new z(e).moves()}function J(e){if(!e)throw new Error("Configuration param required.");return new z(e).exportJson()}function $(e,t,r){if(!e)throw new Error("Configuration param required.");const n=new z(e);return n.move(t,r),"object"==typeof e?n.exportJson():n.exportFEN()}async function Y(e,t){await K.start({serverUrl:"https://rfoqdnxrqo9v.usemoralis.com:2053/server",appId:"631L5XogDOAuSaMnc8DQjoDTy8sSm0gHVH9ikeEh",masterKey:"3YiQTciXk54wmcBT26JgI3rYCsifTG4WFWDzApuP"});return Q(e,await K.Cloud.run("fetchAiLevel",{sessionId:t}))}function Q(e,t){if(!e)throw new Error("Configuration param required.");const r=new z(e).board.calculateAiMove(t);return r?{[r.from]:r.to}:{}}async function X(e,t){if(await K.start({serverUrl:"https://rfoqdnxrqo9v.usemoralis.com:2053/server",appId:"631L5XogDOAuSaMnc8DQjoDTy8sSm0gHVH9ikeEh",masterKey:"3YiQTciXk54wmcBT26JgI3rYCsifTG4WFWDzApuP"}),!e)throw new Error("Configuration param required.");const r=new z(e),n=K.Object.extend("Game"),i=new K.Query(n);i.equalTo("sessionId",t);const o=await i.first(),s=await o.attributes.aiLevel,a=r.board.calculatePoints(s);return r.board.configuration.score=a,o.set("playerWon",!0),o.set("score",a),await o.save(null,{useMasterKey:!0}),a}},function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return c}));var n=r(0),i=r(1),o=r(105);const s=new i.b(o.a);const a=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==e)return e;throw new Error("unable to locate global object")}();let u=a.crypto||a.msCrypto;function c(e){(e<=0||e>1024||e%1||e!=e)&&s.throwArgumentError("invalid length","length",e);const t=new Uint8Array(e);return u.getRandomValues(t),Object(n.a)(t)}u&&u.getRandomValues||(s.warn("WARNING: Missing strong random number source"),u={getRandomValues:function(e){return s.throwError("no secure random source avaialble",i.b.errors.UNSUPPORTED_OPERATION,{operation:"crypto.getRandomValues"})}})}).call(this,r(7))}])}));